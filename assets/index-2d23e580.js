(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function t(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=t(n);fetch(n.href,o)}})();function Gp(s,e){const t=Object.create(null),i=s.split(",");for(let n=0;n<i.length;n++)t[i[n]]=!0;return e?n=>!!t[n.toLowerCase()]:n=>!!t[n]}const Et={},er=[],ci=()=>{},lb=()=>!1,ab=/^on[^a-z]/,Od=s=>ab.test(s),Vp=s=>s.startsWith("onUpdate:"),At=Object.assign,Hp=(s,e)=>{const t=s.indexOf(e);t>-1&&s.splice(t,1)},cb=Object.prototype.hasOwnProperty,lt=(s,e)=>cb.call(s,e),Ie=Array.isArray,tr=s=>Vr(s)==="[object Map]",_d=s=>Vr(s)==="[object Set]",Wg=s=>Vr(s)==="[object Date]",Ye=s=>typeof s=="function",bt=s=>typeof s=="string",kl=s=>typeof s=="symbol",Ct=s=>s!==null&&typeof s=="object",Yc=s=>Ct(s)&&Ye(s.then)&&Ye(s.catch),Kv=Object.prototype.toString,Vr=s=>Kv.call(s),Yv=s=>Vr(s).slice(8,-1),qv=s=>Vr(s)==="[object Object]",kp=s=>bt(s)&&s!=="NaN"&&s[0]!=="-"&&""+parseInt(s,10)===s,Lc=Gp(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Pd=s=>{const e=Object.create(null);return t=>e[t]||(e[t]=s(t))},db=/-(\w)/g,Ss=Pd(s=>s.replace(db,(e,t)=>t?t.toUpperCase():"")),ub=/\B([A-Z])/g,Hr=Pd(s=>s.replace(ub,"-$1").toLowerCase()),Ad=Pd(s=>s.charAt(0).toUpperCase()+s.slice(1)),$u=Pd(s=>s?`on${Ad(s)}`:""),Bl=(s,e)=>!Object.is(s,e),Ic=(s,e)=>{for(let t=0;t<s.length;t++)s[t](e)},qc=(s,e,t)=>{Object.defineProperty(s,e,{configurable:!0,enumerable:!1,value:t})},Gh=s=>{const e=parseFloat(s);return isNaN(e)?s:e},hb=s=>{const e=bt(s)?Number(s):NaN;return isNaN(e)?s:e};let Ug;const Vh=()=>Ug||(Ug=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ii(s){if(Ie(s)){const e={};for(let t=0;t<s.length;t++){const i=s[t],n=bt(i)?mb(i):ii(i);if(n)for(const o in n)e[o]=n[o]}return e}else{if(bt(s))return s;if(Ct(s))return s}}const pb=/;(?![^(]*\))/g,fb=/:([^]+)/,gb=/\/\*[^]*?\*\//g;function mb(s){const e={};return s.replace(gb,"").split(pb).forEach(t=>{if(t){const i=t.split(fb);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Re(s){let e="";if(bt(s))e=s;else if(Ie(s))for(let t=0;t<s.length;t++){const i=Re(s[t]);i&&(e+=i+" ")}else if(Ct(s))for(const t in s)s[t]&&(e+=t+" ");return e.trim()}const vb="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Cb=Gp(vb);function Qv(s){return!!s||s===""}function yb(s,e){if(s.length!==e.length)return!1;let t=!0;for(let i=0;t&&i<s.length;i++)t=dr(s[i],e[i]);return t}function dr(s,e){if(s===e)return!0;let t=Wg(s),i=Wg(e);if(t||i)return t&&i?s.getTime()===e.getTime():!1;if(t=kl(s),i=kl(e),t||i)return s===e;if(t=Ie(s),i=Ie(e),t||i)return t&&i?yb(s,e):!1;if(t=Ct(s),i=Ct(e),t||i){if(!t||!i)return!1;const n=Object.keys(s).length,o=Object.keys(e).length;if(n!==o)return!1;for(const r in s){const l=s.hasOwnProperty(r),a=e.hasOwnProperty(r);if(l&&!a||!l&&a||!dr(s[r],e[r]))return!1}}return String(s)===String(e)}function Xv(s,e){return s.findIndex(t=>dr(t,e))}const Ve=s=>bt(s)?s:s==null?"":Ie(s)||Ct(s)&&(s.toString===Kv||!Ye(s.toString))?JSON.stringify(s,Jv,2):String(s),Jv=(s,e)=>e&&e.__v_isRef?Jv(s,e.value):tr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[i,n])=>(t[`${i} =>`]=n,t),{})}:_d(e)?{[`Set(${e.size})`]:[...e.values()]}:Ct(e)&&!Ie(e)&&!qv(e)?String(e):e;let Pi;class wb{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Pi,!e&&Pi&&(this.index=(Pi.scopes||(Pi.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const t=Pi;try{return Pi=this,e()}finally{Pi=t}}}on(){Pi=this}off(){Pi=this.parent}stop(e){if(this._active){let t,i;for(t=0,i=this.effects.length;t<i;t++)this.effects[t].stop();for(t=0,i=this.cleanups.length;t<i;t++)this.cleanups[t]();if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0,this._active=!1}}}function Sb(s,e=Pi){e&&e.active&&e.effects.push(s)}function bb(){return Pi}function Eb(s){Pi&&Pi.cleanups.push(s)}const Bp=s=>{const e=new Set(s);return e.w=0,e.n=0,e},Zv=s=>(s.w&Bn)>0,eC=s=>(s.n&Bn)>0,Rb=({deps:s})=>{if(s.length)for(let e=0;e<s.length;e++)s[e].w|=Bn},Tb=s=>{const{deps:e}=s;if(e.length){let t=0;for(let i=0;i<e.length;i++){const n=e[i];Zv(n)&&!eC(n)?n.delete(s):e[t++]=n,n.w&=~Bn,n.n&=~Bn}e.length=t}},Qc=new WeakMap;let yl=0,Bn=1;const Hh=30;let hs;const Co=Symbol(""),kh=Symbol("");class $p{constructor(e,t=null,i){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,Sb(this,i)}run(){if(!this.active)return this.fn();let e=hs,t=xn;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=hs,hs=this,xn=!0,Bn=1<<++yl,yl<=Hh?Rb(this):jg(this),this.fn()}finally{yl<=Hh&&Tb(this),Bn=1<<--yl,hs=this.parent,xn=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){hs===this?this.deferStop=!0:this.active&&(jg(this),this.onStop&&this.onStop(),this.active=!1)}}function jg(s){const{deps:e}=s;if(e.length){for(let t=0;t<e.length;t++)e[t].delete(s);e.length=0}}let xn=!0;const tC=[];function kr(){tC.push(xn),xn=!1}function Br(){const s=tC.pop();xn=s===void 0?!0:s}function wi(s,e,t){if(xn&&hs){let i=Qc.get(s);i||Qc.set(s,i=new Map);let n=i.get(t);n||i.set(t,n=Bp()),iC(n)}}function iC(s,e){let t=!1;yl<=Hh?eC(s)||(s.n|=Bn,t=!Zv(s)):t=!s.has(hs),t&&(s.add(hs),hs.deps.push(s))}function hn(s,e,t,i,n,o){const r=Qc.get(s);if(!r)return;let l=[];if(e==="clear")l=[...r.values()];else if(t==="length"&&Ie(s)){const a=Number(i);r.forEach((c,d)=>{(d==="length"||d>=a)&&l.push(c)})}else switch(t!==void 0&&l.push(r.get(t)),e){case"add":Ie(s)?kp(t)&&l.push(r.get("length")):(l.push(r.get(Co)),tr(s)&&l.push(r.get(kh)));break;case"delete":Ie(s)||(l.push(r.get(Co)),tr(s)&&l.push(r.get(kh)));break;case"set":tr(s)&&l.push(r.get(Co));break}if(l.length===1)l[0]&&Bh(l[0]);else{const a=[];for(const c of l)c&&a.push(...c);Bh(Bp(a))}}function Bh(s,e){const t=Ie(s)?s:[...s];for(const i of t)i.computed&&zg(i);for(const i of t)i.computed||zg(i)}function zg(s,e){(s!==hs||s.allowRecurse)&&(s.scheduler?s.scheduler():s.run())}function Db(s,e){var t;return(t=Qc.get(s))==null?void 0:t.get(e)}const Ob=Gp("__proto__,__v_isRef,__isVue"),sC=new Set(Object.getOwnPropertyNames(Symbol).filter(s=>s!=="arguments"&&s!=="caller").map(s=>Symbol[s]).filter(kl)),_b=Wp(),Pb=Wp(!1,!0),Ab=Wp(!0),Kg=Fb();function Fb(){const s={};return["includes","indexOf","lastIndexOf"].forEach(e=>{s[e]=function(...t){const i=tt(this);for(let o=0,r=this.length;o<r;o++)wi(i,"get",o+"");const n=i[e](...t);return n===-1||n===!1?i[e](...t.map(tt)):n}}),["push","pop","shift","unshift","splice"].forEach(e=>{s[e]=function(...t){kr();const i=tt(this)[e].apply(this,t);return Br(),i}}),s}function Mb(s){const e=tt(this);return wi(e,"has",s),e.hasOwnProperty(s)}function Wp(s=!1,e=!1){return function(i,n,o){if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return e;if(n==="__v_raw"&&o===(s?e?Yb:aC:e?lC:rC).get(i))return i;const r=Ie(i);if(!s){if(r&&lt(Kg,n))return Reflect.get(Kg,n,o);if(n==="hasOwnProperty")return Mb}const l=Reflect.get(i,n,o);return(kl(n)?sC.has(n):Ob(n))||(s||wi(i,"get",n),e)?l:Vt(l)?r&&kp(n)?l:l.value:Ct(l)?s?dC(l):yt(l):l}}const Lb=nC(),Ib=nC(!0);function nC(s=!1){return function(t,i,n,o){let r=t[i];if(ur(r)&&Vt(r)&&!Vt(n))return!1;if(!s&&(!Xc(n)&&!ur(n)&&(r=tt(r),n=tt(n)),!Ie(t)&&Vt(r)&&!Vt(n)))return r.value=n,!0;const l=Ie(t)&&kp(i)?Number(i)<t.length:lt(t,i),a=Reflect.set(t,i,n,o);return t===tt(o)&&(l?Bl(n,r)&&hn(t,"set",i,n):hn(t,"add",i,n)),a}}function Nb(s,e){const t=lt(s,e);s[e];const i=Reflect.deleteProperty(s,e);return i&&t&&hn(s,"delete",e,void 0),i}function xb(s,e){const t=Reflect.has(s,e);return(!kl(e)||!sC.has(e))&&wi(s,"has",e),t}function Gb(s){return wi(s,"iterate",Ie(s)?"length":Co),Reflect.ownKeys(s)}const oC={get:_b,set:Lb,deleteProperty:Nb,has:xb,ownKeys:Gb},Vb={get:Ab,set(s,e){return!0},deleteProperty(s,e){return!0}},Hb=At({},oC,{get:Pb,set:Ib}),Up=s=>s,Fd=s=>Reflect.getPrototypeOf(s);function wc(s,e,t=!1,i=!1){s=s.__v_raw;const n=tt(s),o=tt(e);t||(e!==o&&wi(n,"get",e),wi(n,"get",o));const{has:r}=Fd(n),l=i?Up:t?Kp:$l;if(r.call(n,e))return l(s.get(e));if(r.call(n,o))return l(s.get(o));s!==n&&s.get(e)}function Sc(s,e=!1){const t=this.__v_raw,i=tt(t),n=tt(s);return e||(s!==n&&wi(i,"has",s),wi(i,"has",n)),s===n?t.has(s):t.has(s)||t.has(n)}function bc(s,e=!1){return s=s.__v_raw,!e&&wi(tt(s),"iterate",Co),Reflect.get(s,"size",s)}function Yg(s){s=tt(s);const e=tt(this);return Fd(e).has.call(e,s)||(e.add(s),hn(e,"add",s,s)),this}function qg(s,e){e=tt(e);const t=tt(this),{has:i,get:n}=Fd(t);let o=i.call(t,s);o||(s=tt(s),o=i.call(t,s));const r=n.call(t,s);return t.set(s,e),o?Bl(e,r)&&hn(t,"set",s,e):hn(t,"add",s,e),this}function Qg(s){const e=tt(this),{has:t,get:i}=Fd(e);let n=t.call(e,s);n||(s=tt(s),n=t.call(e,s)),i&&i.call(e,s);const o=e.delete(s);return n&&hn(e,"delete",s,void 0),o}function Xg(){const s=tt(this),e=s.size!==0,t=s.clear();return e&&hn(s,"clear",void 0,void 0),t}function Ec(s,e){return function(i,n){const o=this,r=o.__v_raw,l=tt(r),a=e?Up:s?Kp:$l;return!s&&wi(l,"iterate",Co),r.forEach((c,d)=>i.call(n,a(c),a(d),o))}}function Rc(s,e,t){return function(...i){const n=this.__v_raw,o=tt(n),r=tr(o),l=s==="entries"||s===Symbol.iterator&&r,a=s==="keys"&&r,c=n[s](...i),d=t?Up:e?Kp:$l;return!e&&wi(o,"iterate",a?kh:Co),{next(){const{value:u,done:h}=c.next();return h?{value:u,done:h}:{value:l?[d(u[0]),d(u[1])]:d(u),done:h}},[Symbol.iterator](){return this}}}}function Tn(s){return function(...e){return s==="delete"?!1:this}}function kb(){const s={get(o){return wc(this,o)},get size(){return bc(this)},has:Sc,add:Yg,set:qg,delete:Qg,clear:Xg,forEach:Ec(!1,!1)},e={get(o){return wc(this,o,!1,!0)},get size(){return bc(this)},has:Sc,add:Yg,set:qg,delete:Qg,clear:Xg,forEach:Ec(!1,!0)},t={get(o){return wc(this,o,!0)},get size(){return bc(this,!0)},has(o){return Sc.call(this,o,!0)},add:Tn("add"),set:Tn("set"),delete:Tn("delete"),clear:Tn("clear"),forEach:Ec(!0,!1)},i={get(o){return wc(this,o,!0,!0)},get size(){return bc(this,!0)},has(o){return Sc.call(this,o,!0)},add:Tn("add"),set:Tn("set"),delete:Tn("delete"),clear:Tn("clear"),forEach:Ec(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{s[o]=Rc(o,!1,!1),t[o]=Rc(o,!0,!1),e[o]=Rc(o,!1,!0),i[o]=Rc(o,!0,!0)}),[s,t,e,i]}const[Bb,$b,Wb,Ub]=kb();function jp(s,e){const t=e?s?Ub:Wb:s?$b:Bb;return(i,n,o)=>n==="__v_isReactive"?!s:n==="__v_isReadonly"?s:n==="__v_raw"?i:Reflect.get(lt(t,n)&&n in i?t:i,n,o)}const jb={get:jp(!1,!1)},zb={get:jp(!1,!0)},Kb={get:jp(!0,!1)},rC=new WeakMap,lC=new WeakMap,aC=new WeakMap,Yb=new WeakMap;function qb(s){switch(s){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Qb(s){return s.__v_skip||!Object.isExtensible(s)?0:qb(Yv(s))}function yt(s){return ur(s)?s:zp(s,!1,oC,jb,rC)}function cC(s){return zp(s,!1,Hb,zb,lC)}function dC(s){return zp(s,!0,Vb,Kb,aC)}function zp(s,e,t,i,n){if(!Ct(s)||s.__v_raw&&!(e&&s.__v_isReactive))return s;const o=n.get(s);if(o)return o;const r=Qb(s);if(r===0)return s;const l=new Proxy(s,r===2?i:t);return n.set(s,l),l}function ir(s){return ur(s)?ir(s.__v_raw):!!(s&&s.__v_isReactive)}function ur(s){return!!(s&&s.__v_isReadonly)}function Xc(s){return!!(s&&s.__v_isShallow)}function uC(s){return ir(s)||ur(s)}function tt(s){const e=s&&s.__v_raw;return e?tt(e):s}function Rl(s){return qc(s,"__v_skip",!0),s}const $l=s=>Ct(s)?yt(s):s,Kp=s=>Ct(s)?dC(s):s;function hC(s){xn&&hs&&(s=tt(s),iC(s.dep||(s.dep=Bp())))}function pC(s,e){s=tt(s);const t=s.dep;t&&Bh(t)}function Vt(s){return!!(s&&s.__v_isRef===!0)}function K(s){return fC(s,!1)}function Xb(s){return fC(s,!0)}function fC(s,e){return Vt(s)?s:new Jb(s,e)}class Jb{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:tt(e),this._value=t?e:$l(e)}get value(){return hC(this),this._value}set value(e){const t=this.__v_isShallow||Xc(e)||ur(e);e=t?e:tt(e),Bl(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:$l(e),pC(this))}}function sr(s){return Vt(s)?s.value:s}const Zb={get:(s,e,t)=>sr(Reflect.get(s,e,t)),set:(s,e,t,i)=>{const n=s[e];return Vt(n)&&!Vt(t)?(n.value=t,!0):Reflect.set(s,e,t,i)}};function gC(s){return ir(s)?s:new Proxy(s,Zb)}function jt(s){const e=Ie(s)?new Array(s.length):{};for(const t in s)e[t]=tE(s,t);return e}class eE{constructor(e,t,i){this._object=e,this._key=t,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Db(tt(this._object),this._key)}}function tE(s,e,t){const i=s[e];return Vt(i)?i:new eE(s,e,t)}class iE{constructor(e,t,i,n){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new $p(e,()=>{this._dirty||(this._dirty=!0,pC(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=i}get value(){const e=tt(this);return hC(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function sE(s,e,t=!1){let i,n;const o=Ye(s);return o?(i=s,n=ci):(i=s.get,n=s.set),new iE(i,n,o||!n,t)}function Gn(s,e,t,i){let n;try{n=i?s(...i):s()}catch(o){Md(o,e,t)}return n}function Xi(s,e,t,i){if(Ye(s)){const o=Gn(s,e,t,i);return o&&Yc(o)&&o.catch(r=>{Md(r,e,t)}),o}const n=[];for(let o=0;o<s.length;o++)n.push(Xi(s[o],e,t,i));return n}function Md(s,e,t,i=!0){const n=e?e.vnode:null;if(e){let o=e.parent;const r=e.proxy,l=t;for(;o;){const c=o.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](s,r,l)===!1)return}o=o.parent}const a=e.appContext.config.errorHandler;if(a){Gn(a,null,10,[s,r,l]);return}}nE(s,t,n,i)}function nE(s,e,t,i=!0){console.error(s)}let Wl=!1,$h=!1;const Jt=[];let Gs=0;const nr=[];let rn=null,po=0;const mC=Promise.resolve();let Yp=null;function Si(s){const e=Yp||mC;return s?e.then(this?s.bind(this):s):e}function oE(s){let e=Gs+1,t=Jt.length;for(;e<t;){const i=e+t>>>1;Ul(Jt[i])<s?e=i+1:t=i}return e}function qp(s){(!Jt.length||!Jt.includes(s,Wl&&s.allowRecurse?Gs+1:Gs))&&(s.id==null?Jt.push(s):Jt.splice(oE(s.id),0,s),vC())}function vC(){!Wl&&!$h&&($h=!0,Yp=mC.then(yC))}function rE(s){const e=Jt.indexOf(s);e>Gs&&Jt.splice(e,1)}function lE(s){Ie(s)?nr.push(...s):(!rn||!rn.includes(s,s.allowRecurse?po+1:po))&&nr.push(s),vC()}function Jg(s,e=Wl?Gs+1:0){for(;e<Jt.length;e++){const t=Jt[e];t&&t.pre&&(Jt.splice(e,1),e--,t())}}function CC(s){if(nr.length){const e=[...new Set(nr)];if(nr.length=0,rn){rn.push(...e);return}for(rn=e,rn.sort((t,i)=>Ul(t)-Ul(i)),po=0;po<rn.length;po++)rn[po]();rn=null,po=0}}const Ul=s=>s.id==null?1/0:s.id,aE=(s,e)=>{const t=Ul(s)-Ul(e);if(t===0){if(s.pre&&!e.pre)return-1;if(e.pre&&!s.pre)return 1}return t};function yC(s){$h=!1,Wl=!0,Jt.sort(aE);const e=ci;try{for(Gs=0;Gs<Jt.length;Gs++){const t=Jt[Gs];t&&t.active!==!1&&Gn(t,null,14)}}finally{Gs=0,Jt.length=0,CC(),Wl=!1,Yp=null,(Jt.length||nr.length)&&yC()}}function cE(s,e,...t){if(s.isUnmounted)return;const i=s.vnode.props||Et;let n=t;const o=e.startsWith("update:"),r=o&&e.slice(7);if(r&&r in i){const d=`${r==="modelValue"?"model":r}Modifiers`,{number:u,trim:h}=i[d]||Et;h&&(n=t.map(p=>bt(p)?p.trim():p)),u&&(n=t.map(Gh))}let l,a=i[l=$u(e)]||i[l=$u(Ss(e))];!a&&o&&(a=i[l=$u(Hr(e))]),a&&Xi(a,s,6,n);const c=i[l+"Once"];if(c){if(!s.emitted)s.emitted={};else if(s.emitted[l])return;s.emitted[l]=!0,Xi(c,s,6,n)}}function wC(s,e,t=!1){const i=e.emitsCache,n=i.get(s);if(n!==void 0)return n;const o=s.emits;let r={},l=!1;if(!Ye(s)){const a=c=>{const d=wC(c,e,!0);d&&(l=!0,At(r,d))};!t&&e.mixins.length&&e.mixins.forEach(a),s.extends&&a(s.extends),s.mixins&&s.mixins.forEach(a)}return!o&&!l?(Ct(s)&&i.set(s,null),null):(Ie(o)?o.forEach(a=>r[a]=null):At(r,o),Ct(s)&&i.set(s,r),r)}function Ld(s,e){return!s||!Od(e)?!1:(e=e.slice(2).replace(/Once$/,""),lt(s,e[0].toLowerCase()+e.slice(1))||lt(s,Hr(e))||lt(s,e))}let Ut=null,Id=null;function Jc(s){const e=Ut;return Ut=s,Id=s&&s.type.__scopeId||null,e}function Ds(s){Id=s}function Os(){Id=null}function qe(s,e=Ut,t){if(!e||s._n)return s;const i=(...n)=>{i._d&&um(-1);const o=Jc(e);let r;try{r=s(...n)}finally{Jc(o),i._d&&um(1)}return r};return i._n=!0,i._c=!0,i._d=!0,i}function Wu(s){const{type:e,vnode:t,proxy:i,withProxy:n,props:o,propsOptions:[r],slots:l,attrs:a,emit:c,render:d,renderCache:u,data:h,setupState:p,ctx:g,inheritAttrs:f}=s;let v,w;const C=Jc(s);try{if(t.shapeFlag&4){const b=n||i;v=Ls(d.call(b,b,u,o,p,h,g)),w=a}else{const b=e;v=Ls(b.length>1?b(o,{attrs:a,slots:l,emit:c}):b(o,null)),w=e.props?a:dE(a)}}catch(b){_l.length=0,Md(b,s,1),v=le(Li)}let E=v;if(w&&f!==!1){const b=Object.keys(w),{shapeFlag:S}=E;b.length&&S&7&&(r&&b.some(Vp)&&(w=uE(w,r)),E=Bs(E,w))}return t.dirs&&(E=Bs(E),E.dirs=E.dirs?E.dirs.concat(t.dirs):t.dirs),t.transition&&(E.transition=t.transition),v=E,Jc(C),v}const dE=s=>{let e;for(const t in s)(t==="class"||t==="style"||Od(t))&&((e||(e={}))[t]=s[t]);return e},uE=(s,e)=>{const t={};for(const i in s)(!Vp(i)||!(i.slice(9)in e))&&(t[i]=s[i]);return t};function hE(s,e,t){const{props:i,children:n,component:o}=s,{props:r,children:l,patchFlag:a}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&a>=0){if(a&1024)return!0;if(a&16)return i?Zg(i,r,c):!!r;if(a&8){const d=e.dynamicProps;for(let u=0;u<d.length;u++){const h=d[u];if(r[h]!==i[h]&&!Ld(c,h))return!0}}}else return(n||l)&&(!l||!l.$stable)?!0:i===r?!1:i?r?Zg(i,r,c):!0:!!r;return!1}function Zg(s,e,t){const i=Object.keys(e);if(i.length!==Object.keys(s).length)return!0;for(let n=0;n<i.length;n++){const o=i[n];if(e[o]!==s[o]&&!Ld(t,o))return!0}return!1}function pE({vnode:s,parent:e},t){for(;e&&e.subTree===s;)(s=e.vnode).el=t,e=e.parent}const fE=s=>s.__isSuspense;function gE(s,e){e&&e.pendingBranch?Ie(s)?e.effects.push(...s):e.effects.push(s):lE(s)}function mE(s,e){return Nd(s,null,e)}function vE(s,e){return Nd(s,null,{flush:"post"})}const Tc={};function pt(s,e,t){return Nd(s,e,t)}function Nd(s,e,{immediate:t,deep:i,flush:n,onTrack:o,onTrigger:r}=Et){var l;const a=bb()===((l=Gt)==null?void 0:l.scope)?Gt:null;let c,d=!1,u=!1;if(Vt(s)?(c=()=>s.value,d=Xc(s)):ir(s)?(c=()=>s,i=!0):Ie(s)?(u=!0,d=s.some(b=>ir(b)||Xc(b)),c=()=>s.map(b=>{if(Vt(b))return b.value;if(ir(b))return mo(b);if(Ye(b))return Gn(b,a,2)})):Ye(s)?e?c=()=>Gn(s,a,2):c=()=>{if(!(a&&a.isUnmounted))return h&&h(),Xi(s,a,3,[p])}:c=ci,e&&i){const b=c;c=()=>mo(b())}let h,p=b=>{h=C.onStop=()=>{Gn(b,a,4)}},g;if(zl)if(p=ci,e?t&&Xi(e,a,3,[c(),u?[]:void 0,p]):c(),n==="sync"){const b=cR();g=b.__watcherHandles||(b.__watcherHandles=[])}else return ci;let f=u?new Array(s.length).fill(Tc):Tc;const v=()=>{if(C.active)if(e){const b=C.run();(i||d||(u?b.some((S,T)=>Bl(S,f[T])):Bl(b,f)))&&(h&&h(),Xi(e,a,3,[b,f===Tc?void 0:u&&f[0]===Tc?[]:f,p]),f=b)}else C.run()};v.allowRecurse=!!e;let w;n==="sync"?w=v:n==="post"?w=()=>fi(v,a&&a.suspense):(v.pre=!0,a&&(v.id=a.uid),w=()=>qp(v));const C=new $p(c,w);e?t?v():f=C.run():n==="post"?fi(C.run.bind(C),a&&a.suspense):C.run();const E=()=>{C.stop(),a&&a.scope&&Hp(a.scope.effects,C)};return g&&g.push(E),E}function CE(s,e,t){const i=this.proxy,n=bt(s)?s.includes(".")?SC(i,s):()=>i[s]:s.bind(i,i);let o;Ye(e)?o=e:(o=e.handler,t=e);const r=Gt;hr(this);const l=Nd(n,o.bind(i),t);return r?hr(r):yo(),l}function SC(s,e){const t=e.split(".");return()=>{let i=s;for(let n=0;n<t.length&&i;n++)i=i[t[n]];return i}}function mo(s,e){if(!Ct(s)||s.__v_skip||(e=e||new Set,e.has(s)))return s;if(e.add(s),Vt(s))mo(s.value,e);else if(Ie(s))for(let t=0;t<s.length;t++)mo(s[t],e);else if(_d(s)||tr(s))s.forEach(t=>{mo(t,e)});else if(qv(s))for(const t in s)mo(s[t],e);return s}function at(s,e){const t=Ut;if(t===null)return s;const i=$d(t)||t.proxy,n=s.dirs||(s.dirs=[]);for(let o=0;o<e.length;o++){let[r,l,a,c=Et]=e[o];r&&(Ye(r)&&(r={mounted:r,updated:r}),r.deep&&mo(l),n.push({dir:r,instance:i,value:l,oldValue:void 0,arg:a,modifiers:c}))}return s}function lo(s,e,t,i){const n=s.dirs,o=e&&e.dirs;for(let r=0;r<n.length;r++){const l=n[r];o&&(l.oldValue=o[r].value);let a=l.dir[i];a&&(kr(),Xi(a,t,8,[s.el,l,s,e]),Br())}}function yE(){const s={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return xt(()=>{s.isMounted=!0}),Qs(()=>{s.isUnmounting=!0}),s}const Ki=[Function,Array],bC={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ki,onEnter:Ki,onAfterEnter:Ki,onEnterCancelled:Ki,onBeforeLeave:Ki,onLeave:Ki,onAfterLeave:Ki,onLeaveCancelled:Ki,onBeforeAppear:Ki,onAppear:Ki,onAfterAppear:Ki,onAppearCancelled:Ki},wE={name:"BaseTransition",props:bC,setup(s,{slots:e}){const t=$r(),i=yE();let n;return()=>{const o=e.default&&RC(e.default(),!0);if(!o||!o.length)return;let r=o[0];if(o.length>1){for(const f of o)if(f.type!==Li){r=f;break}}const l=tt(s),{mode:a}=l;if(i.isLeaving)return Uu(r);const c=em(r);if(!c)return Uu(r);const d=Wh(c,l,i,t);Uh(c,d);const u=t.subTree,h=u&&em(u);let p=!1;const{getTransitionKey:g}=c.type;if(g){const f=g();n===void 0?n=f:f!==n&&(n=f,p=!0)}if(h&&h.type!==Li&&(!fo(c,h)||p)){const f=Wh(h,l,i,t);if(Uh(h,f),a==="out-in")return i.isLeaving=!0,f.afterLeave=()=>{i.isLeaving=!1,t.update.active!==!1&&t.update()},Uu(r);a==="in-out"&&c.type!==Li&&(f.delayLeave=(v,w,C)=>{const E=EC(i,h);E[String(h.key)]=h,v._leaveCb=()=>{w(),v._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=C})}return r}}},SE=wE;function EC(s,e){const{leavingVNodes:t}=s;let i=t.get(e.type);return i||(i=Object.create(null),t.set(e.type,i)),i}function Wh(s,e,t,i){const{appear:n,mode:o,persisted:r=!1,onBeforeEnter:l,onEnter:a,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:u,onLeave:h,onAfterLeave:p,onLeaveCancelled:g,onBeforeAppear:f,onAppear:v,onAfterAppear:w,onAppearCancelled:C}=e,E=String(s.key),b=EC(t,s),S=(_,G)=>{_&&Xi(_,i,9,G)},T=(_,G)=>{const k=G[1];S(_,G),Ie(_)?_.every(H=>H.length<=1)&&k():_.length<=1&&k()},D={mode:o,persisted:r,beforeEnter(_){let G=l;if(!t.isMounted)if(n)G=f||l;else return;_._leaveCb&&_._leaveCb(!0);const k=b[E];k&&fo(s,k)&&k.el._leaveCb&&k.el._leaveCb(),S(G,[_])},enter(_){let G=a,k=c,H=d;if(!t.isMounted)if(n)G=v||a,k=w||c,H=C||d;else return;let W=!1;const P=_._enterCb=N=>{W||(W=!0,N?S(H,[_]):S(k,[_]),D.delayedLeave&&D.delayedLeave(),_._enterCb=void 0)};G?T(G,[_,P]):P()},leave(_,G){const k=String(s.key);if(_._enterCb&&_._enterCb(!0),t.isUnmounting)return G();S(u,[_]);let H=!1;const W=_._leaveCb=P=>{H||(H=!0,G(),P?S(g,[_]):S(p,[_]),_._leaveCb=void 0,b[k]===s&&delete b[k])};b[k]=s,h?T(h,[_,W]):W()},clone(_){return Wh(_,e,t,i)}};return D}function Uu(s){if(xd(s))return s=Bs(s),s.children=null,s}function em(s){return xd(s)?s.children?s.children[0]:void 0:s}function Uh(s,e){s.shapeFlag&6&&s.component?Uh(s.component.subTree,e):s.shapeFlag&128?(s.ssContent.transition=e.clone(s.ssContent),s.ssFallback.transition=e.clone(s.ssFallback)):s.transition=e}function RC(s,e=!1,t){let i=[],n=0;for(let o=0;o<s.length;o++){let r=s[o];const l=t==null?r.key:String(t)+String(r.key!=null?r.key:o);r.type===Ue?(r.patchFlag&128&&n++,i=i.concat(RC(r.children,e,l))):(e||r.type!==Li)&&i.push(l!=null?Bs(r,{key:l}):r)}if(n>1)for(let o=0;o<i.length;o++)i[o].patchFlag=-2;return i}function Ae(s,e){return Ye(s)?(()=>At({name:s.name},e,{setup:s}))():s}const Tl=s=>!!s.type.__asyncLoader,xd=s=>s.type.__isKeepAlive;function Qp(s,e){TC(s,"a",e)}function Gd(s,e){TC(s,"da",e)}function TC(s,e,t=Gt){const i=s.__wdc||(s.__wdc=()=>{let n=t;for(;n;){if(n.isDeactivated)return;n=n.parent}return s()});if(Vd(e,i,t),t){let n=t.parent;for(;n&&n.parent;)xd(n.parent.vnode)&&bE(i,e,t,n),n=n.parent}}function bE(s,e,t,i){const n=Vd(e,s,i,!0);Hd(()=>{Hp(i[e],n)},t)}function Vd(s,e,t=Gt,i=!1){if(t){const n=t[s]||(t[s]=[]),o=e.__weh||(e.__weh=(...r)=>{if(t.isUnmounted)return;kr(),hr(t);const l=Xi(e,t,s,r);return yo(),Br(),l});return i?n.unshift(o):n.push(o),o}}const Cn=s=>(e,t=Gt)=>(!zl||s==="sp")&&Vd(s,(...i)=>e(...i),t),EE=Cn("bm"),xt=Cn("m"),RE=Cn("bu"),DC=Cn("u"),Qs=Cn("bum"),Hd=Cn("um"),TE=Cn("sp"),DE=Cn("rtg"),OE=Cn("rtc");function _E(s,e=Gt){Vd("ec",s,e)}const Xp="components",PE="directives";function we(s,e){return Jp(Xp,s,!0,e)||s}const OC=Symbol.for("v-ndc");function _C(s){return bt(s)?Jp(Xp,s,!1)||s:s||OC}function Ea(s){return Jp(PE,s)}function Jp(s,e,t=!0,i=!1){const n=Ut||Gt;if(n){const o=n.type;if(s===Xp){const l=rR(o,!1);if(l&&(l===e||l===Ss(e)||l===Ad(Ss(e))))return o}const r=tm(n[s]||o[s],e)||tm(n.appContext[s],e);return!r&&i?o:r}}function tm(s,e){return s&&(s[e]||s[Ss(e)]||s[Ad(Ss(e))])}function vi(s,e,t,i){let n;const o=t&&t[i];if(Ie(s)||bt(s)){n=new Array(s.length);for(let r=0,l=s.length;r<l;r++)n[r]=e(s[r],r,void 0,o&&o[r])}else if(typeof s=="number"){n=new Array(s);for(let r=0;r<s;r++)n[r]=e(r+1,r,void 0,o&&o[r])}else if(Ct(s))if(s[Symbol.iterator])n=Array.from(s,(r,l)=>e(r,l,void 0,o&&o[l]));else{const r=Object.keys(s);n=new Array(r.length);for(let l=0,a=r.length;l<a;l++){const c=r[l];n[l]=e(s[c],c,l,o&&o[l])}}else n=[];return t&&(t[i]=n),n}function it(s,e,t={},i,n){if(Ut.isCE||Ut.parent&&Tl(Ut.parent)&&Ut.parent.isCE)return e!=="default"&&(t.name=e),le("slot",t,i&&i());let o=s[e];o&&o._c&&(o._d=!1),U();const r=o&&PC(o(t)),l=ot(Ue,{key:t.key||r&&r.key||`_${e}`},r||(i?i():[]),r&&s._===1?64:-2);return!n&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o._c&&(o._d=!0),l}function PC(s){return s.some(e=>td(e)?!(e.type===Li||e.type===Ue&&!PC(e.children)):!0)?s:null}const jh=s=>s?kC(s)?$d(s)||s.proxy:jh(s.parent):null,Dl=At(Object.create(null),{$:s=>s,$el:s=>s.vnode.el,$data:s=>s.data,$props:s=>s.props,$attrs:s=>s.attrs,$slots:s=>s.slots,$refs:s=>s.refs,$parent:s=>jh(s.parent),$root:s=>jh(s.root),$emit:s=>s.emit,$options:s=>Zp(s),$forceUpdate:s=>s.f||(s.f=()=>qp(s.update)),$nextTick:s=>s.n||(s.n=Si.bind(s.proxy)),$watch:s=>CE.bind(s)}),ju=(s,e)=>s!==Et&&!s.__isScriptSetup&&lt(s,e),AE={get({_:s},e){const{ctx:t,setupState:i,data:n,props:o,accessCache:r,type:l,appContext:a}=s;let c;if(e[0]!=="$"){const p=r[e];if(p!==void 0)switch(p){case 1:return i[e];case 2:return n[e];case 4:return t[e];case 3:return o[e]}else{if(ju(i,e))return r[e]=1,i[e];if(n!==Et&&lt(n,e))return r[e]=2,n[e];if((c=s.propsOptions[0])&&lt(c,e))return r[e]=3,o[e];if(t!==Et&&lt(t,e))return r[e]=4,t[e];zh&&(r[e]=0)}}const d=Dl[e];let u,h;if(d)return e==="$attrs"&&wi(s,"get",e),d(s);if((u=l.__cssModules)&&(u=u[e]))return u;if(t!==Et&&lt(t,e))return r[e]=4,t[e];if(h=a.config.globalProperties,lt(h,e))return h[e]},set({_:s},e,t){const{data:i,setupState:n,ctx:o}=s;return ju(n,e)?(n[e]=t,!0):i!==Et&&lt(i,e)?(i[e]=t,!0):lt(s.props,e)||e[0]==="$"&&e.slice(1)in s?!1:(o[e]=t,!0)},has({_:{data:s,setupState:e,accessCache:t,ctx:i,appContext:n,propsOptions:o}},r){let l;return!!t[r]||s!==Et&&lt(s,r)||ju(e,r)||(l=o[0])&&lt(l,r)||lt(i,r)||lt(Dl,r)||lt(n.config.globalProperties,r)},defineProperty(s,e,t){return t.get!=null?s._.accessCache[e]=0:lt(t,"value")&&this.set(s,e,t.value,null),Reflect.defineProperty(s,e,t)}};function im(s){return Ie(s)?s.reduce((e,t)=>(e[t]=null,e),{}):s}let zh=!0;function FE(s){const e=Zp(s),t=s.proxy,i=s.ctx;zh=!1,e.beforeCreate&&sm(e.beforeCreate,s,"bc");const{data:n,computed:o,methods:r,watch:l,provide:a,inject:c,created:d,beforeMount:u,mounted:h,beforeUpdate:p,updated:g,activated:f,deactivated:v,beforeDestroy:w,beforeUnmount:C,destroyed:E,unmounted:b,render:S,renderTracked:T,renderTriggered:D,errorCaptured:_,serverPrefetch:G,expose:k,inheritAttrs:H,components:W,directives:P,filters:N}=e;if(c&&ME(c,i,null),r)for(const I in r){const Y=r[I];Ye(Y)&&(i[I]=Y.bind(t))}if(n){const I=n.call(t,t);Ct(I)&&(s.data=yt(I))}if(zh=!0,o)for(const I in o){const Y=o[I],ae=Ye(Y)?Y.bind(t,t):Ye(Y.get)?Y.get.bind(t,t):ci,Te=!Ye(Y)&&Ye(Y.set)?Y.set.bind(t):ci,Me=B({get:ae,set:Te});Object.defineProperty(i,I,{enumerable:!0,configurable:!0,get:()=>Me.value,set:Pe=>Me.value=Pe})}if(l)for(const I in l)AC(l[I],i,t,I);if(a){const I=Ye(a)?a.call(t):a;Reflect.ownKeys(I).forEach(Y=>{ti(Y,I[Y])})}d&&sm(d,s,"c");function x(I,Y){Ie(Y)?Y.forEach(ae=>I(ae.bind(t))):Y&&I(Y.bind(t))}if(x(EE,u),x(xt,h),x(RE,p),x(DC,g),x(Qp,f),x(Gd,v),x(_E,_),x(OE,T),x(DE,D),x(Qs,C),x(Hd,b),x(TE,G),Ie(k))if(k.length){const I=s.exposed||(s.exposed={});k.forEach(Y=>{Object.defineProperty(I,Y,{get:()=>t[Y],set:ae=>t[Y]=ae})})}else s.exposed||(s.exposed={});S&&s.render===ci&&(s.render=S),H!=null&&(s.inheritAttrs=H),W&&(s.components=W),P&&(s.directives=P)}function ME(s,e,t=ci){Ie(s)&&(s=Kh(s));for(const i in s){const n=s[i];let o;Ct(n)?"default"in n?o=mt(n.from||i,n.default,!0):o=mt(n.from||i):o=mt(n),Vt(o)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:r=>o.value=r}):e[i]=o}}function sm(s,e,t){Xi(Ie(s)?s.map(i=>i.bind(e.proxy)):s.bind(e.proxy),e,t)}function AC(s,e,t,i){const n=i.includes(".")?SC(t,i):()=>t[i];if(bt(s)){const o=e[s];Ye(o)&&pt(n,o)}else if(Ye(s))pt(n,s.bind(t));else if(Ct(s))if(Ie(s))s.forEach(o=>AC(o,e,t,i));else{const o=Ye(s.handler)?s.handler.bind(t):e[s.handler];Ye(o)&&pt(n,o,s)}}function Zp(s){const e=s.type,{mixins:t,extends:i}=e,{mixins:n,optionsCache:o,config:{optionMergeStrategies:r}}=s.appContext,l=o.get(e);let a;return l?a=l:!n.length&&!t&&!i?a=e:(a={},n.length&&n.forEach(c=>Zc(a,c,r,!0)),Zc(a,e,r)),Ct(e)&&o.set(e,a),a}function Zc(s,e,t,i=!1){const{mixins:n,extends:o}=e;o&&Zc(s,o,t,!0),n&&n.forEach(r=>Zc(s,r,t,!0));for(const r in e)if(!(i&&r==="expose")){const l=LE[r]||t&&t[r];s[r]=l?l(s[r],e[r]):e[r]}return s}const LE={data:nm,props:om,emits:om,methods:wl,computed:wl,beforeCreate:ri,created:ri,beforeMount:ri,mounted:ri,beforeUpdate:ri,updated:ri,beforeDestroy:ri,beforeUnmount:ri,destroyed:ri,unmounted:ri,activated:ri,deactivated:ri,errorCaptured:ri,serverPrefetch:ri,components:wl,directives:wl,watch:NE,provide:nm,inject:IE};function nm(s,e){return e?s?function(){return At(Ye(s)?s.call(this,this):s,Ye(e)?e.call(this,this):e)}:e:s}function IE(s,e){return wl(Kh(s),Kh(e))}function Kh(s){if(Ie(s)){const e={};for(let t=0;t<s.length;t++)e[s[t]]=s[t];return e}return s}function ri(s,e){return s?[...new Set([].concat(s,e))]:e}function wl(s,e){return s?At(Object.create(null),s,e):e}function om(s,e){return s?Ie(s)&&Ie(e)?[...new Set([...s,...e])]:At(Object.create(null),im(s),im(e??{})):e}function NE(s,e){if(!s)return e;if(!e)return s;const t=At(Object.create(null),s);for(const i in e)t[i]=ri(s[i],e[i]);return t}function FC(){return{app:null,config:{isNativeTag:lb,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let xE=0;function GE(s,e){return function(i,n=null){Ye(i)||(i=At({},i)),n!=null&&!Ct(n)&&(n=null);const o=FC(),r=new Set;let l=!1;const a=o.app={_uid:xE++,_component:i,_props:n,_container:null,_context:o,_instance:null,version:dR,get config(){return o.config},set config(c){},use(c,...d){return r.has(c)||(c&&Ye(c.install)?(r.add(c),c.install(a,...d)):Ye(c)&&(r.add(c),c(a,...d))),a},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),a},component(c,d){return d?(o.components[c]=d,a):o.components[c]},directive(c,d){return d?(o.directives[c]=d,a):o.directives[c]},mount(c,d,u){if(!l){const h=le(i,n);return h.appContext=o,d&&e?e(h,c):s(h,c,u),l=!0,a._container=c,c.__vue_app__=a,$d(h.component)||h.component.proxy}},unmount(){l&&(s(null,a._container),delete a._container.__vue_app__)},provide(c,d){return o.provides[c]=d,a},runWithContext(c){ed=a;try{return c()}finally{ed=null}}};return a}}let ed=null;function ti(s,e){if(Gt){let t=Gt.provides;const i=Gt.parent&&Gt.parent.provides;i===t&&(t=Gt.provides=Object.create(i)),t[s]=e}}function mt(s,e,t=!1){const i=Gt||Ut;if(i||ed){const n=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:ed._context.provides;if(n&&s in n)return n[s];if(arguments.length>1)return t&&Ye(e)?e.call(i&&i.proxy):e}}function VE(s,e,t,i=!1){const n={},o={};qc(o,Bd,1),s.propsDefaults=Object.create(null),MC(s,e,n,o);for(const r in s.propsOptions[0])r in n||(n[r]=void 0);t?s.props=i?n:cC(n):s.type.props?s.props=n:s.props=o,s.attrs=o}function HE(s,e,t,i){const{props:n,attrs:o,vnode:{patchFlag:r}}=s,l=tt(n),[a]=s.propsOptions;let c=!1;if((i||r>0)&&!(r&16)){if(r&8){const d=s.vnode.dynamicProps;for(let u=0;u<d.length;u++){let h=d[u];if(Ld(s.emitsOptions,h))continue;const p=e[h];if(a)if(lt(o,h))p!==o[h]&&(o[h]=p,c=!0);else{const g=Ss(h);n[g]=Yh(a,l,g,p,s,!1)}else p!==o[h]&&(o[h]=p,c=!0)}}}else{MC(s,e,n,o)&&(c=!0);let d;for(const u in l)(!e||!lt(e,u)&&((d=Hr(u))===u||!lt(e,d)))&&(a?t&&(t[u]!==void 0||t[d]!==void 0)&&(n[u]=Yh(a,l,u,void 0,s,!0)):delete n[u]);if(o!==l)for(const u in o)(!e||!lt(e,u))&&(delete o[u],c=!0)}c&&hn(s,"set","$attrs")}function MC(s,e,t,i){const[n,o]=s.propsOptions;let r=!1,l;if(e)for(let a in e){if(Lc(a))continue;const c=e[a];let d;n&&lt(n,d=Ss(a))?!o||!o.includes(d)?t[d]=c:(l||(l={}))[d]=c:Ld(s.emitsOptions,a)||(!(a in i)||c!==i[a])&&(i[a]=c,r=!0)}if(o){const a=tt(t),c=l||Et;for(let d=0;d<o.length;d++){const u=o[d];t[u]=Yh(n,a,u,c[u],s,!lt(c,u))}}return r}function Yh(s,e,t,i,n,o){const r=s[t];if(r!=null){const l=lt(r,"default");if(l&&i===void 0){const a=r.default;if(r.type!==Function&&!r.skipFactory&&Ye(a)){const{propsDefaults:c}=n;t in c?i=c[t]:(hr(n),i=c[t]=a.call(null,e),yo())}else i=a}r[0]&&(o&&!l?i=!1:r[1]&&(i===""||i===Hr(t))&&(i=!0))}return i}function LC(s,e,t=!1){const i=e.propsCache,n=i.get(s);if(n)return n;const o=s.props,r={},l=[];let a=!1;if(!Ye(s)){const d=u=>{a=!0;const[h,p]=LC(u,e,!0);At(r,h),p&&l.push(...p)};!t&&e.mixins.length&&e.mixins.forEach(d),s.extends&&d(s.extends),s.mixins&&s.mixins.forEach(d)}if(!o&&!a)return Ct(s)&&i.set(s,er),er;if(Ie(o))for(let d=0;d<o.length;d++){const u=Ss(o[d]);rm(u)&&(r[u]=Et)}else if(o)for(const d in o){const u=Ss(d);if(rm(u)){const h=o[d],p=r[u]=Ie(h)||Ye(h)?{type:h}:At({},h);if(p){const g=cm(Boolean,p.type),f=cm(String,p.type);p[0]=g>-1,p[1]=f<0||g<f,(g>-1||lt(p,"default"))&&l.push(u)}}}const c=[r,l];return Ct(s)&&i.set(s,c),c}function rm(s){return s[0]!=="$"}function lm(s){const e=s&&s.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:s===null?"null":""}function am(s,e){return lm(s)===lm(e)}function cm(s,e){return Ie(e)?e.findIndex(t=>am(t,s)):Ye(e)&&am(e,s)?0:-1}const IC=s=>s[0]==="_"||s==="$stable",ef=s=>Ie(s)?s.map(Ls):[Ls(s)],kE=(s,e,t)=>{if(e._n)return e;const i=qe((...n)=>ef(e(...n)),t);return i._c=!1,i},NC=(s,e,t)=>{const i=s._ctx;for(const n in s){if(IC(n))continue;const o=s[n];if(Ye(o))e[n]=kE(n,o,i);else if(o!=null){const r=ef(o);e[n]=()=>r}}},xC=(s,e)=>{const t=ef(e);s.slots.default=()=>t},BE=(s,e)=>{if(s.vnode.shapeFlag&32){const t=e._;t?(s.slots=tt(e),qc(e,"_",t)):NC(e,s.slots={})}else s.slots={},e&&xC(s,e);qc(s.slots,Bd,1)},$E=(s,e,t)=>{const{vnode:i,slots:n}=s;let o=!0,r=Et;if(i.shapeFlag&32){const l=e._;l?t&&l===1?o=!1:(At(n,e),!t&&l===1&&delete n._):(o=!e.$stable,NC(e,n)),r=e}else e&&(xC(s,e),r={default:1});if(o)for(const l in n)!IC(l)&&!(l in r)&&delete n[l]};function qh(s,e,t,i,n=!1){if(Ie(s)){s.forEach((h,p)=>qh(h,e&&(Ie(e)?e[p]:e),t,i,n));return}if(Tl(i)&&!n)return;const o=i.shapeFlag&4?$d(i.component)||i.component.proxy:i.el,r=n?null:o,{i:l,r:a}=s,c=e&&e.r,d=l.refs===Et?l.refs={}:l.refs,u=l.setupState;if(c!=null&&c!==a&&(bt(c)?(d[c]=null,lt(u,c)&&(u[c]=null)):Vt(c)&&(c.value=null)),Ye(a))Gn(a,l,12,[r,d]);else{const h=bt(a),p=Vt(a);if(h||p){const g=()=>{if(s.f){const f=h?lt(u,a)?u[a]:d[a]:a.value;n?Ie(f)&&Hp(f,o):Ie(f)?f.includes(o)||f.push(o):h?(d[a]=[o],lt(u,a)&&(u[a]=d[a])):(a.value=[o],s.k&&(d[s.k]=a.value))}else h?(d[a]=r,lt(u,a)&&(u[a]=r)):p&&(a.value=r,s.k&&(d[s.k]=r))};r?(g.id=-1,fi(g,t)):g()}}}const fi=gE;function WE(s){return UE(s)}function UE(s,e){const t=Vh();t.__VUE__=!0;const{insert:i,remove:n,patchProp:o,createElement:r,createText:l,createComment:a,setText:c,setElementText:d,parentNode:u,nextSibling:h,setScopeId:p=ci,insertStaticContent:g}=s,f=(R,O,L,z=null,Z=null,ne=null,ye=!1,fe=null,ge=!!O.dynamicChildren)=>{if(R===O)return;R&&!fo(R,O)&&(z=V(R),Pe(R,Z,ne,!0),R=null),O.patchFlag===-2&&(ge=!1,O.dynamicChildren=null);const{type:re,ref:Oe,shapeFlag:De}=O;switch(re){case kd:v(R,O,L,z);break;case Li:w(R,O,L,z);break;case Nc:R==null&&C(O,L,z,ye);break;case Ue:W(R,O,L,z,Z,ne,ye,fe,ge);break;default:De&1?S(R,O,L,z,Z,ne,ye,fe,ge):De&6?P(R,O,L,z,Z,ne,ye,fe,ge):(De&64||De&128)&&re.process(R,O,L,z,Z,ne,ye,fe,ge,X)}Oe!=null&&Z&&qh(Oe,R&&R.ref,ne,O||R,!O)},v=(R,O,L,z)=>{if(R==null)i(O.el=l(O.children),L,z);else{const Z=O.el=R.el;O.children!==R.children&&c(Z,O.children)}},w=(R,O,L,z)=>{R==null?i(O.el=a(O.children||""),L,z):O.el=R.el},C=(R,O,L,z)=>{[R.el,R.anchor]=g(R.children,O,L,z,R.el,R.anchor)},E=({el:R,anchor:O},L,z)=>{let Z;for(;R&&R!==O;)Z=h(R),i(R,L,z),R=Z;i(O,L,z)},b=({el:R,anchor:O})=>{let L;for(;R&&R!==O;)L=h(R),n(R),R=L;n(O)},S=(R,O,L,z,Z,ne,ye,fe,ge)=>{ye=ye||O.type==="svg",R==null?T(O,L,z,Z,ne,ye,fe,ge):G(R,O,Z,ne,ye,fe,ge)},T=(R,O,L,z,Z,ne,ye,fe)=>{let ge,re;const{type:Oe,props:De,shapeFlag:_e,transition:q,dirs:ve}=R;if(ge=R.el=r(R.type,ne,De&&De.is,De),_e&8?d(ge,R.children):_e&16&&_(R.children,ge,null,z,Z,ne&&Oe!=="foreignObject",ye,fe),ve&&lo(R,null,z,"created"),D(ge,R,R.scopeId,ye,z),De){for(const Fe in De)Fe!=="value"&&!Lc(Fe)&&o(ge,Fe,null,De[Fe],ne,R.children,z,Z,he);"value"in De&&o(ge,"value",null,De.value),(re=De.onVnodeBeforeMount)&&Fs(re,z,R)}ve&&lo(R,null,z,"beforeMount");const be=(!Z||Z&&!Z.pendingBranch)&&q&&!q.persisted;be&&q.beforeEnter(ge),i(ge,O,L),((re=De&&De.onVnodeMounted)||be||ve)&&fi(()=>{re&&Fs(re,z,R),be&&q.enter(ge),ve&&lo(R,null,z,"mounted")},Z)},D=(R,O,L,z,Z)=>{if(L&&p(R,L),z)for(let ne=0;ne<z.length;ne++)p(R,z[ne]);if(Z){let ne=Z.subTree;if(O===ne){const ye=Z.vnode;D(R,ye,ye.scopeId,ye.slotScopeIds,Z.parent)}}},_=(R,O,L,z,Z,ne,ye,fe,ge=0)=>{for(let re=ge;re<R.length;re++){const Oe=R[re]=fe?An(R[re]):Ls(R[re]);f(null,Oe,O,L,z,Z,ne,ye,fe)}},G=(R,O,L,z,Z,ne,ye)=>{const fe=O.el=R.el;let{patchFlag:ge,dynamicChildren:re,dirs:Oe}=O;ge|=R.patchFlag&16;const De=R.props||Et,_e=O.props||Et;let q;L&&ao(L,!1),(q=_e.onVnodeBeforeUpdate)&&Fs(q,L,O,R),Oe&&lo(O,R,L,"beforeUpdate"),L&&ao(L,!0);const ve=Z&&O.type!=="foreignObject";if(re?k(R.dynamicChildren,re,fe,L,z,ve,ne):ye||Y(R,O,fe,null,L,z,ve,ne,!1),ge>0){if(ge&16)H(fe,O,De,_e,L,z,Z);else if(ge&2&&De.class!==_e.class&&o(fe,"class",null,_e.class,Z),ge&4&&o(fe,"style",De.style,_e.style,Z),ge&8){const be=O.dynamicProps;for(let Fe=0;Fe<be.length;Fe++){const dt=be[Fe],Oi=De[dt],Rn=_e[dt];(Rn!==Oi||dt==="value")&&o(fe,dt,Oi,Rn,Z,R.children,L,z,he)}}ge&1&&R.children!==O.children&&d(fe,O.children)}else!ye&&re==null&&H(fe,O,De,_e,L,z,Z);((q=_e.onVnodeUpdated)||Oe)&&fi(()=>{q&&Fs(q,L,O,R),Oe&&lo(O,R,L,"updated")},z)},k=(R,O,L,z,Z,ne,ye)=>{for(let fe=0;fe<O.length;fe++){const ge=R[fe],re=O[fe],Oe=ge.el&&(ge.type===Ue||!fo(ge,re)||ge.shapeFlag&70)?u(ge.el):L;f(ge,re,Oe,null,z,Z,ne,ye,!0)}},H=(R,O,L,z,Z,ne,ye)=>{if(L!==z){if(L!==Et)for(const fe in L)!Lc(fe)&&!(fe in z)&&o(R,fe,L[fe],null,ye,O.children,Z,ne,he);for(const fe in z){if(Lc(fe))continue;const ge=z[fe],re=L[fe];ge!==re&&fe!=="value"&&o(R,fe,re,ge,ye,O.children,Z,ne,he)}"value"in z&&o(R,"value",L.value,z.value)}},W=(R,O,L,z,Z,ne,ye,fe,ge)=>{const re=O.el=R?R.el:l(""),Oe=O.anchor=R?R.anchor:l("");let{patchFlag:De,dynamicChildren:_e,slotScopeIds:q}=O;q&&(fe=fe?fe.concat(q):q),R==null?(i(re,L,z),i(Oe,L,z),_(O.children,L,Oe,Z,ne,ye,fe,ge)):De>0&&De&64&&_e&&R.dynamicChildren?(k(R.dynamicChildren,_e,L,Z,ne,ye,fe),(O.key!=null||Z&&O===Z.subTree)&&tf(R,O,!0)):Y(R,O,L,Oe,Z,ne,ye,fe,ge)},P=(R,O,L,z,Z,ne,ye,fe,ge)=>{O.slotScopeIds=fe,R==null?O.shapeFlag&512?Z.ctx.activate(O,L,z,ye,ge):N(O,L,z,Z,ne,ye,ge):F(R,O,ge)},N=(R,O,L,z,Z,ne,ye)=>{const fe=R.component=tR(R,z,Z);if(xd(R)&&(fe.ctx.renderer=X),iR(fe),fe.asyncDep){if(Z&&Z.registerDep(fe,x),!R.el){const ge=fe.subTree=le(Li);w(null,ge,O,L)}return}x(fe,R,O,L,Z,ne,ye)},F=(R,O,L)=>{const z=O.component=R.component;if(hE(R,O,L))if(z.asyncDep&&!z.asyncResolved){I(z,O,L);return}else z.next=O,rE(z.update),z.update();else O.el=R.el,z.vnode=O},x=(R,O,L,z,Z,ne,ye)=>{const fe=()=>{if(R.isMounted){let{next:Oe,bu:De,u:_e,parent:q,vnode:ve}=R,be=Oe,Fe;ao(R,!1),Oe?(Oe.el=ve.el,I(R,Oe,ye)):Oe=ve,De&&Ic(De),(Fe=Oe.props&&Oe.props.onVnodeBeforeUpdate)&&Fs(Fe,q,Oe,ve),ao(R,!0);const dt=Wu(R),Oi=R.subTree;R.subTree=dt,f(Oi,dt,u(Oi.el),V(Oi),R,Z,ne),Oe.el=dt.el,be===null&&pE(R,dt.el),_e&&fi(_e,Z),(Fe=Oe.props&&Oe.props.onVnodeUpdated)&&fi(()=>Fs(Fe,q,Oe,ve),Z)}else{let Oe;const{el:De,props:_e}=O,{bm:q,m:ve,parent:be}=R,Fe=Tl(O);if(ao(R,!1),q&&Ic(q),!Fe&&(Oe=_e&&_e.onVnodeBeforeMount)&&Fs(Oe,be,O),ao(R,!0),De&&J){const dt=()=>{R.subTree=Wu(R),J(De,R.subTree,R,Z,null)};Fe?O.type.__asyncLoader().then(()=>!R.isUnmounted&&dt()):dt()}else{const dt=R.subTree=Wu(R);f(null,dt,L,z,R,Z,ne),O.el=dt.el}if(ve&&fi(ve,Z),!Fe&&(Oe=_e&&_e.onVnodeMounted)){const dt=O;fi(()=>Fs(Oe,be,dt),Z)}(O.shapeFlag&256||be&&Tl(be.vnode)&&be.vnode.shapeFlag&256)&&R.a&&fi(R.a,Z),R.isMounted=!0,O=L=z=null}},ge=R.effect=new $p(fe,()=>qp(re),R.scope),re=R.update=()=>ge.run();re.id=R.uid,ao(R,!0),re()},I=(R,O,L)=>{O.component=R;const z=R.vnode.props;R.vnode=O,R.next=null,HE(R,O.props,z,L),$E(R,O.children,L),kr(),Jg(),Br()},Y=(R,O,L,z,Z,ne,ye,fe,ge=!1)=>{const re=R&&R.children,Oe=R?R.shapeFlag:0,De=O.children,{patchFlag:_e,shapeFlag:q}=O;if(_e>0){if(_e&128){Te(re,De,L,z,Z,ne,ye,fe,ge);return}else if(_e&256){ae(re,De,L,z,Z,ne,ye,fe,ge);return}}q&8?(Oe&16&&he(re,Z,ne),De!==re&&d(L,De)):Oe&16?q&16?Te(re,De,L,z,Z,ne,ye,fe,ge):he(re,Z,ne,!0):(Oe&8&&d(L,""),q&16&&_(De,L,z,Z,ne,ye,fe,ge))},ae=(R,O,L,z,Z,ne,ye,fe,ge)=>{R=R||er,O=O||er;const re=R.length,Oe=O.length,De=Math.min(re,Oe);let _e;for(_e=0;_e<De;_e++){const q=O[_e]=ge?An(O[_e]):Ls(O[_e]);f(R[_e],q,L,null,Z,ne,ye,fe,ge)}re>Oe?he(R,Z,ne,!0,!1,De):_(O,L,z,Z,ne,ye,fe,ge,De)},Te=(R,O,L,z,Z,ne,ye,fe,ge)=>{let re=0;const Oe=O.length;let De=R.length-1,_e=Oe-1;for(;re<=De&&re<=_e;){const q=R[re],ve=O[re]=ge?An(O[re]):Ls(O[re]);if(fo(q,ve))f(q,ve,L,null,Z,ne,ye,fe,ge);else break;re++}for(;re<=De&&re<=_e;){const q=R[De],ve=O[_e]=ge?An(O[_e]):Ls(O[_e]);if(fo(q,ve))f(q,ve,L,null,Z,ne,ye,fe,ge);else break;De--,_e--}if(re>De){if(re<=_e){const q=_e+1,ve=q<Oe?O[q].el:z;for(;re<=_e;)f(null,O[re]=ge?An(O[re]):Ls(O[re]),L,ve,Z,ne,ye,fe,ge),re++}}else if(re>_e)for(;re<=De;)Pe(R[re],Z,ne,!0),re++;else{const q=re,ve=re,be=new Map;for(re=ve;re<=_e;re++){const oi=O[re]=ge?An(O[re]):Ls(O[re]);oi.key!=null&&be.set(oi.key,re)}let Fe,dt=0;const Oi=_e-ve+1;let Rn=!1,Cc=0;const ro=new Array(Oi);for(re=0;re<Oi;re++)ro[re]=0;for(re=q;re<=De;re++){const oi=R[re];if(dt>=Oi){Pe(oi,Z,ne,!0);continue}let zi;if(oi.key!=null)zi=be.get(oi.key);else for(Fe=ve;Fe<=_e;Fe++)if(ro[Fe-ve]===0&&fo(oi,O[Fe])){zi=Fe;break}zi===void 0?Pe(oi,Z,ne,!0):(ro[zi-ve]=re+1,zi>=Cc?Cc=zi:Rn=!0,f(oi,O[zi],L,null,Z,ne,ye,fe,ge),dt++)}const yc=Rn?jE(ro):er;for(Fe=yc.length-1,re=Oi-1;re>=0;re--){const oi=ve+re,zi=O[oi],ul=oi+1<Oe?O[oi+1].el:z;ro[re]===0?f(null,zi,L,ul,Z,ne,ye,fe,ge):Rn&&(Fe<0||re!==yc[Fe]?Me(zi,L,ul,2):Fe--)}}},Me=(R,O,L,z,Z=null)=>{const{el:ne,type:ye,transition:fe,children:ge,shapeFlag:re}=R;if(re&6){Me(R.component.subTree,O,L,z);return}if(re&128){R.suspense.move(O,L,z);return}if(re&64){ye.move(R,O,L,X);return}if(ye===Ue){i(ne,O,L);for(let De=0;De<ge.length;De++)Me(ge[De],O,L,z);i(R.anchor,O,L);return}if(ye===Nc){E(R,O,L);return}if(z!==2&&re&1&&fe)if(z===0)fe.beforeEnter(ne),i(ne,O,L),fi(()=>fe.enter(ne),Z);else{const{leave:De,delayLeave:_e,afterLeave:q}=fe,ve=()=>i(ne,O,L),be=()=>{De(ne,()=>{ve(),q&&q()})};_e?_e(ne,ve,be):be()}else i(ne,O,L)},Pe=(R,O,L,z=!1,Z=!1)=>{const{type:ne,props:ye,ref:fe,children:ge,dynamicChildren:re,shapeFlag:Oe,patchFlag:De,dirs:_e}=R;if(fe!=null&&qh(fe,null,L,R,!0),Oe&256){O.ctx.deactivate(R);return}const q=Oe&1&&_e,ve=!Tl(R);let be;if(ve&&(be=ye&&ye.onVnodeBeforeUnmount)&&Fs(be,O,R),Oe&6)ie(R.component,L,z);else{if(Oe&128){R.suspense.unmount(L,z);return}q&&lo(R,null,O,"beforeUnmount"),Oe&64?R.type.remove(R,O,L,Z,X,z):re&&(ne!==Ue||De>0&&De&64)?he(re,O,L,!1,!0):(ne===Ue&&De&384||!Z&&Oe&16)&&he(ge,O,L),z&&xe(R)}(ve&&(be=ye&&ye.onVnodeUnmounted)||q)&&fi(()=>{be&&Fs(be,O,R),q&&lo(R,null,O,"unmounted")},L)},xe=R=>{const{type:O,el:L,anchor:z,transition:Z}=R;if(O===Ue){oe(L,z);return}if(O===Nc){b(R);return}const ne=()=>{n(L),Z&&!Z.persisted&&Z.afterLeave&&Z.afterLeave()};if(R.shapeFlag&1&&Z&&!Z.persisted){const{leave:ye,delayLeave:fe}=Z,ge=()=>ye(L,ne);fe?fe(R.el,ne,ge):ge()}else ne()},oe=(R,O)=>{let L;for(;R!==O;)L=h(R),n(R),R=L;n(O)},ie=(R,O,L)=>{const{bum:z,scope:Z,update:ne,subTree:ye,um:fe}=R;z&&Ic(z),Z.stop(),ne&&(ne.active=!1,Pe(ye,R,O,L)),fe&&fi(fe,O),fi(()=>{R.isUnmounted=!0},O),O&&O.pendingBranch&&!O.isUnmounted&&R.asyncDep&&!R.asyncResolved&&R.suspenseId===O.pendingId&&(O.deps--,O.deps===0&&O.resolve())},he=(R,O,L,z=!1,Z=!1,ne=0)=>{for(let ye=ne;ye<R.length;ye++)Pe(R[ye],O,L,z,Z)},V=R=>R.shapeFlag&6?V(R.component.subTree):R.shapeFlag&128?R.suspense.next():h(R.anchor||R.el),se=(R,O,L)=>{R==null?O._vnode&&Pe(O._vnode,null,null,!0):f(O._vnode||null,R,O,null,null,null,L),Jg(),CC(),O._vnode=R},X={p:f,um:Pe,m:Me,r:xe,mt:N,mc:_,pc:Y,pbc:k,n:V,o:s};let A,J;return e&&([A,J]=e(X)),{render:se,hydrate:A,createApp:GE(se,A)}}function ao({effect:s,update:e},t){s.allowRecurse=e.allowRecurse=t}function tf(s,e,t=!1){const i=s.children,n=e.children;if(Ie(i)&&Ie(n))for(let o=0;o<i.length;o++){const r=i[o];let l=n[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=n[o]=An(n[o]),l.el=r.el),t||tf(r,l)),l.type===kd&&(l.el=r.el)}}function jE(s){const e=s.slice(),t=[0];let i,n,o,r,l;const a=s.length;for(i=0;i<a;i++){const c=s[i];if(c!==0){if(n=t[t.length-1],s[n]<c){e[i]=n,t.push(i);continue}for(o=0,r=t.length-1;o<r;)l=o+r>>1,s[t[l]]<c?o=l+1:r=l;c<s[t[o]]&&(o>0&&(e[i]=t[o-1]),t[o]=i)}}for(o=t.length,r=t[o-1];o-- >0;)t[o]=r,r=e[r];return t}const zE=s=>s.__isTeleport,Ol=s=>s&&(s.disabled||s.disabled===""),dm=s=>typeof SVGElement<"u"&&s instanceof SVGElement,Qh=(s,e)=>{const t=s&&s.to;return bt(t)?e?e(t):null:t},KE={__isTeleport:!0,process(s,e,t,i,n,o,r,l,a,c){const{mc:d,pc:u,pbc:h,o:{insert:p,querySelector:g,createText:f,createComment:v}}=c,w=Ol(e.props);let{shapeFlag:C,children:E,dynamicChildren:b}=e;if(s==null){const S=e.el=f(""),T=e.anchor=f("");p(S,t,i),p(T,t,i);const D=e.target=Qh(e.props,g),_=e.targetAnchor=f("");D&&(p(_,D),r=r||dm(D));const G=(k,H)=>{C&16&&d(E,k,H,n,o,r,l,a)};w?G(t,T):D&&G(D,_)}else{e.el=s.el;const S=e.anchor=s.anchor,T=e.target=s.target,D=e.targetAnchor=s.targetAnchor,_=Ol(s.props),G=_?t:T,k=_?S:D;if(r=r||dm(T),b?(h(s.dynamicChildren,b,G,n,o,r,l),tf(s,e,!0)):a||u(s,e,G,k,n,o,r,l,!1),w)_||Dc(e,t,S,c,1);else if((e.props&&e.props.to)!==(s.props&&s.props.to)){const H=e.target=Qh(e.props,g);H&&Dc(e,H,null,c,0)}else _&&Dc(e,T,D,c,1)}GC(e)},remove(s,e,t,i,{um:n,o:{remove:o}},r){const{shapeFlag:l,children:a,anchor:c,targetAnchor:d,target:u,props:h}=s;if(u&&o(d),(r||!Ol(h))&&(o(c),l&16))for(let p=0;p<a.length;p++){const g=a[p];n(g,e,t,!0,!!g.dynamicChildren)}},move:Dc,hydrate:YE};function Dc(s,e,t,{o:{insert:i},m:n},o=2){o===0&&i(s.targetAnchor,e,t);const{el:r,anchor:l,shapeFlag:a,children:c,props:d}=s,u=o===2;if(u&&i(r,e,t),(!u||Ol(d))&&a&16)for(let h=0;h<c.length;h++)n(c[h],e,t,2);u&&i(l,e,t)}function YE(s,e,t,i,n,o,{o:{nextSibling:r,parentNode:l,querySelector:a}},c){const d=e.target=Qh(e.props,a);if(d){const u=d._lpa||d.firstChild;if(e.shapeFlag&16)if(Ol(e.props))e.anchor=c(r(s),e,l(s),t,i,n,o),e.targetAnchor=u;else{e.anchor=r(s);let h=u;for(;h;)if(h=r(h),h&&h.nodeType===8&&h.data==="teleport anchor"){e.targetAnchor=h,d._lpa=e.targetAnchor&&r(e.targetAnchor);break}c(u,e,d,t,i,n,o)}GC(e)}return e.anchor&&r(e.anchor)}const Ra=KE;function GC(s){const e=s.ctx;if(e&&e.ut){let t=s.children[0].el;for(;t!==s.targetAnchor;)t.nodeType===1&&t.setAttribute("data-v-owner",e.uid),t=t.nextSibling;e.ut()}}const Ue=Symbol.for("v-fgt"),kd=Symbol.for("v-txt"),Li=Symbol.for("v-cmt"),Nc=Symbol.for("v-stc"),_l=[];let ps=null;function U(s=!1){_l.push(ps=s?null:[])}function qE(){_l.pop(),ps=_l[_l.length-1]||null}let jl=1;function um(s){jl+=s}function VC(s){return s.dynamicChildren=jl>0?ps||er:null,qE(),jl>0&&ps&&ps.push(s),s}function te(s,e,t,i,n,o){return VC(M(s,e,t,i,n,o,!0))}function ot(s,e,t,i,n){return VC(le(s,e,t,i,n,!0))}function td(s){return s?s.__v_isVNode===!0:!1}function fo(s,e){return s.type===e.type&&s.key===e.key}const Bd="__vInternal",HC=({key:s})=>s??null,xc=({ref:s,ref_key:e,ref_for:t})=>(typeof s=="number"&&(s=""+s),s!=null?bt(s)||Vt(s)||Ye(s)?{i:Ut,r:s,k:e,f:!!t}:s:null);function M(s,e=null,t=null,i=0,n=null,o=s===Ue?0:1,r=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:s,props:e,key:e&&HC(e),ref:e&&xc(e),scopeId:Id,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Ut};return l?(sf(a,t),o&128&&s.normalize(a)):t&&(a.shapeFlag|=bt(t)?8:16),jl>0&&!r&&ps&&(a.patchFlag>0||o&6)&&a.patchFlag!==32&&ps.push(a),a}const le=QE;function QE(s,e=null,t=null,i=0,n=null,o=!1){if((!s||s===OC)&&(s=Li),td(s)){const l=Bs(s,e,!0);return t&&sf(l,t),jl>0&&!o&&ps&&(l.shapeFlag&6?ps[ps.indexOf(s)]=l:ps.push(l)),l.patchFlag|=-2,l}if(lR(s)&&(s=s.__vccOpts),e){e=XE(e);let{class:l,style:a}=e;l&&!bt(l)&&(e.class=Re(l)),Ct(a)&&(uC(a)&&!Ie(a)&&(a=At({},a)),e.style=ii(a))}const r=bt(s)?1:fE(s)?128:zE(s)?64:Ct(s)?4:Ye(s)?2:0;return M(s,e,t,i,n,r,o,!0)}function XE(s){return s?uC(s)||Bd in s?At({},s):s:null}function Bs(s,e,t=!1){const{props:i,ref:n,patchFlag:o,children:r}=s,l=e?JE(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:s.type,props:l,key:l&&HC(l),ref:e&&e.ref?t&&n?Ie(n)?n.concat(xc(e)):[n,xc(e)]:xc(e):n,scopeId:s.scopeId,slotScopeIds:s.slotScopeIds,children:r,target:s.target,targetAnchor:s.targetAnchor,staticCount:s.staticCount,shapeFlag:s.shapeFlag,patchFlag:e&&s.type!==Ue?o===-1?16:o|16:o,dynamicProps:s.dynamicProps,dynamicChildren:s.dynamicChildren,appContext:s.appContext,dirs:s.dirs,transition:s.transition,component:s.component,suspense:s.suspense,ssContent:s.ssContent&&Bs(s.ssContent),ssFallback:s.ssFallback&&Bs(s.ssFallback),el:s.el,anchor:s.anchor,ctx:s.ctx,ce:s.ce}}function ct(s=" ",e=0){return le(kd,null,s,e)}function Ne(s="",e=!1){return e?(U(),ot(Li,null,s)):le(Li,null,s)}function Ls(s){return s==null||typeof s=="boolean"?le(Li):Ie(s)?le(Ue,null,s.slice()):typeof s=="object"?An(s):le(kd,null,String(s))}function An(s){return s.el===null&&s.patchFlag!==-1||s.memo?s:Bs(s)}function sf(s,e){let t=0;const{shapeFlag:i}=s;if(e==null)e=null;else if(Ie(e))t=16;else if(typeof e=="object")if(i&65){const n=e.default;n&&(n._c&&(n._d=!1),sf(s,n()),n._c&&(n._d=!0));return}else{t=32;const n=e._;!n&&!(Bd in e)?e._ctx=Ut:n===3&&Ut&&(Ut.slots._===1?e._=1:(e._=2,s.patchFlag|=1024))}else Ye(e)?(e={default:e,_ctx:Ut},t=32):(e=String(e),i&64?(t=16,e=[ct(e)]):t=8);s.children=e,s.shapeFlag|=t}function JE(...s){const e={};for(let t=0;t<s.length;t++){const i=s[t];for(const n in i)if(n==="class")e.class!==i.class&&(e.class=Re([e.class,i.class]));else if(n==="style")e.style=ii([e.style,i.style]);else if(Od(n)){const o=e[n],r=i[n];r&&o!==r&&!(Ie(o)&&o.includes(r))&&(e[n]=o?[].concat(o,r):r)}else n!==""&&(e[n]=i[n])}return e}function Fs(s,e,t,i=null){Xi(s,e,7,[t,i])}const ZE=FC();let eR=0;function tR(s,e,t){const i=s.type,n=(e?e.appContext:s.appContext)||ZE,o={uid:eR++,vnode:s,type:i,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,scope:new wb(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:LC(i,n),emitsOptions:wC(i,n),emit:null,emitted:null,propsDefaults:Et,inheritAttrs:i.inheritAttrs,ctx:Et,data:Et,props:Et,attrs:Et,slots:Et,refs:Et,setupState:Et,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=cE.bind(null,o),s.ce&&s.ce(o),o}let Gt=null;const $r=()=>Gt||Ut;let nf,zo,hm="__VUE_INSTANCE_SETTERS__";(zo=Vh()[hm])||(zo=Vh()[hm]=[]),zo.push(s=>Gt=s),nf=s=>{zo.length>1?zo.forEach(e=>e(s)):zo[0](s)};const hr=s=>{nf(s),s.scope.on()},yo=()=>{Gt&&Gt.scope.off(),nf(null)};function kC(s){return s.vnode.shapeFlag&4}let zl=!1;function iR(s,e=!1){zl=e;const{props:t,children:i}=s.vnode,n=kC(s);VE(s,t,n,e),BE(s,i);const o=n?sR(s,e):void 0;return zl=!1,o}function sR(s,e){const t=s.type;s.accessCache=Object.create(null),s.proxy=Rl(new Proxy(s.ctx,AE));const{setup:i}=t;if(i){const n=s.setupContext=i.length>1?oR(s):null;hr(s),kr();const o=Gn(i,s,0,[s.props,n]);if(Br(),yo(),Yc(o)){if(o.then(yo,yo),e)return o.then(r=>{pm(s,r,e)}).catch(r=>{Md(r,s,0)});s.asyncDep=o}else pm(s,o,e)}else BC(s,e)}function pm(s,e,t){Ye(e)?s.type.__ssrInlineRender?s.ssrRender=e:s.render=e:Ct(e)&&(s.setupState=gC(e)),BC(s,t)}let fm;function BC(s,e,t){const i=s.type;if(!s.render){if(!e&&fm&&!i.render){const n=i.template||Zp(s).template;if(n){const{isCustomElement:o,compilerOptions:r}=s.appContext.config,{delimiters:l,compilerOptions:a}=i,c=At(At({isCustomElement:o,delimiters:l},r),a);i.render=fm(n,c)}}s.render=i.render||ci}hr(s),kr(),FE(s),Br(),yo()}function nR(s){return s.attrsProxy||(s.attrsProxy=new Proxy(s.attrs,{get(e,t){return wi(s,"get","$attrs"),e[t]}}))}function oR(s){const e=t=>{s.exposed=t||{}};return{get attrs(){return nR(s)},slots:s.slots,emit:s.emit,expose:e}}function $d(s){if(s.exposed)return s.exposeProxy||(s.exposeProxy=new Proxy(gC(Rl(s.exposed)),{get(e,t){if(t in e)return e[t];if(t in Dl)return Dl[t](s)},has(e,t){return t in e||t in Dl}}))}function rR(s,e=!0){return Ye(s)?s.displayName||s.name:s.name||e&&s.__name}function lR(s){return Ye(s)&&"__vccOpts"in s}const B=(s,e)=>sE(s,e,zl);function Bt(s,e,t){const i=arguments.length;return i===2?Ct(e)&&!Ie(e)?td(e)?le(s,null,[e]):le(s,e):le(s,null,e):(i>3?t=Array.prototype.slice.call(arguments,2):i===3&&td(t)&&(t=[t]),le(s,e,t))}const aR=Symbol.for("v-scx"),cR=()=>mt(aR),dR="3.3.4",uR="http://www.w3.org/2000/svg",go=typeof document<"u"?document:null,gm=go&&go.createElement("template"),hR={insert:(s,e,t)=>{e.insertBefore(s,t||null)},remove:s=>{const e=s.parentNode;e&&e.removeChild(s)},createElement:(s,e,t,i)=>{const n=e?go.createElementNS(uR,s):go.createElement(s,t?{is:t}:void 0);return s==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:s=>go.createTextNode(s),createComment:s=>go.createComment(s),setText:(s,e)=>{s.nodeValue=e},setElementText:(s,e)=>{s.textContent=e},parentNode:s=>s.parentNode,nextSibling:s=>s.nextSibling,querySelector:s=>go.querySelector(s),setScopeId(s,e){s.setAttribute(e,"")},insertStaticContent(s,e,t,i,n,o){const r=t?t.previousSibling:e.lastChild;if(n&&(n===o||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),t),!(n===o||!(n=n.nextSibling)););else{gm.innerHTML=i?`<svg>${s}</svg>`:s;const l=gm.content;if(i){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}e.insertBefore(l,t)}return[r?r.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}};function pR(s,e,t){const i=s._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?s.removeAttribute("class"):t?s.setAttribute("class",e):s.className=e}function fR(s,e,t){const i=s.style,n=bt(t);if(t&&!n){if(e&&!bt(e))for(const o in e)t[o]==null&&Xh(i,o,"");for(const o in t)Xh(i,o,t[o])}else{const o=i.display;n?e!==t&&(i.cssText=t):e&&s.removeAttribute("style"),"_vod"in s&&(i.display=o)}}const mm=/\s*!important$/;function Xh(s,e,t){if(Ie(t))t.forEach(i=>Xh(s,e,i));else if(t==null&&(t=""),e.startsWith("--"))s.setProperty(e,t);else{const i=gR(s,e);mm.test(t)?s.setProperty(Hr(i),t.replace(mm,""),"important"):s[i]=t}}const vm=["Webkit","Moz","ms"],zu={};function gR(s,e){const t=zu[e];if(t)return t;let i=Ss(e);if(i!=="filter"&&i in s)return zu[e]=i;i=Ad(i);for(let n=0;n<vm.length;n++){const o=vm[n]+i;if(o in s)return zu[e]=o}return e}const Cm="http://www.w3.org/1999/xlink";function mR(s,e,t,i,n){if(i&&e.startsWith("xlink:"))t==null?s.removeAttributeNS(Cm,e.slice(6,e.length)):s.setAttributeNS(Cm,e,t);else{const o=Cb(e);t==null||o&&!Qv(t)?s.removeAttribute(e):s.setAttribute(e,o?"":t)}}function vR(s,e,t,i,n,o,r){if(e==="innerHTML"||e==="textContent"){i&&r(i,n,o),s[e]=t??"";return}const l=s.tagName;if(e==="value"&&l!=="PROGRESS"&&!l.includes("-")){s._value=t;const c=l==="OPTION"?s.getAttribute("value"):s.value,d=t??"";c!==d&&(s.value=d),t==null&&s.removeAttribute(e);return}let a=!1;if(t===""||t==null){const c=typeof s[e];c==="boolean"?t=Qv(t):t==null&&c==="string"?(t="",a=!0):c==="number"&&(t=0,a=!0)}try{s[e]=t}catch{}a&&s.removeAttribute(e)}function Ln(s,e,t,i){s.addEventListener(e,t,i)}function CR(s,e,t,i){s.removeEventListener(e,t,i)}function yR(s,e,t,i,n=null){const o=s._vei||(s._vei={}),r=o[e];if(i&&r)r.value=i;else{const[l,a]=wR(e);if(i){const c=o[e]=ER(i,n);Ln(s,l,c,a)}else r&&(CR(s,l,r,a),o[e]=void 0)}}const ym=/(?:Once|Passive|Capture)$/;function wR(s){let e;if(ym.test(s)){e={};let i;for(;i=s.match(ym);)s=s.slice(0,s.length-i[0].length),e[i[0].toLowerCase()]=!0}return[s[2]===":"?s.slice(3):Hr(s.slice(2)),e]}let Ku=0;const SR=Promise.resolve(),bR=()=>Ku||(SR.then(()=>Ku=0),Ku=Date.now());function ER(s,e){const t=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=t.attached)return;Xi(RR(i,t.value),e,5,[i])};return t.value=s,t.attached=bR(),t}function RR(s,e){if(Ie(e)){const t=s.stopImmediatePropagation;return s.stopImmediatePropagation=()=>{t.call(s),s._stopped=!0},e.map(i=>n=>!n._stopped&&i&&i(n))}else return e}const wm=/^on[a-z]/,TR=(s,e,t,i,n=!1,o,r,l,a)=>{e==="class"?pR(s,i,n):e==="style"?fR(s,t,i):Od(e)?Vp(e)||yR(s,e,t,i,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):DR(s,e,i,n))?vR(s,e,i,o,r,l,a):(e==="true-value"?s._trueValue=i:e==="false-value"&&(s._falseValue=i),mR(s,e,i,n))};function DR(s,e,t,i){return i?!!(e==="innerHTML"||e==="textContent"||e in s&&wm.test(e)&&Ye(t)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&s.tagName==="INPUT"||e==="type"&&s.tagName==="TEXTAREA"||wm.test(e)&&bt(t)?!1:e in s}function OR(s){const e=$r();if(!e)return;const t=e.ut=(n=s(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(o=>Zh(o,n))},i=()=>{const n=s(e.proxy);Jh(e.subTree,n),t(n)};vE(i),xt(()=>{const n=new MutationObserver(i);n.observe(e.subTree.el.parentNode,{childList:!0}),Hd(()=>n.disconnect())})}function Jh(s,e){if(s.shapeFlag&128){const t=s.suspense;s=t.activeBranch,t.pendingBranch&&!t.isHydrating&&t.effects.push(()=>{Jh(t.activeBranch,e)})}for(;s.component;)s=s.component.subTree;if(s.shapeFlag&1&&s.el)Zh(s.el,e);else if(s.type===Ue)s.children.forEach(t=>Jh(t,e));else if(s.type===Nc){let{el:t,anchor:i}=s;for(;t&&(Zh(t,e),t!==i);)t=t.nextSibling}}function Zh(s,e){if(s.nodeType===1){const t=s.style;for(const i in e)t.setProperty(`--${i}`,e[i])}}const Dn="transition",hl="animation",$s=(s,{slots:e})=>Bt(SE,_R(s),e);$s.displayName="Transition";const $C={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};$s.props=At({},bC,$C);const co=(s,e=[])=>{Ie(s)?s.forEach(t=>t(...e)):s&&s(...e)},Sm=s=>s?Ie(s)?s.some(e=>e.length>1):s.length>1:!1;function _R(s){const e={};for(const W in s)W in $C||(e[W]=s[W]);if(s.css===!1)return e;const{name:t="v",type:i,duration:n,enterFromClass:o=`${t}-enter-from`,enterActiveClass:r=`${t}-enter-active`,enterToClass:l=`${t}-enter-to`,appearFromClass:a=o,appearActiveClass:c=r,appearToClass:d=l,leaveFromClass:u=`${t}-leave-from`,leaveActiveClass:h=`${t}-leave-active`,leaveToClass:p=`${t}-leave-to`}=s,g=PR(n),f=g&&g[0],v=g&&g[1],{onBeforeEnter:w,onEnter:C,onEnterCancelled:E,onLeave:b,onLeaveCancelled:S,onBeforeAppear:T=w,onAppear:D=C,onAppearCancelled:_=E}=e,G=(W,P,N)=>{uo(W,P?d:l),uo(W,P?c:r),N&&N()},k=(W,P)=>{W._isLeaving=!1,uo(W,u),uo(W,p),uo(W,h),P&&P()},H=W=>(P,N)=>{const F=W?D:C,x=()=>G(P,W,N);co(F,[P,x]),bm(()=>{uo(P,W?a:o),On(P,W?d:l),Sm(F)||Em(P,i,f,x)})};return At(e,{onBeforeEnter(W){co(w,[W]),On(W,o),On(W,r)},onBeforeAppear(W){co(T,[W]),On(W,a),On(W,c)},onEnter:H(!1),onAppear:H(!0),onLeave(W,P){W._isLeaving=!0;const N=()=>k(W,P);On(W,u),MR(),On(W,h),bm(()=>{W._isLeaving&&(uo(W,u),On(W,p),Sm(b)||Em(W,i,v,N))}),co(b,[W,N])},onEnterCancelled(W){G(W,!1),co(E,[W])},onAppearCancelled(W){G(W,!0),co(_,[W])},onLeaveCancelled(W){k(W),co(S,[W])}})}function PR(s){if(s==null)return null;if(Ct(s))return[Yu(s.enter),Yu(s.leave)];{const e=Yu(s);return[e,e]}}function Yu(s){return hb(s)}function On(s,e){e.split(/\s+/).forEach(t=>t&&s.classList.add(t)),(s._vtc||(s._vtc=new Set)).add(e)}function uo(s,e){e.split(/\s+/).forEach(i=>i&&s.classList.remove(i));const{_vtc:t}=s;t&&(t.delete(e),t.size||(s._vtc=void 0))}function bm(s){requestAnimationFrame(()=>{requestAnimationFrame(s)})}let AR=0;function Em(s,e,t,i){const n=s._endId=++AR,o=()=>{n===s._endId&&i()};if(t)return setTimeout(o,t);const{type:r,timeout:l,propCount:a}=FR(s,e);if(!r)return i();const c=r+"end";let d=0;const u=()=>{s.removeEventListener(c,h),o()},h=p=>{p.target===s&&++d>=a&&u()};setTimeout(()=>{d<a&&u()},l+1),s.addEventListener(c,h)}function FR(s,e){const t=window.getComputedStyle(s),i=g=>(t[g]||"").split(", "),n=i(`${Dn}Delay`),o=i(`${Dn}Duration`),r=Rm(n,o),l=i(`${hl}Delay`),a=i(`${hl}Duration`),c=Rm(l,a);let d=null,u=0,h=0;e===Dn?r>0&&(d=Dn,u=r,h=o.length):e===hl?c>0&&(d=hl,u=c,h=a.length):(u=Math.max(r,c),d=u>0?r>c?Dn:hl:null,h=d?d===Dn?o.length:a.length:0);const p=d===Dn&&/\b(transform|all)(,|$)/.test(i(`${Dn}Property`).toString());return{type:d,timeout:u,propCount:h,hasTransform:p}}function Rm(s,e){for(;s.length<e.length;)s=s.concat(s);return Math.max(...e.map((t,i)=>Tm(t)+Tm(s[i])))}function Tm(s){return Number(s.slice(0,-1).replace(",","."))*1e3}function MR(){return document.body.offsetHeight}const pr=s=>{const e=s.props["onUpdate:modelValue"]||!1;return Ie(e)?t=>Ic(e,t):e};function LR(s){s.target.composing=!0}function Dm(s){const e=s.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Gc={created(s,{modifiers:{lazy:e,trim:t,number:i}},n){s._assign=pr(n);const o=i||n.props&&n.props.type==="number";Ln(s,e?"change":"input",r=>{if(r.target.composing)return;let l=s.value;t&&(l=l.trim()),o&&(l=Gh(l)),s._assign(l)}),t&&Ln(s,"change",()=>{s.value=s.value.trim()}),e||(Ln(s,"compositionstart",LR),Ln(s,"compositionend",Dm),Ln(s,"change",Dm))},mounted(s,{value:e}){s.value=e??""},beforeUpdate(s,{value:e,modifiers:{lazy:t,trim:i,number:n}},o){if(s._assign=pr(o),s.composing||document.activeElement===s&&s.type!=="range"&&(t||i&&s.value.trim()===e||(n||s.type==="number")&&Gh(s.value)===e))return;const r=e??"";s.value!==r&&(s.value=r)}},IR={deep:!0,created(s,e,t){s._assign=pr(t),Ln(s,"change",()=>{const i=s._modelValue,n=WC(s),o=s.checked,r=s._assign;if(Ie(i)){const l=Xv(i,n),a=l!==-1;if(o&&!a)r(i.concat(n));else if(!o&&a){const c=[...i];c.splice(l,1),r(c)}}else if(_d(i)){const l=new Set(i);o?l.add(n):l.delete(n),r(l)}else r(UC(s,o))})},mounted:Om,beforeUpdate(s,e,t){s._assign=pr(t),Om(s,e,t)}};function Om(s,{value:e,oldValue:t},i){s._modelValue=e,Ie(e)?s.checked=Xv(e,i.props.value)>-1:_d(e)?s.checked=e.has(i.props.value):e!==t&&(s.checked=dr(e,UC(s,!0)))}const NR={created(s,{value:e},t){s.checked=dr(e,t.props.value),s._assign=pr(t),Ln(s,"change",()=>{s._assign(WC(s))})},beforeUpdate(s,{value:e,oldValue:t},i){s._assign=pr(i),e!==t&&(s.checked=dr(e,i.props.value))}};function WC(s){return"_value"in s?s._value:s.value}function UC(s,e){const t=e?"_trueValue":"_falseValue";return t in s?s[t]:e}const xR=["ctrl","shift","alt","meta"],GR={stop:s=>s.stopPropagation(),prevent:s=>s.preventDefault(),self:s=>s.target!==s.currentTarget,ctrl:s=>!s.ctrlKey,shift:s=>!s.shiftKey,alt:s=>!s.altKey,meta:s=>!s.metaKey,left:s=>"button"in s&&s.button!==0,middle:s=>"button"in s&&s.button!==1,right:s=>"button"in s&&s.button!==2,exact:(s,e)=>xR.some(t=>s[`${t}Key`]&&!e.includes(t))},Tt=(s,e)=>(t,...i)=>{for(let n=0;n<e.length;n++){const o=GR[e[n]];if(o&&o(t,e))return}return s(t,...i)},Ot={beforeMount(s,{value:e},{transition:t}){s._vod=s.style.display==="none"?"":s.style.display,t&&e?t.beforeEnter(s):pl(s,e)},mounted(s,{value:e},{transition:t}){t&&e&&t.enter(s)},updated(s,{value:e,oldValue:t},{transition:i}){!e!=!t&&(i?e?(i.beforeEnter(s),pl(s,!0),i.enter(s)):i.leave(s,()=>{pl(s,!1)}):pl(s,e))},beforeUnmount(s,{value:e}){pl(s,e)}};function pl(s,e){s.style.display=e?s._vod:"none"}const VR=At({patchProp:TR},hR);let _m;function jC(){return _m||(_m=WE(VR))}const Pm=(...s)=>{jC().render(...s)},HR=(...s)=>{const e=jC().createApp(...s),{mount:t}=e;return e.mount=i=>{const n=kR(i);if(!n)return;const o=e._component;!Ye(o)&&!o.render&&!o.template&&(o.template=n.innerHTML),n.innerHTML="";const r=t(n,!1,n instanceof SVGElement);return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),r},e};function kR(s){return bt(s)?document.querySelector(s):s}/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const qo=typeof window<"u";function BR(s){return s.__esModule||s[Symbol.toStringTag]==="Module"}const vt=Object.assign;function qu(s,e){const t={};for(const i in e){const n=e[i];t[i]=bs(n)?n.map(s):s(n)}return t}const Pl=()=>{},bs=Array.isArray,$R=/\/$/,WR=s=>s.replace($R,"");function Qu(s,e,t="/"){let i,n={},o="",r="";const l=e.indexOf("#");let a=e.indexOf("?");return l<a&&l>=0&&(a=-1),a>-1&&(i=e.slice(0,a),o=e.slice(a+1,l>-1?l:e.length),n=s(o)),l>-1&&(i=i||e.slice(0,l),r=e.slice(l,e.length)),i=KR(i??e,t),{fullPath:i+(o&&"?")+o+r,path:i,query:n,hash:r}}function UR(s,e){const t=e.query?s(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function Am(s,e){return!e||!s.toLowerCase().startsWith(e.toLowerCase())?s:s.slice(e.length)||"/"}function jR(s,e,t){const i=e.matched.length-1,n=t.matched.length-1;return i>-1&&i===n&&fr(e.matched[i],t.matched[n])&&zC(e.params,t.params)&&s(e.query)===s(t.query)&&e.hash===t.hash}function fr(s,e){return(s.aliasOf||s)===(e.aliasOf||e)}function zC(s,e){if(Object.keys(s).length!==Object.keys(e).length)return!1;for(const t in s)if(!zR(s[t],e[t]))return!1;return!0}function zR(s,e){return bs(s)?Fm(s,e):bs(e)?Fm(e,s):s===e}function Fm(s,e){return bs(e)?s.length===e.length&&s.every((t,i)=>t===e[i]):s.length===1&&s[0]===e}function KR(s,e){if(s.startsWith("/"))return s;if(!s)return e;const t=e.split("/"),i=s.split("/"),n=i[i.length-1];(n===".."||n===".")&&i.push("");let o=t.length-1,r,l;for(r=0;r<i.length;r++)if(l=i[r],l!==".")if(l==="..")o>1&&o--;else break;return t.slice(0,o).join("/")+"/"+i.slice(r-(r===i.length?1:0)).join("/")}var Kl;(function(s){s.pop="pop",s.push="push"})(Kl||(Kl={}));var Al;(function(s){s.back="back",s.forward="forward",s.unknown=""})(Al||(Al={}));function YR(s){if(!s)if(qo){const e=document.querySelector("base");s=e&&e.getAttribute("href")||"/",s=s.replace(/^\w+:\/\/[^\/]+/,"")}else s="/";return s[0]!=="/"&&s[0]!=="#"&&(s="/"+s),WR(s)}const qR=/^[^#]+#/;function QR(s,e){return s.replace(qR,"#")+e}function XR(s,e){const t=document.documentElement.getBoundingClientRect(),i=s.getBoundingClientRect();return{behavior:e.behavior,left:i.left-t.left-(e.left||0),top:i.top-t.top-(e.top||0)}}const Wd=()=>({left:window.pageXOffset,top:window.pageYOffset});function JR(s){let e;if("el"in s){const t=s.el,i=typeof t=="string"&&t.startsWith("#"),n=typeof t=="string"?i?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!n)return;e=XR(n,s)}else e=s;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Mm(s,e){return(history.state?history.state.position-e:-1)+s}const ep=new Map;function ZR(s,e){ep.set(s,e)}function eT(s){const e=ep.get(s);return ep.delete(s),e}let tT=()=>location.protocol+"//"+location.host;function KC(s,e){const{pathname:t,search:i,hash:n}=e,o=s.indexOf("#");if(o>-1){let l=n.includes(s.slice(o))?s.slice(o).length:1,a=n.slice(l);return a[0]!=="/"&&(a="/"+a),Am(a,"")}return Am(t,s)+i+n}function iT(s,e,t,i){let n=[],o=[],r=null;const l=({state:h})=>{const p=KC(s,location),g=t.value,f=e.value;let v=0;if(h){if(t.value=p,e.value=h,r&&r===g){r=null;return}v=f?h.position-f.position:0}else i(p);n.forEach(w=>{w(t.value,g,{delta:v,type:Kl.pop,direction:v?v>0?Al.forward:Al.back:Al.unknown})})};function a(){r=t.value}function c(h){n.push(h);const p=()=>{const g=n.indexOf(h);g>-1&&n.splice(g,1)};return o.push(p),p}function d(){const{history:h}=window;h.state&&h.replaceState(vt({},h.state,{scroll:Wd()}),"")}function u(){for(const h of o)h();o=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:a,listen:c,destroy:u}}function Lm(s,e,t,i=!1,n=!1){return{back:s,current:e,forward:t,replaced:i,position:window.history.length,scroll:n?Wd():null}}function sT(s){const{history:e,location:t}=window,i={value:KC(s,t)},n={value:e.state};n.value||o(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(a,c,d){const u=s.indexOf("#"),h=u>-1?(t.host&&document.querySelector("base")?s:s.slice(u))+a:tT()+s+a;try{e[d?"replaceState":"pushState"](c,"",h),n.value=c}catch(p){console.error(p),t[d?"replace":"assign"](h)}}function r(a,c){const d=vt({},e.state,Lm(n.value.back,a,n.value.forward,!0),c,{position:n.value.position});o(a,d,!0),i.value=a}function l(a,c){const d=vt({},n.value,e.state,{forward:a,scroll:Wd()});o(d.current,d,!0);const u=vt({},Lm(i.value,a,null),{position:d.position+1},c);o(a,u,!1),i.value=a}return{location:i,state:n,push:l,replace:r}}function nT(s){s=YR(s);const e=sT(s),t=iT(s,e.state,e.location,e.replace);function i(o,r=!0){r||t.pauseListeners(),history.go(o)}const n=vt({location:"",base:s,go:i,createHref:QR.bind(null,s)},e,t);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>e.state.value}),n}function oT(s){return typeof s=="string"||s&&typeof s=="object"}function YC(s){return typeof s=="string"||typeof s=="symbol"}const _n={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},qC=Symbol("");var Im;(function(s){s[s.aborted=4]="aborted",s[s.cancelled=8]="cancelled",s[s.duplicated=16]="duplicated"})(Im||(Im={}));function gr(s,e){return vt(new Error,{type:s,[qC]:!0},e)}function on(s,e){return s instanceof Error&&qC in s&&(e==null||!!(s.type&e))}const Nm="[^/]+?",rT={sensitive:!1,strict:!1,start:!0,end:!0},lT=/[.+*?^${}()[\]/\\]/g;function aT(s,e){const t=vt({},rT,e),i=[];let n=t.start?"^":"";const o=[];for(const c of s){const d=c.length?[]:[90];t.strict&&!c.length&&(n+="/");for(let u=0;u<c.length;u++){const h=c[u];let p=40+(t.sensitive?.25:0);if(h.type===0)u||(n+="/"),n+=h.value.replace(lT,"\\$&"),p+=40;else if(h.type===1){const{value:g,repeatable:f,optional:v,regexp:w}=h;o.push({name:g,repeatable:f,optional:v});const C=w||Nm;if(C!==Nm){p+=10;try{new RegExp(`(${C})`)}catch(b){throw new Error(`Invalid custom RegExp for param "${g}" (${C}): `+b.message)}}let E=f?`((?:${C})(?:/(?:${C}))*)`:`(${C})`;u||(E=v&&c.length<2?`(?:/${E})`:"/"+E),v&&(E+="?"),n+=E,p+=20,v&&(p+=-8),f&&(p+=-20),C===".*"&&(p+=-50)}d.push(p)}i.push(d)}if(t.strict&&t.end){const c=i.length-1;i[c][i[c].length-1]+=.7000000000000001}t.strict||(n+="/?"),t.end?n+="$":t.strict&&(n+="(?:/|$)");const r=new RegExp(n,t.sensitive?"":"i");function l(c){const d=c.match(r),u={};if(!d)return null;for(let h=1;h<d.length;h++){const p=d[h]||"",g=o[h-1];u[g.name]=p&&g.repeatable?p.split("/"):p}return u}function a(c){let d="",u=!1;for(const h of s){(!u||!d.endsWith("/"))&&(d+="/"),u=!1;for(const p of h)if(p.type===0)d+=p.value;else if(p.type===1){const{value:g,repeatable:f,optional:v}=p,w=g in c?c[g]:"";if(bs(w)&&!f)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const C=bs(w)?w.join("/"):w;if(!C)if(v)h.length<2&&(d.endsWith("/")?d=d.slice(0,-1):u=!0);else throw new Error(`Missing required param "${g}"`);d+=C}}return d||"/"}return{re:r,score:i,keys:o,parse:l,stringify:a}}function cT(s,e){let t=0;for(;t<s.length&&t<e.length;){const i=e[t]-s[t];if(i)return i;t++}return s.length<e.length?s.length===1&&s[0]===40+40?-1:1:s.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function dT(s,e){let t=0;const i=s.score,n=e.score;for(;t<i.length&&t<n.length;){const o=cT(i[t],n[t]);if(o)return o;t++}if(Math.abs(n.length-i.length)===1){if(xm(i))return 1;if(xm(n))return-1}return n.length-i.length}function xm(s){const e=s[s.length-1];return s.length>0&&e[e.length-1]<0}const uT={type:0,value:""},hT=/[a-zA-Z0-9_]/;function pT(s){if(!s)return[[]];if(s==="/")return[[uT]];if(!s.startsWith("/"))throw new Error(`Invalid path "${s}"`);function e(p){throw new Error(`ERR (${t})/"${c}": ${p}`)}let t=0,i=t;const n=[];let o;function r(){o&&n.push(o),o=[]}let l=0,a,c="",d="";function u(){c&&(t===0?o.push({type:0,value:c}):t===1||t===2||t===3?(o.length>1&&(a==="*"||a==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:d,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):e("Invalid state to consume buffer"),c="")}function h(){c+=a}for(;l<s.length;){if(a=s[l++],a==="\\"&&t!==2){i=t,t=4;continue}switch(t){case 0:a==="/"?(c&&u(),r()):a===":"?(u(),t=1):h();break;case 4:h(),t=i;break;case 1:a==="("?t=2:hT.test(a)?h():(u(),t=0,a!=="*"&&a!=="?"&&a!=="+"&&l--);break;case 2:a===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+a:t=3:d+=a;break;case 3:u(),t=0,a!=="*"&&a!=="?"&&a!=="+"&&l--,d="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${c}"`),u(),r(),n}function fT(s,e,t){const i=aT(pT(s.path),t),n=vt(i,{record:s,parent:e,children:[],alias:[]});return e&&!n.record.aliasOf==!e.record.aliasOf&&e.children.push(n),n}function gT(s,e){const t=[],i=new Map;e=Hm({strict:!1,end:!0,sensitive:!1},e);function n(d){return i.get(d)}function o(d,u,h){const p=!h,g=mT(d);g.aliasOf=h&&h.record;const f=Hm(e,d),v=[g];if("alias"in d){const E=typeof d.alias=="string"?[d.alias]:d.alias;for(const b of E)v.push(vt({},g,{components:h?h.record.components:g.components,path:b,aliasOf:h?h.record:g}))}let w,C;for(const E of v){const{path:b}=E;if(u&&b[0]!=="/"){const S=u.record.path,T=S[S.length-1]==="/"?"":"/";E.path=u.record.path+(b&&T+b)}if(w=fT(E,u,f),h?h.alias.push(w):(C=C||w,C!==w&&C.alias.push(w),p&&d.name&&!Vm(w)&&r(d.name)),g.children){const S=g.children;for(let T=0;T<S.length;T++)o(S[T],w,h&&h.children[T])}h=h||w,(w.record.components&&Object.keys(w.record.components).length||w.record.name||w.record.redirect)&&a(w)}return C?()=>{r(C)}:Pl}function r(d){if(YC(d)){const u=i.get(d);u&&(i.delete(d),t.splice(t.indexOf(u),1),u.children.forEach(r),u.alias.forEach(r))}else{const u=t.indexOf(d);u>-1&&(t.splice(u,1),d.record.name&&i.delete(d.record.name),d.children.forEach(r),d.alias.forEach(r))}}function l(){return t}function a(d){let u=0;for(;u<t.length&&dT(d,t[u])>=0&&(d.record.path!==t[u].record.path||!QC(d,t[u]));)u++;t.splice(u,0,d),d.record.name&&!Vm(d)&&i.set(d.record.name,d)}function c(d,u){let h,p={},g,f;if("name"in d&&d.name){if(h=i.get(d.name),!h)throw gr(1,{location:d});f=h.record.name,p=vt(Gm(u.params,h.keys.filter(C=>!C.optional).map(C=>C.name)),d.params&&Gm(d.params,h.keys.map(C=>C.name))),g=h.stringify(p)}else if("path"in d)g=d.path,h=t.find(C=>C.re.test(g)),h&&(p=h.parse(g),f=h.record.name);else{if(h=u.name?i.get(u.name):t.find(C=>C.re.test(u.path)),!h)throw gr(1,{location:d,currentLocation:u});f=h.record.name,p=vt({},u.params,d.params),g=h.stringify(p)}const v=[];let w=h;for(;w;)v.unshift(w.record),w=w.parent;return{name:f,path:g,params:p,matched:v,meta:CT(v)}}return s.forEach(d=>o(d)),{addRoute:o,resolve:c,removeRoute:r,getRoutes:l,getRecordMatcher:n}}function Gm(s,e){const t={};for(const i of e)i in s&&(t[i]=s[i]);return t}function mT(s){return{path:s.path,redirect:s.redirect,name:s.name,meta:s.meta||{},aliasOf:void 0,beforeEnter:s.beforeEnter,props:vT(s),children:s.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in s?s.components||null:s.component&&{default:s.component}}}function vT(s){const e={},t=s.props||!1;if("component"in s)e.default=t;else for(const i in s.components)e[i]=typeof t=="object"?t[i]:t;return e}function Vm(s){for(;s;){if(s.record.aliasOf)return!0;s=s.parent}return!1}function CT(s){return s.reduce((e,t)=>vt(e,t.meta),{})}function Hm(s,e){const t={};for(const i in s)t[i]=i in e?e[i]:s[i];return t}function QC(s,e){return e.children.some(t=>t===s||QC(s,t))}const XC=/#/g,yT=/&/g,wT=/\//g,ST=/=/g,bT=/\?/g,JC=/\+/g,ET=/%5B/g,RT=/%5D/g,ZC=/%5E/g,TT=/%60/g,ey=/%7B/g,DT=/%7C/g,ty=/%7D/g,OT=/%20/g;function of(s){return encodeURI(""+s).replace(DT,"|").replace(ET,"[").replace(RT,"]")}function _T(s){return of(s).replace(ey,"{").replace(ty,"}").replace(ZC,"^")}function tp(s){return of(s).replace(JC,"%2B").replace(OT,"+").replace(XC,"%23").replace(yT,"%26").replace(TT,"`").replace(ey,"{").replace(ty,"}").replace(ZC,"^")}function PT(s){return tp(s).replace(ST,"%3D")}function AT(s){return of(s).replace(XC,"%23").replace(bT,"%3F")}function FT(s){return s==null?"":AT(s).replace(wT,"%2F")}function id(s){try{return decodeURIComponent(""+s)}catch{}return""+s}function MT(s){const e={};if(s===""||s==="?")return e;const i=(s[0]==="?"?s.slice(1):s).split("&");for(let n=0;n<i.length;++n){const o=i[n].replace(JC," "),r=o.indexOf("="),l=id(r<0?o:o.slice(0,r)),a=r<0?null:id(o.slice(r+1));if(l in e){let c=e[l];bs(c)||(c=e[l]=[c]),c.push(a)}else e[l]=a}return e}function km(s){let e="";for(let t in s){const i=s[t];if(t=PT(t),i==null){i!==void 0&&(e+=(e.length?"&":"")+t);continue}(bs(i)?i.map(o=>o&&tp(o)):[i&&tp(i)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+t,o!=null&&(e+="="+o))})}return e}function LT(s){const e={};for(const t in s){const i=s[t];i!==void 0&&(e[t]=bs(i)?i.map(n=>n==null?null:""+n):i==null?i:""+i)}return e}const IT=Symbol(""),Bm=Symbol(""),Ud=Symbol(""),iy=Symbol(""),ip=Symbol("");function fl(){let s=[];function e(i){return s.push(i),()=>{const n=s.indexOf(i);n>-1&&s.splice(n,1)}}function t(){s=[]}return{add:e,list:()=>s.slice(),reset:t}}function Fn(s,e,t,i,n){const o=i&&(i.enterCallbacks[n]=i.enterCallbacks[n]||[]);return()=>new Promise((r,l)=>{const a=u=>{u===!1?l(gr(4,{from:t,to:e})):u instanceof Error?l(u):oT(u)?l(gr(2,{from:e,to:u})):(o&&i.enterCallbacks[n]===o&&typeof u=="function"&&o.push(u),r())},c=s.call(i&&i.instances[n],e,t,a);let d=Promise.resolve(c);s.length<3&&(d=d.then(a)),d.catch(u=>l(u))})}function Xu(s,e,t,i){const n=[];for(const o of s)for(const r in o.components){let l=o.components[r];if(!(e!=="beforeRouteEnter"&&!o.instances[r]))if(NT(l)){const c=(l.__vccOpts||l)[e];c&&n.push(Fn(c,t,i,o,r))}else{let a=l();n.push(()=>a.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${r}" at "${o.path}"`));const d=BR(c)?c.default:c;o.components[r]=d;const h=(d.__vccOpts||d)[e];return h&&Fn(h,t,i,o,r)()}))}}return n}function NT(s){return typeof s=="object"||"displayName"in s||"props"in s||"__vccOpts"in s}function $m(s){const e=mt(Ud),t=mt(iy),i=B(()=>e.resolve(sr(s.to))),n=B(()=>{const{matched:a}=i.value,{length:c}=a,d=a[c-1],u=t.matched;if(!d||!u.length)return-1;const h=u.findIndex(fr.bind(null,d));if(h>-1)return h;const p=Wm(a[c-2]);return c>1&&Wm(d)===p&&u[u.length-1].path!==p?u.findIndex(fr.bind(null,a[c-2])):h}),o=B(()=>n.value>-1&&HT(t.params,i.value.params)),r=B(()=>n.value>-1&&n.value===t.matched.length-1&&zC(t.params,i.value.params));function l(a={}){return VT(a)?e[sr(s.replace)?"replace":"push"](sr(s.to)).catch(Pl):Promise.resolve()}return{route:i,href:B(()=>i.value.href),isActive:o,isExactActive:r,navigate:l}}const xT=Ae({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:$m,setup(s,{slots:e}){const t=yt($m(s)),{options:i}=mt(Ud),n=B(()=>({[Um(s.activeClass,i.linkActiveClass,"router-link-active")]:t.isActive,[Um(s.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const o=e.default&&e.default(t);return s.custom?o:Bt("a",{"aria-current":t.isExactActive?s.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:n.value},o)}}}),GT=xT;function VT(s){if(!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)&&!s.defaultPrevented&&!(s.button!==void 0&&s.button!==0)){if(s.currentTarget&&s.currentTarget.getAttribute){const e=s.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return s.preventDefault&&s.preventDefault(),!0}}function HT(s,e){for(const t in e){const i=e[t],n=s[t];if(typeof i=="string"){if(i!==n)return!1}else if(!bs(n)||n.length!==i.length||i.some((o,r)=>o!==n[r]))return!1}return!0}function Wm(s){return s?s.aliasOf?s.aliasOf.path:s.path:""}const Um=(s,e,t)=>s??e??t,kT=Ae({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(s,{attrs:e,slots:t}){const i=mt(ip),n=B(()=>s.route||i.value),o=mt(Bm,0),r=B(()=>{let c=sr(o);const{matched:d}=n.value;let u;for(;(u=d[c])&&!u.components;)c++;return c}),l=B(()=>n.value.matched[r.value]);ti(Bm,B(()=>r.value+1)),ti(IT,l),ti(ip,n);const a=K();return pt(()=>[a.value,l.value,s.name],([c,d,u],[h,p,g])=>{d&&(d.instances[u]=c,p&&p!==d&&c&&c===h&&(d.leaveGuards.size||(d.leaveGuards=p.leaveGuards),d.updateGuards.size||(d.updateGuards=p.updateGuards))),c&&d&&(!p||!fr(d,p)||!h)&&(d.enterCallbacks[u]||[]).forEach(f=>f(c))},{flush:"post"}),()=>{const c=n.value,d=s.name,u=l.value,h=u&&u.components[d];if(!h)return jm(t.default,{Component:h,route:c});const p=u.props[d],g=p?p===!0?c.params:typeof p=="function"?p(c):p:null,v=Bt(h,vt({},g,e,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(u.instances[d]=null)},ref:a}));return jm(t.default,{Component:v,route:c})||v}}});function jm(s,e){if(!s)return null;const t=s(e);return t.length===1?t[0]:t}const BT=kT;function $T(s){const e=gT(s.routes,s),t=s.parseQuery||MT,i=s.stringifyQuery||km,n=s.history,o=fl(),r=fl(),l=fl(),a=Xb(_n);let c=_n;qo&&s.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=qu.bind(null,V=>""+V),u=qu.bind(null,FT),h=qu.bind(null,id);function p(V,se){let X,A;return YC(V)?(X=e.getRecordMatcher(V),A=se):A=V,e.addRoute(A,X)}function g(V){const se=e.getRecordMatcher(V);se&&e.removeRoute(se)}function f(){return e.getRoutes().map(V=>V.record)}function v(V){return!!e.getRecordMatcher(V)}function w(V,se){if(se=vt({},se||a.value),typeof V=="string"){const L=Qu(t,V,se.path),z=e.resolve({path:L.path},se),Z=n.createHref(L.fullPath);return vt(L,z,{params:h(z.params),hash:id(L.hash),redirectedFrom:void 0,href:Z})}let X;if("path"in V)X=vt({},V,{path:Qu(t,V.path,se.path).path});else{const L=vt({},V.params);for(const z in L)L[z]==null&&delete L[z];X=vt({},V,{params:u(L)}),se.params=u(se.params)}const A=e.resolve(X,se),J=V.hash||"";A.params=d(h(A.params));const R=UR(i,vt({},V,{hash:_T(J),path:A.path})),O=n.createHref(R);return vt({fullPath:R,hash:J,query:i===km?LT(V.query):V.query||{}},A,{redirectedFrom:void 0,href:O})}function C(V){return typeof V=="string"?Qu(t,V,a.value.path):vt({},V)}function E(V,se){if(c!==V)return gr(8,{from:se,to:V})}function b(V){return D(V)}function S(V){return b(vt(C(V),{replace:!0}))}function T(V){const se=V.matched[V.matched.length-1];if(se&&se.redirect){const{redirect:X}=se;let A=typeof X=="function"?X(V):X;return typeof A=="string"&&(A=A.includes("?")||A.includes("#")?A=C(A):{path:A},A.params={}),vt({query:V.query,hash:V.hash,params:"path"in A?{}:V.params},A)}}function D(V,se){const X=c=w(V),A=a.value,J=V.state,R=V.force,O=V.replace===!0,L=T(X);if(L)return D(vt(C(L),{state:typeof L=="object"?vt({},J,L.state):J,force:R,replace:O}),se||X);const z=X;z.redirectedFrom=se;let Z;return!R&&jR(i,A,X)&&(Z=gr(16,{to:z,from:A}),Me(A,A,!0,!1)),(Z?Promise.resolve(Z):k(z,A)).catch(ne=>on(ne)?on(ne,2)?ne:Te(ne):Y(ne,z,A)).then(ne=>{if(ne){if(on(ne,2))return D(vt({replace:O},C(ne.to),{state:typeof ne.to=="object"?vt({},J,ne.to.state):J,force:R}),se||z)}else ne=W(z,A,!0,O,J);return H(z,A,ne),ne})}function _(V,se){const X=E(V,se);return X?Promise.reject(X):Promise.resolve()}function G(V){const se=oe.values().next().value;return se&&typeof se.runWithContext=="function"?se.runWithContext(V):V()}function k(V,se){let X;const[A,J,R]=WT(V,se);X=Xu(A.reverse(),"beforeRouteLeave",V,se);for(const L of A)L.leaveGuards.forEach(z=>{X.push(Fn(z,V,se))});const O=_.bind(null,V,se);return X.push(O),he(X).then(()=>{X=[];for(const L of o.list())X.push(Fn(L,V,se));return X.push(O),he(X)}).then(()=>{X=Xu(J,"beforeRouteUpdate",V,se);for(const L of J)L.updateGuards.forEach(z=>{X.push(Fn(z,V,se))});return X.push(O),he(X)}).then(()=>{X=[];for(const L of R)if(L.beforeEnter)if(bs(L.beforeEnter))for(const z of L.beforeEnter)X.push(Fn(z,V,se));else X.push(Fn(L.beforeEnter,V,se));return X.push(O),he(X)}).then(()=>(V.matched.forEach(L=>L.enterCallbacks={}),X=Xu(R,"beforeRouteEnter",V,se),X.push(O),he(X))).then(()=>{X=[];for(const L of r.list())X.push(Fn(L,V,se));return X.push(O),he(X)}).catch(L=>on(L,8)?L:Promise.reject(L))}function H(V,se,X){l.list().forEach(A=>G(()=>A(V,se,X)))}function W(V,se,X,A,J){const R=E(V,se);if(R)return R;const O=se===_n,L=qo?history.state:{};X&&(A||O?n.replace(V.fullPath,vt({scroll:O&&L&&L.scroll},J)):n.push(V.fullPath,J)),a.value=V,Me(V,se,X,O),Te()}let P;function N(){P||(P=n.listen((V,se,X)=>{if(!ie.listening)return;const A=w(V),J=T(A);if(J){D(vt(J,{replace:!0}),A).catch(Pl);return}c=A;const R=a.value;qo&&ZR(Mm(R.fullPath,X.delta),Wd()),k(A,R).catch(O=>on(O,12)?O:on(O,2)?(D(O.to,A).then(L=>{on(L,20)&&!X.delta&&X.type===Kl.pop&&n.go(-1,!1)}).catch(Pl),Promise.reject()):(X.delta&&n.go(-X.delta,!1),Y(O,A,R))).then(O=>{O=O||W(A,R,!1),O&&(X.delta&&!on(O,8)?n.go(-X.delta,!1):X.type===Kl.pop&&on(O,20)&&n.go(-1,!1)),H(A,R,O)}).catch(Pl)}))}let F=fl(),x=fl(),I;function Y(V,se,X){Te(V);const A=x.list();return A.length?A.forEach(J=>J(V,se,X)):console.error(V),Promise.reject(V)}function ae(){return I&&a.value!==_n?Promise.resolve():new Promise((V,se)=>{F.add([V,se])})}function Te(V){return I||(I=!V,N(),F.list().forEach(([se,X])=>V?X(V):se()),F.reset()),V}function Me(V,se,X,A){const{scrollBehavior:J}=s;if(!qo||!J)return Promise.resolve();const R=!X&&eT(Mm(V.fullPath,0))||(A||!X)&&history.state&&history.state.scroll||null;return Si().then(()=>J(V,se,R)).then(O=>O&&JR(O)).catch(O=>Y(O,V,se))}const Pe=V=>n.go(V);let xe;const oe=new Set,ie={currentRoute:a,listening:!0,addRoute:p,removeRoute:g,hasRoute:v,getRoutes:f,resolve:w,options:s,push:b,replace:S,go:Pe,back:()=>Pe(-1),forward:()=>Pe(1),beforeEach:o.add,beforeResolve:r.add,afterEach:l.add,onError:x.add,isReady:ae,install(V){const se=this;V.component("RouterLink",GT),V.component("RouterView",BT),V.config.globalProperties.$router=se,Object.defineProperty(V.config.globalProperties,"$route",{enumerable:!0,get:()=>sr(a)}),qo&&!xe&&a.value===_n&&(xe=!0,b(n.location).catch(J=>{}));const X={};for(const J in _n)Object.defineProperty(X,J,{get:()=>a.value[J],enumerable:!0});V.provide(Ud,se),V.provide(iy,cC(X)),V.provide(ip,a);const A=V.unmount;oe.add(V),V.unmount=function(){oe.delete(V),oe.size<1&&(c=_n,P&&P(),P=null,a.value=_n,xe=!1,I=!1),A()}}};function he(V){return V.reduce((se,X)=>se.then(()=>G(X)),Promise.resolve())}return ie}function WT(s,e){const t=[],i=[],n=[],o=Math.max(e.matched.length,s.matched.length);for(let r=0;r<o;r++){const l=e.matched[r];l&&(s.matched.find(c=>fr(c,l))?i.push(l):t.push(l));const a=s.matched[r];a&&(e.matched.find(c=>fr(c,a))||n.push(a))}return[t,i,n]}function rf(){return mt(Ud)}const UT=s=>(Ds("data-v-ae372155"),s=s(),Os(),s),jT=UT(()=>M("div",{class:"header"},"Schenker Connect App",-1)),zT={class:"body"},KT={class:"crumbs"},YT=["onClick"],qT={class:"item"},QT={class:"wrapper"},XT=Ae({__name:"App",setup(s){const e=rf();yt({});const t=()=>{e.push("/home")};return(i,n)=>{const o=we("RouterView");return U(),te(Ue,null,[jT,M("section",zT,[M("div",KT,[i.$route.name!=="Home"?(U(),te("span",{key:0,class:"item active",onClick:Tt(t,["stop"])},"Home",8,YT)):Ne("",!0),M("span",qT," > "+Ve(i.$route.name),1)]),M("div",QT,[le(o)])])],64)}}});const Ge=(s,e)=>{const t=s.__vccOpts||s;for(const[i,n]of e)t[i]=n;return t},JT=Ge(XT,[["__scopeId","data-v-ae372155"]]),ZT=Ae({name:"Home",setup(){}});const eD={class:"user-nav"};function tD(s,e,t,i,n,o){const r=we("router-link");return U(),te("nav",null,[M("div",eD,[le(r,{to:"/manager",class:"user-nav-item"},{default:qe(()=>[ct("Manager")]),_:1}),le(r,{to:"/team-member",class:"user-nav-item"},{default:qe(()=>[ct("TeamMember")]),_:1})])])}const iD=Ge(ZT,[["render",tD]]);window._iconfont_svg_string_4193505='<svg><symbol id="icon-dialog-warn" viewBox="0 0 1024 1024"><path d="M849.12 928.704 174.88 928.704c-45.216 0-81.536-17.728-99.68-48.64-18.144-30.912-15.936-71.296 6.08-110.752L421.472 159.648c22.144-39.744 55.072-62.528 90.304-62.528s68.128 22.752 90.336 62.464l340.544 609.792c22.016 39.456 24.288 79.808 6.112 110.72C930.656 911.008 894.304 928.704 849.12 928.704zM511.808 161.12c-11.2 0-24.032 11.104-34.432 29.696L137.184 800.544c-10.656 19.136-13.152 36.32-6.784 47.168 6.368 10.816 22.592 17.024 44.48 17.024l674.24 0c21.92 0 38.112-6.176 44.48-17.024 6.336-10.816 3.872-28-6.816-47.136L546.24 190.816C535.872 172.224 522.976 161.12 511.808 161.12z"  ></path><path d="M512 640c-17.664 0-32-14.304-32-32l0-288c0-17.664 14.336-32 32-32s32 14.336 32 32l0 288C544 625.696 529.664 640 512 640z"  ></path><path d="M512 752.128m-48 0a1.5 1.5 0 1 0 96 0 1.5 1.5 0 1 0-96 0Z"  ></path></symbol><symbol id="icon-loading" viewBox="0 0 1024 1024"><path d="M533.333333 682.666667v192h-64v-192h64z m-175.317333-72.618667l45.269333 45.269333-135.765333 135.744-45.248-45.226666 135.744-135.786667z m286.634667 0l135.744 135.765333-45.226667 45.248-135.786667-135.744 45.269334-45.269333zM330.666667 480v64h-192v-64h192z m533.333333 0v64h-192v-64h192z m-128.853333-247.061333l45.248 45.226666-135.744 135.786667-45.269334-45.269333 135.765334-135.744z m-467.626667 0l135.765333 135.744-45.269333 45.269333-135.744-135.765333 45.226667-45.248zM533.333333 149.333333v192h-64V149.333333h64z"  ></path></symbol><symbol id="icon-date" viewBox="0 0 1024 1024"><path d="M904.533 162.133h-179.2V93.867a8.533 8.533 0 0 0-8.533-8.534h-59.733a8.533 8.533 0 0 0-8.534 8.534v68.266H375.467V93.867a8.533 8.533 0 0 0-8.534-8.534H307.2a8.533 8.533 0 0 0-8.533 8.534v68.266h-179.2a34.133 34.133 0 0 0-34.134 34.134v708.266a34.133 34.133 0 0 0 34.134 34.134h785.066a34.133 34.133 0 0 0 34.134-34.134V196.267a34.133 34.133 0 0 0-34.134-34.134z m-42.666 699.734H162.133V456.533h699.734v405.334zM162.133 384V238.933h136.534v51.2c0 4.694 3.84 8.534 8.533 8.534h59.733a8.533 8.533 0 0 0 8.534-8.534v-51.2h273.066v51.2c0 4.694 3.84 8.534 8.534 8.534H716.8a8.533 8.533 0 0 0 8.533-8.534v-51.2h136.534V384H162.133z"  ></path></symbol><symbol id="icon-double-arrow-left" viewBox="0 0 1024 1024"><path d="M486.981 728.04l25.838-25.84-177.644-177.628 177.644-177.69-25.853-25.807L283.483 524.54z"  ></path><path d="M691.404 728.04l25.838-25.84-177.644-177.628 177.644-177.69-25.854-25.807L487.906 524.54z"  ></path></symbol><symbol id="icon-single-left" viewBox="0 0 1024 1024"><path d="M620.398 726.233a16.202 16.202 0 0 1-10.986-4.248L389.686 524.231c-3.443-3.149-5.42-7.544-5.42-12.231s1.977-9.155 5.42-12.231l219.726-197.754c6.738-6.08 17.212-5.567 23.291 1.245 6.08 6.738 5.567 17.212-1.245 23.29L425.281 512l206.104 185.522c6.738 6.08 7.324 16.48 1.245 23.291-3.223 3.59-7.764 5.42-12.232 5.42z"  ></path></symbol><symbol id="icon-double-arrow-right" viewBox="0 0 1024 1024"><path d="M537.019 295.96l-25.838 25.84 177.644 177.628-177.644 177.69 25.853 25.807L740.517 499.46z"  ></path><path d="M332.596 295.96l-25.838 25.84 177.644 177.628-177.644 177.69 25.854 25.807L536.094 499.46z"  ></path></symbol><symbol id="icon-uparrow" viewBox="0 0 1024 1024"><path d="M332.229 593.174a17.355 17.355 0 0 1 5.116-12.031l162.278-162.624A17.355 17.355 0 0 1 512 413.472a17.7 17.7 0 0 1 12.446 5.047l162.209 162.624a17.424 17.424 0 1 1-24.615 24.615L512 455.372 361.96 605.481a17.424 17.424 0 0 1-29.731-12.307z"  ></path></symbol><symbol id="icon-icon-Calender-40" viewBox="0 0 1024 1024"><path d="M839.373 178.918H727.27V128a25.6 25.6 0 0 0-25.6-25.6 25.6 25.6 0 0 0-25.6 25.6v50.918H328.755V128a25.6 25.6 0 0 0-25.6-25.6 25.6 25.6 0 0 0-25.6 25.6v50.918h-92.16a88.192 88.192 0 0 0-82.893 92.493v555.725a88.166 88.166 0 0 0 82.765 92.467h654.08a88.166 88.166 0 0 0 82.893-92.467V271.411a88.192 88.192 0 0 0-82.867-92.493z m-654.106 48.845h92.16v72.141a25.6 25.6 0 0 0 25.6 25.6 25.6 25.6 0 0 0 25.6-25.6v-72.14h347.315v72.14a25.6 25.6 0 0 0 25.6 25.6 25.6 25.6 0 0 0 25.6-25.6v-72.14h112.103a39.808 39.808 0 0 1 34.048 43.52v159.334H151.117V271.41a39.808 39.808 0 0 1 34.15-43.648z m654.08 642.995h-654.08a40.269 40.269 0 0 1-34.048-43.52V479.59h722.176v347.546a40.269 40.269 0 0 1-34.022 43.622z"  ></path></symbol><symbol id="icon-magnifying" viewBox="0 0 1024 1024"><path d="M384 746.667A277.333 277.333 0 1 1 384 192a277.333 277.333 0 0 1 0 554.667zM384 704a234.667 234.667 0 1 0 0-469.333A234.667 234.667 0 0 0 384 704z"  ></path><path d="M571.904 659.413l28.587-31.701 167.594 150.912-28.586 31.701z"  ></path></symbol><symbol id="icon-arrow-down" viewBox="0 0 1024 1024"><path d="M512 709.947a16.676 16.676 0 0 1-11.794-4.889L187.172 391.802c-6.51-6.514-6.506-17.071 0.009-23.581 6.514-6.51 17.071-6.506 23.58 0.009L512 669.683l301.237-301.456c6.507-6.513 17.065-6.517 23.58-0.007 6.514 6.51 6.517 17.067 0.009 23.58L523.794 705.058A16.68 16.68 0 0 1 512 709.947z"  ></path></symbol><symbol id="icon-bold-close" viewBox="0 0 1024 1024"><path d="M226.048 833.984h81.28a8 8 0 0 0 6.272-3.072L512 577.024l198.4 253.952c1.536 1.92 3.84 3.072 6.336 3.072h81.216a8 8 0 0 0 6.272-12.928L562.752 512l241.472-309.12a8 8 0 0 0-6.272-12.864h-81.28a8 8 0 0 0-6.272 3.072L512 446.976 313.6 193.024a8 8 0 0 0-6.336-3.072h-81.216a8 8 0 0 0-6.272 12.928L461.248 512 219.776 821.12a8 8 0 0 0 6.272 12.864z"  ></path></symbol><symbol id="icon-dialog-close" viewBox="0 0 1024 1024"><path d="M900.87057411-0.96062079L504.26423127 395.87047063l-396.68125899-396.60634282-105.93150145 105.93150146 396.60634278 396.60634282-396.60634278 396.60634276 105.93150145 105.93150146 396.68125899-396.6063428 396.68125898 396.75617519 105.93150149-106.00641766-396.68125898-396.68125895 396.68125898-396.75617521z"  ></path></symbol><symbol id="icon-error" viewBox="0 0 1024 1024"><path d="M0 0m512 0l0 0q512 0 512 512l0 0q0 512-512 512l0 0q-512 0-512-512l0 0q0-512 512-512Z" fill="#FFFFFF" ></path><path d="M512 645.142756a39.844978 39.844978 0 0 1-39.822222-39.822223V288.950044a39.844978 39.844978 0 0 1 39.822222-39.822222 39.844978 39.844978 0 0 1 39.822222 39.822222v316.302223a39.844978 39.844978 0 0 1-39.822222 39.890489z" fill="#EC0016" ></path><path d="M512.022756 736.119467m-39.822223 0a39.822222 39.822222 0 1 0 79.644445 0 39.822222 39.822222 0 1 0-79.644445 0Z" fill="#EC0016" ></path></symbol><symbol id="icon-success" viewBox="0 0 1024 1024"><path d="M0 0m512 0l0 0q512 0 512 512l0 0q0 512-512 512l0 0q-512 0-512-512l0 0q0-512 512-512Z" fill="#FFFFFF" ></path><path d="M430.8992 667.739022l-120.149333-129.706666a22.300444 22.300444 0 0 1 1.206044-31.561956 22.254933 22.254933 0 0 1 31.561956 1.206044l88.086755 95.072712 235.178667-242.870045a22.3232 22.3232 0 0 1 31.584711-0.523378 22.3232 22.3232 0 0 1 0.523378 31.584711z" fill="#167D86" ></path></symbol><symbol id="icon-warn" viewBox="0 0 1024 1024"><path d="M0 0m512 0l0 0q512 0 512 512l0 0q0 512-512 512l0 0q-512 0-512-512l0 0q0-512 512-512Z" fill="#FFFFFF" ></path><path d="M628.144356 327.133867a178.540089 178.540089 0 0 0-61.371734-39.799467c-1.8432-46.557867-29.172622-82.693689-63.419733-82.693689a55.455289 55.455289 0 0 0-46.057245 28.148622 104.129422 104.129422 0 0 0-14.631822 53.475556 170.416356 170.416356 0 0 0-62.987378 40.914489 174.011733 174.011733 0 0 0-49.5616 125.246578l2.434845 172.919466-88.632889 120.877511 188.734578-0.113777a82.693689 82.693689 0 0 0 80.054044 64.398222 79.030044 79.030044 0 0 0 41.984-11.969422 80.258844 80.258844 0 0 0 14.813867-11.946667 79.644444 79.644444 0 0 0 21.208178-40.573156l189.417244-0.091022-95.891911-122.424889-2.639644-171.076266a179.336533 179.336533 0 0 0-53.475556-125.292089z m-138.740623-73.409423a21.003378 21.003378 0 0 1 14.654578-10.899911c9.329778 0 20.024889 14.336 23.688533 34.360889a175.945956 175.945956 0 0 0-24.598755-1.911466 179.768889 179.768889 0 0 0-21.617778 1.479111 60.711822 60.711822 0 0 1 7.873422-23.028623z m52.952178 505.787734a41.756444 41.756444 0 0 1-30.151111 12.652089 43.758933 43.758933 0 0 1-39.776711-26.123378l78.825244-0.045511a42.530133 42.530133 0 0 1-8.942933 13.539555z m101.307733-307.154489l2.821689 184.183467 55.7056 71.111111-382.520889 0.250311 51.2-69.791289-2.8672-185.526045a136.374044 136.374044 0 0 1 38.843734-98.212977 134.121244 134.121244 0 0 1 96.824889-40.709689 138.4448 138.4448 0 0 1 98.144711 40.641422 140.629333 140.629333 0 0 1 41.801955 98.076444z" fill="#FF9300" ></path></symbol><symbol id="icon-info" viewBox="0 0 1024 1024"><path d="M0 0m512 0l0 0q512 0 512 512l0 0q0 512-512 512l0 0q-512 0-512-512l0 0q0-512 512-512Z" fill="#FFFFFF" ></path><path d="M511.271822 409.1904a68.266667 68.266667 0 0 0 68.084622-68.084622 68.266667 68.266667 0 0 0-68.084622-68.084622 68.266667 68.266667 0 0 0-68.084622 68.084622 68.266667 68.266667 0 0 0 68.084622 68.084622z m0-93.479822a25.417956 25.417956 0 0 1 25.417956 25.417955 25.417956 25.417956 0 0 1-25.417956 25.417956 25.417956 25.417956 0 0 1-25.417955-25.417956 25.417956 25.417956 0 0 1 25.417955-25.417955zM548.704711 496.071111a25.031111 25.031111 0 0 0-16.611555-23.620267 25.031111 25.031111 0 0 0-27.807289 7.668623 77.983289 77.983289 0 0 1-55.864889 31.652977v42.666667a102.536533 102.536533 0 0 0 57.639822-18.568533v172.555378h-73.045333v42.666666h158.037333v-42.666666h-42.325333z" fill="#009DFF" ></path></symbol><symbol id="icon-notice" viewBox="0 0 1024 1024"><path d="M512 910.234c219.955 0 398.234-178.279 398.234-398.234S731.955 113.766 512 113.766c-219.955 0-398.234 178.279-398.234 398.234S292.045 910.234 512 910.234z m0 56.832C260.608 967.066 56.934 763.392 56.934 512S260.608 56.934 512 56.934 967.066 260.71 967.066 512 763.392 967.066 512 967.066z"  ></path><path d="M540.467 711.066h28.467c15.668 0 28.468 12.697 28.468 28.467S584.602 768 568.934 768H455.066c-15.668 0-28.468-12.698-28.468-28.467s12.698-28.467 28.468-28.467h28.467v-256h-14.234c-15.667 0-28.467-12.698-28.467-28.468 0-15.667 12.698-28.467 28.467-28.467H512c15.667 0 28.467 12.698 28.467 28.467v284.468zM469.3 298.7a42.7 42.7 0 1 0 85.4 0 42.7 42.7 0 1 0-85.4 0z"  ></path></symbol></svg>',function(s){var t=(t=document.getElementsByTagName("script"))[t.length-1],e=t.getAttribute("data-injectcss"),t=t.getAttribute("data-disable-injectsvg");if(!t){var i,n,o,r,l,a=function(u,h){h.parentNode.insertBefore(u,h)};if(e&&!s.__iconfont__svg__cssinject__){s.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(u){console&&console.log(u)}}i=function(){var u,h=document.createElement("div");h.innerHTML=s._iconfont_svg_string_4193505,(h=h.getElementsByTagName("svg")[0])&&(h.setAttribute("aria-hidden","true"),h.style.position="absolute",h.style.width=0,h.style.height=0,h.style.overflow="hidden",h=h,(u=document.body).firstChild?a(h,u.firstChild):u.appendChild(h))},document.addEventListener?~["complete","loaded","interactive"].indexOf(document.readyState)?setTimeout(i,0):(n=function(){document.removeEventListener("DOMContentLoaded",n,!1),i()},document.addEventListener("DOMContentLoaded",n,!1)):document.attachEvent&&(o=i,r=s.document,l=!1,d(),r.onreadystatechange=function(){r.readyState=="complete"&&(r.onreadystatechange=null,c())})}function c(){l||(l=!0,o())}function d(){try{r.documentElement.doScroll("left")}catch{return void setTimeout(d,50)}c()}}(window);const sD=Ae({name:"Icon",props:{classes:{type:String,default:""},size:{type:[String,Number]},color:{type:String,default:""}},setup(s){const e="#8a8a8a";return{iconName:B(()=>`#${s.classes}`),styles:B(()=>({transition:"transform 500ms",width:`${s.size/19.2}rem`,height:`${s.size/19.2}rem`,color:s.color||e}))}}});const nD=["href"];function oD(s,e,t,i,n,o){return U(),te("svg",{class:"icon","aria-hidden":"true",style:ii(s.styles)},[M("use",{href:s.iconName},null,8,nD)],4)}const rD=Ge(sD,[["render",oD],["__scopeId","data-v-2da1df03"]]),Lt=rD;Lt.install=s=>s.component(Lt.name,Lt);const lD={small:24,medium:24,large:26},aD={warn:"#ec0016",primary:"#ffffff",blank:"#167d86"},cD=Ae({name:"Button",components:{Icon:Lt},props:{size:{type:String,default:"medium",validator:s=>["small","medium","large"].includes(s)},type:{type:String,validator:s=>["blank","primary","warn"].includes(s),default:"primary"},disabled:{type:Boolean,default:!1},iconColor:{type:String,default:""},loading:{type:Boolean,default:!1}},emits:["click"],setup(s,{emit:e}){return{classes:B(()=>({[`button-${s.size}`]:!0,[`button-${s.type}`]:!0,[`button-${s.type}-disabled`]:s.disabled||s.loading,"is-loading":s.loading})),labelClasses:B(()=>({[`button-label-${s.size}`]:s.loading})),iconSize:B(()=>lD[s.size]),loadingColor:B(()=>aD[s.type]),handleClick(t){s.disabled||s.loading||e("click",t)}}}});const dD={key:0};function uD(s,e,t,i,n,o){const r=we("icon");return U(),te("div",{class:Re([s.classes,"button"]),onClick:e[0]||(e[0]=(...l)=>s.handleClick&&s.handleClick(...l))},[s.$slots.prefixIcon?(U(),te("div",dD,[it(s.$slots,"prefixIcon",{},void 0,!0)])):Ne("",!0),s.loading?(U(),ot(r,{key:1,class:"button-loading",classes:"icon-loading",color:s.loadingColor,size:s.iconSize},null,8,["color","size"])):Ne("",!0),M("div",{class:Re(["button-label",s.labelClasses])},[it(s.$slots,"default",{},void 0,!0)],2)],2)}const hD=Ge(cD,[["render",uD],["__scopeId","data-v-e11b6df8"]]),Ii=hD;Ii.install=s=>s.component(Ii.name,Ii);const lf=Symbol("tscForm"),Ta=Symbol("tscFormItem"),pD=Ae({name:"Input",components:{tsIcon:Lt},props:{size:{type:String,validator:s=>["medium","large","small"].includes(s),default:"medium"},suffixIcon:{type:String,default:""},iconColor:{type:String,default:""},modelValue:{type:[String,Number,Object],default:""},maxlength:{type:[Number,String]},minlength:{type:[Number,String]},autofocus:{type:Boolean,default:!1},label:{type:String,default:""},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},type:{type:String,default:"text"},selfStyle:{type:String,default:""}},emits:["update:modelValue","blur","focus","input","change","suffix-handle"],setup(s,{emit:e}){const t=mt(Ta,{}),i=K(!1),n=K(!1),o=K(null),r=K(null),l=p=>p===""||p===void 0||p===null||p.length===0;pt(()=>s.modelValue,p=>{n.value||(i.value=!l(p))},{immediate:!0}),pt(()=>s.autofocus,p=>{p&&a()},{immediate:!0});const a=()=>{s.readonly||(n.value=!0,i.value=!0,Si(()=>{var p;(p=o.value)==null||p.focus()}),e("focus",s.modelValue))},c=()=>{var p;s.readonly||(n.value=!1,i.value=!l(s.modelValue),(p=t.validate)==null||p.call(t,"blur"),e("blur",s.modelValue))},d=p=>{var g;(g=t.validate)==null||g.call(t,"change"),e("change",p.target.value)},u=p=>{e("input",p.target.value),e("update:modelValue",p.target.value)},h=()=>{e("suffix-handle")};return{active:i,classStyle:B(()=>({[`input-${s.size||"medium"}`]:!0,[i.value?"area-active":"area-normal"]:!0,"input-readonly":s.readonly})),inputClasses:B(()=>({"input-readonly":s.readonly})),iconSize:B(()=>s.size==="large"?"32":"22"),handleInput:u,focusHandle:a,blurHandle:c,tscInput:o,handleChange:d,suffixHandle:h,inputRef:r}}});const fD={key:0,class:"input-prepend"},gD=["type","minlength","maxlength","readonly","autocomplete","value"],mD={key:1,class:"input-append"},vD={key:2};function CD(s,e,t,i,n,o){const r=we("ts-icon");return U(),te("div",{ref:"inputRef",class:Re(["input input-multiscreen",s.classStyle]),style:ii(s.selfStyle)},[s.$slots.prefixIcon?(U(),te("div",fD,[it(s.$slots,"prefixIcon",{},void 0,!0)])):Ne("",!0),M("div",{class:"input-content",onClick:e[4]||(e[4]=Tt((...l)=>s.focusHandle&&s.focusHandle(...l),["stop"]))},[s.label?(U(),te("label",{key:0,class:Re(["input-content-label",[s.active?"input-content-label-focus":"",s.inputClasses]])},Ve(s.label),3)):Ne("",!0),M("input",{ref:"tscInput",class:Re(["input-content-insert",s.inputClasses]),type:s.type,minlength:s.minlength,maxlength:s.maxlength,readonly:s.readonly,autocomplete:s.autocomplete,value:s.modelValue,onInput:e[0]||(e[0]=(...l)=>s.handleInput&&s.handleInput(...l)),onBlur:e[1]||(e[1]=(...l)=>s.blurHandle&&s.blurHandle(...l)),onFocus:e[2]||(e[2]=(...l)=>s.focusHandle&&s.focusHandle(...l)),onChange:e[3]||(e[3]=(...l)=>s.handleChange&&s.handleChange(...l))},null,42,gD)]),s.suffixIcon?(U(),te("div",mD,[le(r,{classes:s.suffixIcon,color:s.iconColor,size:s.iconSize,onClick:Tt(s.suffixHandle,["stop"])},null,8,["classes","color","size","onClick"])])):Ne("",!0),s.$slots.append?(U(),te("div",vD,[it(s.$slots,"append",{},void 0,!0)])):Ne("",!0)],6)}const yD=Ge(pD,[["render",CD],["__scopeId","data-v-3b56fe84"]]),ms=yD;ms.install=s=>s.component(ms.name,ms);const pn="update:modelValue",$n="change",vs={datePicker:"#707070",transferPanel:"#1f2020",transfer:"#525252",black:"#333333",white:"#ffffff",node:"#646972",breadcrumb:"#646972",tag:"#ec0016",confirmBox:"#333333",dropdown:"#333333",darkGreen:"#167D86"};var Vc=(s=>(s[s.TEXT=1]="TEXT",s[s.CLASS=2]="CLASS",s[s.STYLE=4]="STYLE",s[s.PROPS=8]="PROPS",s[s.FULL_PROPS=16]="FULL_PROPS",s[s.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",s[s.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",s[s.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",s[s.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",s[s.NEED_PATCH=512]="NEED_PATCH",s[s.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",s[s.HOISTED=-1]="HOISTED",s[s.BAIL=-2]="BAIL",s))(Vc||{});const Yl=s=>typeof s=="number";function us(s){return bt(s)?s:Yl(s)?`${s}px`:""}function Ju(s,e,t){let i=s,n,o;if(s&&lt(s,e))n=e,o=i==null?void 0:i[e];else{e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,"");const r=e.split(".");let l=0;for(l;l<r.length-1&&!(!i&&!t);l++){const a=r[l];if(a in i)i=i[a];else{if(t)throw new Error("please transfer a valid prop path to form item!");break}}n=r[l],o=i==null?void 0:i[r[l]]}return{o:i,k:n,v:o}}const sy=s=>Array.from(Array(s).keys());function wD(s){const e={};for(let t=0;t<s.length;t++)s[t]&&At(e,s[t]);return e}const Fl=s=>!s&&s!==0?[]:Array.isArray(s)?s:[s],ny=s=>s.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),oy=s=>s.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim();function af(){const s=window.crypto||window.msCrypto,e=new Uint32Array(1);return s.getRandomValues(e),e.join("")}const ry=s=>{if(!s)return{onClick:ci,onMousedown:ci,onMouseup:ci};let e=!1,t=!1;return{onClick:r=>{e&&t&&s(r),e=t=!1},onMousedown:r=>{e=r.target===r.currentTarget},onMouseup:r=>{t=r.target===r.currentTarget}}},jd=()=>{const s=mt(lf,{}),e=mt(Ta,{}),t=mt("CheckboxGroup",{});return{isGroup:B(()=>t&&(t==null?void 0:t.name)==="CheckboxGroup"),checkboxGroup:t,tscForm:s,tscFormItem:e}},SD=(s,e)=>{const t=K(!1),{isGroup:i,checkboxGroup:n}=jd(),o=B(()=>{var l;return n?(l=n.modelValue)==null?void 0:l.value:s.modelValue});return{model:B({get(){return i.value?o.value:s.modelValue??t.value},set(l){var a;i.value&&Array.isArray(l)?(a=n==null?void 0:n.changeEvent)==null||a.call(n,l):(e(pn,l),t.value=l)}})}},bD=(s,{model:e})=>{const{isGroup:t,checkboxGroup:i}=jd(),n=K(!1),o=B(()=>{const l=e.value;return Vr(l)==="[object Boolean]"?l:Array.isArray(l)?l.includes(s.label):l!=null?l===s.trueLabel:!!l}),r=B(()=>{var a;const l=s.size;return t.value&&((a=i==null?void 0:i.size)==null?void 0:a.value)||l});return{isChecked:o,focus:n,checkboxSize:r}},ED=s=>{const{isGroup:e,checkboxGroup:t}=jd();return{isDisabled:B(()=>{var o;const n=s.disabled;return e.value?((o=t.disabled)==null?void 0:o.value)||n:s.disabled})}},RD=(s,{model:e})=>{function t(){Array.isArray(e.value)&&!e.value.includes(s.label)?e.value.push(s.label):e.value=s.trueLabel||!0}s.checked&&t()},TD=(s,e)=>{const{tscFormItem:t}=jd();function i(n){const r=n.target.checked?s.trueLabel??!0:s.falseLabel??!1;e("change",r,n)}return pt(()=>s.modelValue,()=>{var n;(n=t.validate)==null||n.call(t,"change")}),{handleChange:i}},DD=(s,e)=>{const t=K(s.color||"#5db1b9"),i=B(()=>{const d={};return s.minWidth&&(d.minWidth=us(s.minWidth),d.minHeight=d.minWidth),d}),{model:n}=SD(s,e),{focus:o,isChecked:r,checkboxSize:l}=bD(s,{model:n}),{isDisabled:a}=ED(s),{handleChange:c}=TD(s,e);return RD(s,{model:n}),{color:t,style:i,isChecked:r,isDisabled:a,checkboxSize:l,model:n,handleChange:c,focus:o}},cf=Ae({name:"Checkbox",props:{modelValue:{type:[Boolean,Number,String],default:()=>{}},label:{type:[String,Boolean,Number,Object],default:""},color:{type:String,default:""},minWidth:{type:[String,Number],default:""},disabled:Boolean,checked:Boolean,indeterminate:Boolean},emits:["update:modelValue","change"],setup(s,{emit:e}){return DD(s,e)}}),zm=()=>{OR(s=>({"3d3cd50e":s.color}))},Km=cf.setup;cf.setup=Km?(s,e)=>(zm(),Km(s,e)):zm;const OD={class:"checkbox"},_D=["aria-hidden","disabled","value"],PD={key:0,class:"checkbox-label"};function AD(s,e,t,i,n,o){return U(),te("label",OD,[M("span",{class:Re(["checkbox-input",{"is-disabled":s.isDisabled,"is-checked":s.isChecked,"is-indeterminate":!s.isChecked&&s.indeterminate}]),style:ii(s.style)},[at(M("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>s.model=r),class:"checkbox-original",type:"checkbox","aria-hidden":s.indeterminate?"true":"false",disabled:s.isDisabled,value:s.label,onChange:e[1]||(e[1]=(...r)=>s.handleChange&&s.handleChange(...r)),onFocus:e[2]||(e[2]=r=>s.focus=!0),onBlur:e[3]||(e[3]=r=>s.focus=!1)},null,40,_D),[[IR,s.model]])],6),s.label&&!s.$slots.default?(U(),te("span",PD,Ve(s.label),1)):Ne("",!0),s.$slots.default?it(s.$slots,"default",{key:1},void 0,!0):Ne("",!0)])}const FD=Ge(cf,[["render",AD],["__scopeId","data-v-dbf8c1a7"]]),MD=Ae({name:"CheckboxGroup",props:{modelValue:{type:[Object,Boolean,Array],default:()=>{}},disabled:Boolean},emit:["update:modelValue","change"],setup(s,{emit:e}){const t=n=>{e("update:modelValue",n),Si(()=>{e("change",n)})},i=B({get(){return s.modelValue},set(n){t(n)}});ti("CheckboxGroup",{name:"CheckboxGroup",modelValue:i,changeEvent:t})}}),LD={class:"checkbox-group"};function ID(s,e,t,i,n,o){return U(),te("div",LD,[it(s.$slots,"default")])}const ND=Ge(MD,[["render",ID]]),Ml=FD,Hc=ND;Ml.install=s=>s.component(Ml.name,Ml);Hc.install=s=>s.component(Hc.name,Hc);var ly=function(){if(typeof Map<"u")return Map;function s(e,t){var i=-1;return e.some(function(n,o){return n[0]===t?(i=o,!0):!1}),i}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var i=s(this.__entries__,t),n=this.__entries__[i];return n&&n[1]},e.prototype.set=function(t,i){var n=s(this.__entries__,t);~n?this.__entries__[n][1]=i:this.__entries__.push([t,i])},e.prototype.delete=function(t){var i=this.__entries__,n=s(i,t);~n&&i.splice(n,1)},e.prototype.has=function(t){return!!~s(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,i){i===void 0&&(i=null);for(var n=0,o=this.__entries__;n<o.length;n++){var r=o[n];t.call(i,r[1],r[0])}},e}()}(),sp=typeof window<"u"&&typeof document<"u"&&window.document===document,sd=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),xD=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(sd):function(s){return setTimeout(function(){return s(Date.now())},1e3/60)}}(),GD=2;function VD(s,e){var t=!1,i=!1,n=0;function o(){t&&(t=!1,s()),i&&l()}function r(){xD(o)}function l(){var a=Date.now();if(t){if(a-n<GD)return;i=!0}else t=!0,i=!1,setTimeout(r,e);n=a}return l}var HD=20,kD=["top","right","bottom","left","width","height","size","weight"],BD=typeof MutationObserver<"u",$D=function(){function s(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=VD(this.refresh.bind(this),HD)}return s.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},s.prototype.removeObserver=function(e){var t=this.observers_,i=t.indexOf(e);~i&&t.splice(i,1),!t.length&&this.connected_&&this.disconnect_()},s.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},s.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},s.prototype.connect_=function(){!sp||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),BD?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},s.prototype.disconnect_=function(){!sp||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},s.prototype.onTransitionEnd_=function(e){var t=e.propertyName,i=t===void 0?"":t,n=kD.some(function(o){return!!~i.indexOf(o)});n&&this.refresh()},s.getInstance=function(){return this.instance_||(this.instance_=new s),this.instance_},s.instance_=null,s}(),ay=function(s,e){for(var t=0,i=Object.keys(e);t<i.length;t++){var n=i[t];Object.defineProperty(s,n,{value:e[n],enumerable:!1,writable:!1,configurable:!0})}return s},mr=function(s){var e=s&&s.ownerDocument&&s.ownerDocument.defaultView;return e||sd},cy=zd(0,0,0,0);function nd(s){return parseFloat(s)||0}function Ym(s){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(i,n){var o=s["border-"+n+"-width"];return i+nd(o)},0)}function WD(s){for(var e=["top","right","bottom","left"],t={},i=0,n=e;i<n.length;i++){var o=n[i],r=s["padding-"+o];t[o]=nd(r)}return t}function UD(s){var e=s.getBBox();return zd(0,0,e.width,e.height)}function jD(s){var e=s.clientWidth,t=s.clientHeight;if(!e&&!t)return cy;var i=mr(s).getComputedStyle(s),n=WD(i),o=n.left+n.right,r=n.top+n.bottom,l=nd(i.width),a=nd(i.height);if(i.boxSizing==="border-box"&&(Math.round(l+o)!==e&&(l-=Ym(i,"left","right")+o),Math.round(a+r)!==t&&(a-=Ym(i,"top","bottom")+r)),!KD(s)){var c=Math.round(l+o)-e,d=Math.round(a+r)-t;Math.abs(c)!==1&&(l-=c),Math.abs(d)!==1&&(a-=d)}return zd(n.left,n.top,l,a)}var zD=function(){return typeof SVGGraphicsElement<"u"?function(s){return s instanceof mr(s).SVGGraphicsElement}:function(s){return s instanceof mr(s).SVGElement&&typeof s.getBBox=="function"}}();function KD(s){return s===mr(s).document.documentElement}function YD(s){return sp?zD(s)?UD(s):jD(s):cy}function qD(s){var e=s.x,t=s.y,i=s.width,n=s.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,r=Object.create(o.prototype);return ay(r,{x:e,y:t,width:i,height:n,top:t,right:e+i,bottom:n+t,left:e}),r}function zd(s,e,t,i){return{x:s,y:e,width:t,height:i}}var QD=function(){function s(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=zd(0,0,0,0),this.target=e}return s.prototype.isActive=function(){var e=YD(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},s.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},s}(),XD=function(){function s(e,t){var i=qD(t);ay(this,{target:e,contentRect:i})}return s}(),JD=function(){function s(e,t,i){if(this.activeObservations_=[],this.observations_=new ly,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=i}return s.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof mr(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new QD(e)),this.controller_.addObserver(this),this.controller_.refresh())}},s.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof mr(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},s.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},s.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},s.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(i){return new XD(i.target,i.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},s.prototype.clearActive=function(){this.activeObservations_.splice(0)},s.prototype.hasActive=function(){return this.activeObservations_.length>0},s}(),dy=typeof WeakMap<"u"?new WeakMap:new ly,uy=function(){function s(e){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=$D.getInstance(),i=new JD(e,t,this);dy.set(this,i)}return s}();["observe","unobserve","disconnect"].forEach(function(s){uy.prototype[s]=function(){var e;return(e=dy.get(this))[s].apply(e,arguments)}});var ZD=function(){return typeof sd.ResizeObserver<"u"?sd.ResizeObserver:uy}();const eO=function(s){for(const e of s){const t=e.target.__resizeListeners__||[];t.length&&t.forEach(i=>{i()})}},tO=function(s,e){s&&(s.__resizeListeners__||(s.__resizeListeners__=[],s.__ro__=new ZD(eO),s.__ro__.observe(s)),s.__resizeListeners__.push(e))},iO=function(s,e){var t;!s||!s.__resizeListeners__||(s.__resizeListeners__.splice(s.__resizeListeners__.indexOf(e),1),s.__resizeListeners__.length||(t=s.__ro__)==null||t.disconnect())},Qo=function(s,e,t,i=!1){s&&e&&t&&(s==null||s.addEventListener(e,t,i))},gl=function(s,e,t,i=!1){s&&e&&t&&(s==null||s.removeEventListener(e,t,i))};function vr(s,e){if(!s||!e)return!1;if(e.indexOf(" ")!==-1)throw new Error("className should not contain space.");return s.classList?s.classList.contains(e):(" "+s.className+" ").indexOf(" "+e+" ")>-1}function sO(s,e){if(!s)return;let t=s.className;const i=(e||"").split(" ");for(let n=0,o=i.length;n<o;n++){const r=i[n];r&&(s.classList?s.classList.add(r):vr(s,r)||(t+=" "+r))}s.classList||(s.className=t)}function nO(s,e){if(!s||!e)return;const t=e.split(" ");let i=" "+s.className+" ";for(let n=0,o=t.length;n<o;n++){const r=t[n];r&&(s.classList?s.classList.remove(r):vr(s,r)&&(i=i.replace(" "+r+" "," ")))}s.classList||(s.className=i.trim())}const qm=(s,e)=>{var t;if(!s||!e)return"";Ss(e);try{const i=s.style[e];if(i)return i;const n=(t=document.defaultView)==null?void 0:t.getComputedStyle(s,"");return n?n[e]:""}catch{return s.style[e]}};let Oc;const oO=()=>{var n;if(Oc!==void 0)return Oc;const s=document.createElement("div");s.style.overflow="scroll",s.style.visibility="hidden",s.style.width="100px",s.style.position="absolute",s.style.top="-9999px",document.body.appendChild(s);const e=s.offsetWidth,t=document.createElement("div");t.style.width="100%",s.appendChild(t);const i=t.offsetWidth;return(n=s.parentNode)==null||n.removeChild(s),Oc=e-i,Oc},rO=s=>{let e=document.body;return s&&(bt(s)&&(e=document.body.querySelector(s)),Qm(s)&&(e=s),Qm(e)||(console.warn("the appendTo option is not an HTMLElement. Falling back to document.body."),e=document.body)),e},Qm=s=>typeof Element>"u"?!1:s instanceof Element,hy=(s,e)=>{const t=document.documentElement.clientHeight,i=s.getBoundingClientRect().bottom,n=e.getBoundingClientRect().height,o=s.getBoundingClientRect().top,r=100;t-i-n<10?o-n-n<0?e.style.top=-o+r+"px":e.style.top=-n-4+"px":e.style.top=""},lO={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}};function aO({move:s,size:e,bar:t}){const i={},n=`translate${t.axis}(${s}%)`;return i[t.size]=e,i.transform=n,i.msTransform=n,i.webkitTransform=n,i}const cO=Ae({name:"Bar",props:{vertical:Boolean,size:String,move:Number,ratio:Number,always:Boolean,barShow:{type:Boolean,default:!1}},setup(s){const e=K(null),t=K(null),i=mt("scrollbar",{}),n=mt("scrollbar-wrap",{}),o=B(()=>lO[s.vertical?"vertical":"horizontal"]),r=K({}),l=K(!1),a=K(!1),c=K(!1);let d=null;const u=B(()=>e.value[o.value.offset]**2/n.value[o.value.scrollSize]/s.ratio/t.value[o.value.offset]),h=b=>{var S,T;b.stopPropagation(),!(b.ctrlKey||[1,2].includes(b.button))&&((S=window.getSelection())==null||S.removeAllRanges(),g(b),r.value[o.value.axis]=((T=b.currentTarget)==null?void 0:T[o.value.offset])-(b[o.value.client]-b.currentTarget.getBoundingClientRect()[o.value.direction]))},p=b=>{const S=Math.abs(b.target.getBoundingClientRect()[o.value.direction]-b[o.value.client]),T=t.value[o.value.offset]/2,D=(S-T)*100*u.value/e.value[o.value.offset];n.value[o.value.scroll]=D*n.value[o.value.scrollSize]/100},g=b=>{b.stopImmediatePropagation(),l.value=!0,Qo(document,"mousemove",f),Qo(document,"mouseup",v),d=document.onselectstart,document.onselectstart=()=>!1},f=b=>{if(l.value===!1)return;const S=r.value[o.value.axis];if(!S)return;const T=(e.value.getBoundingClientRect()[o.value.direction]-b[o.value.client])*-1,D=t.value[o.value.offset]-S,_=(T-D)*100*u.value/e.value[o.value.offset];n.value[o.value.scroll]=_*n.value[o.value.scrollSize]/100},v=()=>{l.value=!1,r.value[o.value.axis]=0,gl(document,"mousemove",f),gl(document,"mouseup",v),document.onselectstart=d,a.value&&(c.value=!1)},w=B(()=>aO({size:s.size,move:s.move,bar:o.value})),C=()=>{a.value=!1,c.value=!!s.size},E=()=>{a.value=!0,c.value=l.value};return xt(()=>{Qo(i.value,"mousemove",C),Qo(i.value,"mouseleave",E)}),Qs(()=>{gl(document,"mouseup",v),gl(i.value,"mousemove",C),gl(i.value,"mouseleave",E)}),{instance:e,thumb:t,bar:o,clickTrackHandler:p,clickThumbHandler:h,thumbStyle:w,visible:c}}});function dO(s,e,t,i,n,o){return U(),ot($s,{name:"scrollbar-fade"},{default:qe(()=>[at(M("div",{ref:"instance",class:Re(["scrollbar-bar",s.barShow&&"scrollbar-bar-show","is-"+s.bar.key]),onMousedown:e[1]||(e[1]=(...r)=>s.clickTrackHandler&&s.clickTrackHandler(...r))},[M("div",{ref:"thumb",class:"scrollbar-thumb",style:ii(s.thumbStyle),onMousedown:e[0]||(e[0]=(...r)=>s.clickThumbHandler&&s.clickThumbHandler(...r))},null,36)],34),[[Ot,s.always||s.visible]])]),_:1})}const uO=Ge(cO,[["render",dO],["__scopeId","data-v-0821a55f"]]),hO=Ae({name:"Scrollbar",components:{Bar:uO},props:{height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:[String,Array],default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:{type:Boolean,default:!1},minSize:{type:Number,default:20},barShow:{type:Boolean,default:!1}},emits:["scroll"],setup(s,{emit:e}){const t=K("0"),i=K("0"),n=K(0),o=K(0),r=K(null),l=K(null),a=K(null),c=K(1),d=K(1),u="Scrollbar",h=4;ti("scrollbar",r),ti("scrollbar-wrap",l);const p=()=>{if(l.value){const C=l.value.offsetHeight-h,E=l.value.offsetWidth-h;o.value=l.value.scrollTop*100/C*c.value,n.value=l.value.scrollLeft*100/E*d.value,e("scroll",{scrollTop:l.value.scrollTop,scrollLeft:l.value.scrollLeft})}},g=C=>{if(!Yl(C)){console.error(u,"value must be a number");return}l.value.scrollTop=C},f=C=>{if(!Yl(C)){console.error(u,"value must be a number");return}l.value.scrollLeft=C},v=()=>{if(!l.value)return;const C=l.value.offsetHeight-h,E=l.value.offsetWidth-h,b=C**2/l.value.scrollHeight,S=E**2/l.value.scrollWidth,T=Math.max(b,s.minSize),D=Math.max(S,s.minSize);c.value=b/(C-b)/(T/(C-T)),d.value=S/(E-S)/(D/(E-D)),i.value=T+h<C?`${T}px`:"",t.value=D+h<E?`${D}px`:""},w=B(()=>{let C=s.wrapStyle;return Ie(C)?(C=wD(C),s.height&&(C.height=us(s.height)),s.maxHeight&&(C.maxHeight=us(s.maxHeight))):bt(C)&&(C+=us(s.height)?`height: ${us(s.height)};`:"",C+=us(s.maxHeight)?`max-height: ${us(s.maxHeight)};`:""),C});return xt(()=>{s.native||Si(v),s.noresize||(tO(a.value,v),addEventListener("resize",v))}),Qs(()=>{s.noresize||(iO(a.value,v),removeEventListener("resize",v))}),{moveX:n,moveY:o,ratioX:d,ratioY:c,sizeWidth:t,sizeHeight:i,style:w,scrollbar:r,wrap:l,resize:a,update:v,handleScroll:p,setScrollTop:g,setScrollLeft:f}}});const pO={ref:"scrollbar",class:"scrollbar"};function fO(s,e,t,i,n,o){const r=we("bar");return U(),te("div",pO,[M("div",{ref:"wrap",class:Re([s.wrapClass,"scrollbar-wrap"]),style:ii(s.style),onScroll:e[0]||(e[0]=(...l)=>s.handleScroll&&s.handleScroll(...l))},[(U(),ot(_C(s.tag),{ref:"resize",class:Re(["scrollbar-view",s.viewClass]),style:ii(s.viewStyle)},{default:qe(()=>[it(s.$slots,"default",{},void 0,!0)]),_:3},8,["class","style"]))],38),s.native?Ne("",!0):(U(),te(Ue,{key:0},[le(r,{move:s.moveX,ratio:s.ratioX,size:s.sizeWidth,always:s.always,"bar-show":s.barShow},null,8,["move","ratio","size","always","bar-show"]),le(r,{move:s.moveY,ratio:s.ratioY,size:s.sizeHeight,vertical:"",always:s.always,"bar-show":s.barShow},null,8,["move","ratio","size","always","bar-show"])],64))],512)}const or=Ge(hO,[["render",fO],["__scopeId","data-v-95c3d582"]]);or.install=s=>{s.component(or.name,or)};const Pn=new Map;let py;Qo(document,"mousedown",s=>py=s);Qo(document,"mouseup",s=>{for(const e of Pn.values())for(const{documentHandler:t}of e)t(s,py)});function Xm(s,e){let t=[];return Array.isArray(e.arg)?t=e.arg:e.arg instanceof HTMLElement&&t.push(e.arg),function(i,n){const o=e.instance.popperRef,r=i.target,l=n==null?void 0:n.target,a=!e||!e.instance,c=!r||!l,d=s.contains(r)||s.contains(l),u=s===r,h=t.length&&t.some(g=>g==null?void 0:g.contains(r))||t.length&&t.includes(l),p=o&&(o.contains(r)||o.contains(l));a||c||d||u||h||p||e.value(i,n)}}const Wr={beforeMount(s,e){var t;Pn.has(s)||Pn.set(s,[]),(t=Pn.get(s))==null||t.push({documentHandler:Xm(s,e),bindingFn:e.value})},updated(s,e){Pn.has(s)||Pn.set(s,[]);const t=Pn.get(s),i=(t==null?void 0:t.findIndex(o=>o.bindingFn===e.oldValue))||-1,n={documentHandler:Xm(s,e),bindingFn:e.value};i>=0?t==null||t.splice(i,1,n):t==null||t.push(n)},unmounted(s){Pn.delete(s)}};function gO(s,e,t,i,n){const o=K([]),r=K(""),l=K(!1),a=B(()=>s.modelValue.map(v=>{const w=s.optionList.find(C=>C[s.itemValueAlias]===v);return w?w[s.itemLabelAlias]:""}).join(", "));pt([()=>s.optionList,()=>s.modelValue,r],([v,w,C])=>{let E=v;C&&(E=v.filter(b=>b[s.itemLabelAlias].toLowerCase().indexOf(C.toLowerCase())>=0)),o.value=E.map(b=>{const S=b[s.itemValueAlias];return{...b,checked:w.includes(S)}}),t.value=i.isShow||w&&w.length>0},{immediate:!0});const c=v=>{const w=s.modelValue.concat();if(v.checked)w.includes(v[s.itemValueAlias])||w.push(v[s.itemValueAlias]);else{const C=w.findIndex(E=>E===v[s.itemValueAlias]);C>=0&&w.splice(C,1)}e.emit("update:modelValue",w),e.emit("chose",v)};return{multipleOptions:o,handleMultipleSelect:v=>{v.checked=!v.checked,c(v)},displayValue:a,checkChange:v=>{c(v)},filterString:r,selectAll:()=>{var w;const v=s.optionList.map(C=>C[s.itemValueAlias]);e.emit("update:modelValue",v),e.emit("chose",v),(w=n.validate)==null||w.call(n,"blur")},clear:()=>{const v=[];e.emit("update:modelValue",v),e.emit("chose",v)},isFilterFocus:l,handleFilterBlur:()=>{l.value=!1},handleFilterFocus:()=>{l.value=!0}}}const mO=Ae({name:"Select",components:{Icon:Lt,Checkbox:Ml,Scrollbar:or},directives:{clickoutside:Wr},props:{optionList:{type:Array,default:()=>[]},placeholder:{type:String,default:""},key:{type:[String,Number],default:""},itemLabelAlias:String,itemValueAlias:String,modelValue:[Array,String,Number,Boolean,Object],readonly:{type:Boolean,default:!1},label:{type:String,default:""},multiple:{type:Boolean,default:!1},filterable:{type:Boolean,default:!1},filterLabel:{type:String,default:"Filter"},selectAllLabel:{type:String,default:"Select All"},clearLabel:{type:String,default:"Clear"},maxHeight:{type:[String,Number],default:""},singleFilter:{type:Boolean,default:!0}},emits:["chose","update:modelValue"],setup(s,e){let t;const i=yt({activeColor:!1,selectIndex:-1,isShow:!1,displayValue:""}),n=K(!1),o=K([]),r=K(),l=K(),a=K(),c=mt(Ta,{}),d=K(!1),u=s.multiple?gO(s,e,n,i,c):{},h=B(()=>s.optionList.filter(H=>!s.singleFilter||d.value||!i.displayValue||i.displayValue.toLocaleLowerCase()==="select"?!0:s.itemLabelAlias?H[s.itemLabelAlias]&&H[s.itemLabelAlias].toLocaleLowerCase().indexOf(i.displayValue.toLocaleLowerCase())>=0:H.toLocaleLowerCase().indexOf(i.displayValue.toLocaleLowerCase())>=0)),p=(H,W)=>{let P=-1;return s.itemLabelAlias?P=H.findIndex(N=>s.itemLabelAlias&&N[s.itemLabelAlias]&&N[s.itemLabelAlias].toLocaleLowerCase().indexOf(W.toLocaleLowerCase())>=0):P=H.findIndex(N=>N.toLocaleLowerCase().indexOf(W.toLocaleLowerCase())>=0),P};s.multiple||pt([()=>i.displayValue,h],([H="",W=[]])=>{if(!H){i.selectIndex=-1;return}i.selectIndex=p(W,H)});const g=H=>{if(!s.readonly&&!(s.multiple||!s.singleFilter)){if(i.isShow=!0,H.keyCode===13)i.selectIndex!==-1&&S(h.value[i.selectIndex],i.selectIndex),i.isShow=!1;else if(H.keyCode===38){if(i.selectIndex>0){i.selectIndex=i.selectIndex-1;const W=k(o.value[i.selectIndex]);l.value.setScrollTop(W)}H.preventDefault()}else if(H.keyCode===40){if(i.selectIndex<h.value.length-1){i.selectIndex=i.selectIndex+1;const W=k(o.value[i.selectIndex]);l.value.setScrollTop(W)}H.preventDefault()}}},f=(H,W)=>{let P="";const N=W??h.value;if(H==null)return i.selectIndex=-1,P;if(s.itemLabelAlias&&s.itemValueAlias){const F=s.itemValueAlias,x=s.itemLabelAlias;N.forEach((I,Y)=>{I[F]===H&&(P=I[x],i.selectIndex=Y)})}else N.forEach((F,x)=>{F===H&&(P=F,i.selectIndex=x)});return P};s.multiple||pt([()=>s.modelValue,()=>s.optionList],([H="",W=[]])=>{t=H,i.displayValue=f(H,W),n.value=!!i.displayValue},{immediate:!0}),pt(()=>i.isShow,H=>{H&&Si(()=>{a.value&&hy(a.value,l.value.scrollbar)})});const v=H=>{let W="";if(s.itemLabelAlias&&s.itemValueAlias){const P=s.itemValueAlias,N=s.itemLabelAlias;s.optionList.forEach(F=>{F[P]===H&&(W=F[N])})}else s.optionList.forEach(P=>{P===H&&(W=P)});return W};let w=!1;const C=()=>{s.readonly||(i.activeColor=!i.activeColor,i.isShow=!i.isShow,n.value=s.multiple?!!u.displayValue.value:!!i.displayValue,i.selectIndex=p(h.value,i.displayValue),w=!0,d.value=!0)},E=()=>{var H;T||(!s.multiple&&s.singleFilter&&(i.displayValue=v(t)),n.value=s.multiple?!!u.displayValue.value:!!i.displayValue,!s.multiple&&s.singleFilter&&!w&&(i.isShow=!1),w=!1,(H=c.validate)==null||H.call(c,"blur"))},b=H=>{var W;s.readonly||(!s.multiple&&s.singleFilter&&(n.value=!0,i.selectIndex=p(h.value,i.displayValue),d.value=!0,H.currentTarget.select()),i.isShow=!0,(W=c.validate)==null||W.call(c,"focus"))},S=(H,W)=>{var N;let P;s.itemLabelAlias&&s.itemValueAlias?(i.displayValue=H[s.itemLabelAlias],P=H[s.itemValueAlias]):(i.displayValue=H,P=H),t!==P&&(t=P,i.selectIndex=W,e.emit("update:modelValue",P),e.emit("chose",H),(N=c.validate)==null||N.call(c,"blur")),n.value=s.multiple?!!u.displayValue.value:!!i.displayValue,i.isShow=!1};let T=!1;const D=()=>{T=!0},_=(H,W)=>{T&&S(H,W),T=!1},G=H=>{var W;(H==null?void 0:H.target)!=a.value&&(n.value=s.multiple?!!u.displayValue.value:!!i.displayValue,i.isShow&&((W=c.validate)==null||W.call(c,"blur")),i.isShow=!1)},k=H=>H.offsetTop;return{...jt(i),classStyle:B(()=>({"select-active":i.activeColor,multiple:s.multiple})),readonlyClasses:B(()=>({readonly:s.readonly})),active:n,handleSelect:S,handleClick:C,blurHandle:E,focusHandle:b,tscSelect:a,hideDropDown:G,...u,filteredOptionList:h,handleKeydown:g,itemRefs:o,inputRef:r,scrollbar:l,handleMousedown:D,handleMouseup:_,isFirstIn:d}}});const vO={ref:"tscSelect",class:"select select-multiscreen"},CO=["readonly","placeholder"],yO=["readonly","placeholder"],wO={class:"select-content select-content-multiscreen"},SO=["onMouseup"],bO={class:"select-content multiple select-content-multiscreen"},EO={class:"buttons"},RO=["onClick"];function TO(s,e,t,i,n,o){const r=we("Icon"),l=we("scrollbar"),a=we("checkbox"),c=Ea("clickoutside");return at((U(),te("div",vO,[M("div",{class:Re(["select-wrap",s.classStyle]),onMousedown:e[9]||(e[9]=Tt((...d)=>s.handleClick&&s.handleClick(...d),["stop"]))},[s.label?(U(),te("label",{key:0,class:Re(["input-content-label",[{"input-content-label-focus":s.active||s.placeholder},s.readonlyClasses]])},Ve(s.label),3)):Ne("",!0),s.multiple?at((U(),te("input",{key:2,"onUpdate:modelValue":e[6]||(e[6]=d=>s.displayValue=d),class:Re(["select-wrap-inner",s.readonlyClasses]),readonly:s.readonly||s.multiple||!s.singleFilter,autocomplete:"off",placeholder:s.placeholder,onBlur:e[7]||(e[7]=(...d)=>s.blurHandle&&s.blurHandle(...d)),onFocus:e[8]||(e[8]=(...d)=>s.focusHandle&&s.focusHandle(...d))},null,42,yO)),[[Gc,s.displayValue]]):at((U(),te("input",{key:1,ref:"inputRef","onUpdate:modelValue":e[0]||(e[0]=d=>s.displayValue=d),class:Re(["select-wrap-inner",s.readonlyClasses]),readonly:s.readonly||s.multiple||!s.singleFilter,autocomplete:"off",placeholder:s.placeholder,onInput:e[1]||(e[1]=d=>s.isFirstIn=!1),onBlur:e[2]||(e[2]=(...d)=>s.blurHandle&&s.blurHandle(...d)),onFocus:e[3]||(e[3]=(...d)=>s.focusHandle&&s.focusHandle(...d)),onKeydown:e[4]||(e[4]=Tt((...d)=>s.handleKeydown&&s.handleKeydown(...d),["stop"])),onMousedown:e[5]||(e[5]=Tt(()=>{},["stop"]))},null,42,CO)),[[Gc,s.displayValue]]),le(r,{classes:"icon-arrow-down",class:Re([s.isShow?"is-reverse":"is-normal","icon"])},null,8,["class"])],34),s.multiple?(U(),ot($s,{key:1,name:"select-content"},{default:qe(()=>[at(le(l,{ref:"scrollbar","max-height":s.maxHeight,"bar-show":!0,class:"select-scroll-content"},{default:qe(()=>[M("div",bO,[s.filterable?(U(),te("div",{key:0,class:"filter",onClick:e[14]||(e[14]=(...d)=>s.handleFilterFocus&&s.handleFilterFocus(...d))},[M("span",{class:Re(["filter-label",s.isFilterFocus||s.filterString?"filter-focus":""])},Ve(s.filterLabel),3),at(M("input",{"onUpdate:modelValue":e[11]||(e[11]=d=>s.filterString=d),class:"filter-input",autocomplete:"off",onBlur:e[12]||(e[12]=(...d)=>s.handleFilterBlur&&s.handleFilterBlur(...d)),onFocus:e[13]||(e[13]=(...d)=>s.handleFilterFocus&&s.handleFilterFocus(...d))},null,544),[[Gc,s.filterString]])])):Ne("",!0),M("div",EO,[M("span",{onClick:e[15]||(e[15]=(...d)=>s.selectAll&&s.selectAll(...d))},Ve(s.selectAllLabel),1),M("span",{onClick:e[16]||(e[16]=(...d)=>s.clear&&s.clear(...d))},Ve(s.clearLabel),1)]),(U(!0),te(Ue,null,vi(s.multipleOptions,(d,u)=>(U(),te("div",{key:s.key||u,class:"select-content-wrap"},[le(a,{modelValue:d.checked,"onUpdate:modelValue":h=>d.checked=h,onChange:h=>s.checkChange(d)},null,8,["modelValue","onUpdate:modelValue","onChange"]),M("span",{onClick:h=>s.handleMultipleSelect(d,u)},Ve(s.itemLabelAlias?d[s.itemLabelAlias]:d),9,RO)]))),128))])]),_:1},8,["max-height"]),[[Ot,s.isShow]])]),_:1})):(U(),ot($s,{key:0,name:"select-content"},{default:qe(()=>[at(le(l,{ref:"scrollbar","max-height":s.maxHeight,"bar-show":!0,class:"select-scroll-content"},{default:qe(()=>[M("div",wO,[(U(!0),te(Ue,null,vi(s.filteredOptionList,(d,u)=>(U(),te("span",{key:s.key||u,ref_for:!0,ref:"itemRefs",class:Re({"select-click-active":s.selectIndex==u}),onMousedown:e[10]||(e[10]=Tt((...h)=>s.handleMousedown&&s.handleMousedown(...h),["stop"])),onMouseup:Tt(h=>s.handleMouseup(d,u),["stop"])},Ve(s.itemLabelAlias?d[s.itemLabelAlias]:d),43,SO))),128))])]),_:1},8,["max-height"]),[[Ot,s.isShow]])]),_:1}))])),[[c,s.hideDropDown]])}const DO=Ge(mO,[["render",TO],["__scopeId","data-v-993c5114"]]),wo=DO;wo.install=s=>s.component(wo.name,wo);const OO=Ae({name:"TabLabel",components:{Icon:Lt},props:{activeKey:{type:String,default:""},tabList:{type:Array,default:()=>[]},type:{type:String,default:"default"}},emits:["click"],setup(s,{emit:e}){return{clickLabel:i=>{e("click",i)}}}});const _O={key:0,class:"tabs-label"},PO=["onClick"];function AO(s,e,t,i,n,o){const r=we("Icon");return s.tabList.length?(U(),te("div",_O,[(U(!0),te(Ue,null,vi(s.tabList,(l,a)=>(U(),te("div",{key:a,class:Re([`tabs-label-content__${s.type}`,s.activeKey===l.props.name?`tabs-label-active__${s.type}`:""]),onClick:Tt(c=>s.clickLabel(l),["stop","prevent"])},[l.props.prefixIcon?(U(),ot(r,{key:0,classes:l.props.prefixIcon},null,8,["classes"])):Ne("",!0),ct(" "+Ve(l.props.label),1)],10,PO))),128))])):Ne("",!0)}const FO=Ge(OO,[["render",AO],["__scopeId","data-v-579370c4"]]),MO=Ae({name:"Tab",components:{TabLabel:FO},props:{modelValue:{type:String,default:""},prefixIcon:{type:String,default:""},type:{type:String,default:"default"},bindElement:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["tab-click","update:modelValue"],setup(s,{emit:e,slots:t}){const i=yt({childrenList:[]}),n=B({get:()=>s.modelValue,set:d=>{e("update:modelValue",d)}}),o=d=>{s.disabled||n.value!==d.props.name&&(n.value=d.props.name,e("update:modelValue",d.props.name),e("tab-click",d.props))};ti("activeKey",n);const r=(d,u=[])=>(Array.from(d).forEach(h=>{let p=h.type;if(p=p.name||p,p==="Pane")u.push(h);else if(p===Ue||p==="template"){const g=h.children||[];r(g,u)}}),u),l=()=>{if(t.default){const d=r(t.default());d.length!==i.childrenList.length&&(i.childrenList=d)}else i.childrenList.length&&(i.childrenList=[])};DC(()=>{l()}),xt(()=>{Si(()=>{l()})});const a=K(),c=B(()=>s.bindElement?s.bindElement:a.value);return{...jt(i),activeKey:n,clickLabel:o,myRef:a,target:c}}});const LO={ref:"myRef",class:"tab-wrapper"};function IO(s,e,t,i,n,o){const r=we("tab-label");return U(),te("div",LO,[(U(),ot(Ra,{to:s.target,disabled:!s.bindElement},[M("div",{class:Re({tabs:!0,readonly:s.disabled})},[le(r,{"active-key":s.activeKey,"tab-list":s.childrenList,type:s.type,onClick:s.clickLabel},null,8,["active-key","tab-list","type","onClick"])],2)],8,["to","disabled"])),M("div",{class:Re(`tabs-content__${s.type}`)},[it(s.$slots,"default",{},void 0,!0)],2)],512)}const NO=Ge(MO,[["render",IO],["__scopeId","data-v-35351698"]]),xO=Ae({name:"Pane",components:{},props:{label:{type:[String,Number],default:""},name:{type:[String,Number],default:""},prefixIcon:{type:String,default:""}},emits:["click"],setup(){return{activeKey:mt("activeKey")}}});const GO={class:"tabs-pane-label"};function VO(s,e,t,i,n,o){return at((U(),te("div",GO,[it(s.$slots,"default",{},void 0,!0)],512)),[[Ot,s.name===s.activeKey]])}const HO=Ge(xO,[["render",VO],["__scopeId","data-v-a655f3db"]]),Ll=NO,Il=HO;Ll.install=s=>s.component(Ll.name,Ll);Il.install=s=>s.component(Il.name,Il);const kO="RadioGroup",BO=()=>{const s=mt(kO,{}),e=K(!1);return{isGroup:B(()=>(s==null?void 0:s.name)==="RadioGroup"),focus:e,radioGroup:s}},$O=(s,{isGroup:e,radioGroup:t,model:i})=>{const n=B(()=>e.value&&t.disabled||s.disabled),o=B(()=>n.value||e.value&&i.value!==s.value?-1:0);return{isDisabled:n,tabIndex:o}},WO=Ae({name:"Radio",props:{modelValue:{type:[String,Number,Boolean],default:""},value:{type:[String,Number,Boolean],default:""},disabled:Boolean,name:{type:String,default:""}},emits:[pn,$n],setup(s,e){const{isGroup:t,radioGroup:i,focus:n}=BO(),o=K(),r=B({get(){return t.value?i.modelValue:s.modelValue},set(d){t.value?i.changeEvent(d):e.emit(pn,d),o.value.checked=s.modelValue===s.value}}),{tabIndex:l,isDisabled:a}=$O(s,{isGroup:t,radioGroup:i,model:r});function c(){Si(()=>{e.emit($n,r.value)})}return{focus:n,isGroup:t,isDisabled:a,model:r,tabIndex:l,handleChange:c,radioRef:o}}});const UO=["value","name","disabled"];function jO(s,e,t,i,n,o){return U(),te("label",{class:Re(["radio",[{"is-disabled":s.isDisabled}]])},[M("span",{class:Re(["radio-input",{"is-disabled":s.isDisabled,"is-checked":s.model===s.value}])},[M("span",{class:Re(["radio-inner",{"is-disabled":s.isDisabled,"is-checked":s.model===s.value}])},null,2),at(M("input",{ref:"radioRef","onUpdate:modelValue":e[0]||(e[0]=r=>s.model=r),class:"radio-original",value:s.value,type:"radio",name:s.name,disabled:s.isDisabled,tabindex:"-1",onFocus:e[1]||(e[1]=r=>s.focus=!0),onBlur:e[2]||(e[2]=r=>s.focus=!1),onChange:e[3]||(e[3]=(...r)=>s.handleChange&&s.handleChange(...r))},null,40,UO),[[NR,s.model]])],2),M("span",{class:"radio-label",onKeydown:e[4]||(e[4]=Tt(()=>{},["stop"]))},[it(s.$slots,"default",{},()=>[ct(Ve(s.value),1)],!0)],32)],2)}const Zu=Ge(WO,[["render",jO],["__scopeId","data-v-1d76037d"]]),zO=Ae({name:"RadioGroup",componentName:"RadioGroup",props:{modelValue:{type:[String,Number,Boolean],default:""},disabled:Boolean},emits:[pn,$n],setup(s,e){const t=K(null),i=n=>{e.emit(pn,n),Si(()=>{e.emit($n,n)})};return ti("RadioGroup",yt({name:"RadioGroup",...jt(s),changeEvent:i})),pt(()=>s.modelValue,n=>{}),xt(()=>{const n=t.value.querySelectorAll("[type=radio]"),o=n[0];!Array.from(n).some(r=>r.checked)&&o&&(o.tabIndex=0)}),{radioGroup:t}}});const KO={ref:"radioGroup",class:"radio-group"};function YO(s,e,t,i,n,o){return U(),te("div",KO,[it(s.$slots,"default",{},void 0,!0)],512)}const eh=Ge(zO,[["render",YO],["__scopeId","data-v-d4422bfd"]]);Zu.install=s=>s.component(Zu.name,Zu);eh.install=s=>s.component(eh.name,eh);const qO=Ae({name:"Breadcrumb",props:{separator:{type:String,default:"/"},separatorClass:{type:String,default:""},size:{type:Number,default:20}},setup(s){const e=K(null);return ti("breadcrumb",s),xt(()=>{const t=e.value.querySelectorAll(".breadcrumb-item");t.length&&t[t.length-1].setAttribute("aria-current","page")}),{breadcrumb:e}}});const QO={ref:"breadcrumb",class:"breadcrumb","aria-label":"Breadcrumb",role:"navigation"};function XO(s,e,t,i,n,o){return U(),te("div",QO,[it(s.$slots,"default",{},void 0,!0)],512)}const JO=Ge(qO,[["render",XO],["__scopeId","data-v-28a10f51"]]),ZO=Ae({name:"BreadcrumbItem",components:{Icon:Lt},props:{to:{type:[String,Object],default:""},replace:{type:Boolean,default:!1},acrossWeb:{type:Boolean,default:!1}},setup(s){const e=K(vs.breadcrumb),t=K(null),i=mt("breadcrumb"),o=$r().appContext.config.globalProperties.$router;return xt(()=>{t.value.setAttribute("role","link"),t.value.addEventListener("click",()=>{!s.to||!o||(s.acrossWeb?history.pushState({},"",s.to):s.replace?o.replace(s.to):o.push(s.to))})}),{iconColor:e,link:t,separator:i==null?void 0:i.separator,separatorClass:i==null?void 0:i.separatorClass,size:i==null?void 0:i.size}}});const e_={class:"breadcrumb-item"},t_={key:1,role:"presentation",class:"breadcrumb-separator"};function i_(s,e,t,i,n,o){const r=we("Icon");return U(),te("div",e_,[M("div",{ref:"link",class:Re(["breadcrumb-inner",s.to?"is-link":""]),role:"link"},[it(s.$slots,"default",{},void 0,!0)],2),s.separatorClass?(U(),ot(r,{key:0,color:s.iconColor,classes:s.separatorClass,size:s.size,class:"breadcrumb-separator"},null,8,["color","classes","size"])):(U(),te("span",t_,Ve(s.separator),1))])}const s_=Ge(ZO,[["render",i_],["__scopeId","data-v-baa8062c"]]),th=JO,ih=s_;th.install=s=>s.component(th.name,th);ih.install=s=>s.component(ih.name,ih);function vo(){return vo=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(s[i]=t[i])}return s},vo.apply(this,arguments)}function n_(s,e){s.prototype=Object.create(e.prototype),s.prototype.constructor=s,ql(s,e)}function np(s){return np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},np(s)}function ql(s,e){return ql=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,n){return i.__proto__=n,i},ql(s,e)}function o_(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function kc(s,e,t){return o_()?kc=Reflect.construct.bind():kc=function(n,o,r){var l=[null];l.push.apply(l,o);var a=Function.bind.apply(n,l),c=new a;return r&&ql(c,r.prototype),c},kc.apply(null,arguments)}function r_(s){return Function.toString.call(s).indexOf("[native code]")!==-1}function op(s){var e=typeof Map=="function"?new Map:void 0;return op=function(i){if(i===null||!r_(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(i))return e.get(i);e.set(i,n)}function n(){return kc(i,arguments,np(this).constructor)}return n.prototype=Object.create(i.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ql(n,i)},op(s)}var l_=/%[sdj%]/g,a_=function(){};typeof process<"u"&&process.env;function rp(s){if(!s||!s.length)return null;var e={};return s.forEach(function(t){var i=t.field;e[i]=e[i]||[],e[i].push(t)}),e}function Fi(s){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];var n=0,o=t.length;if(typeof s=="function")return s.apply(null,t);if(typeof s=="string"){var r=s.replace(l_,function(l){if(l==="%%")return"%";if(n>=o)return l;switch(l){case"%s":return String(t[n++]);case"%d":return Number(t[n++]);case"%j":try{return JSON.stringify(t[n++])}catch{return"[Circular]"}break;default:return l}});return r}return s}function c_(s){return s==="string"||s==="url"||s==="hex"||s==="email"||s==="date"||s==="pattern"}function It(s,e){return!!(s==null||e==="array"&&Array.isArray(s)&&!s.length||c_(e)&&typeof s=="string"&&!s)}function d_(s,e,t){var i=[],n=0,o=s.length;function r(l){i.push.apply(i,l||[]),n++,n===o&&t(i)}s.forEach(function(l){e(l,r)})}function Jm(s,e,t){var i=0,n=s.length;function o(r){if(r&&r.length){t(r);return}var l=i;i=i+1,l<n?e(s[l],o):t([])}o([])}function u_(s){var e=[];return Object.keys(s).forEach(function(t){e.push.apply(e,s[t]||[])}),e}var Zm=function(s){n_(e,s);function e(t,i){var n;return n=s.call(this,"Async Validation Error")||this,n.errors=t,n.fields=i,n}return e}(op(Error));function h_(s,e,t,i,n){if(e.first){var o=new Promise(function(h,p){var g=function(w){return i(w),w.length?p(new Zm(w,rp(w))):h(n)},f=u_(s);Jm(f,t,g)});return o.catch(function(h){return h}),o}var r=e.firstFields===!0?Object.keys(s):e.firstFields||[],l=Object.keys(s),a=l.length,c=0,d=[],u=new Promise(function(h,p){var g=function(v){if(d.push.apply(d,v),c++,c===a)return i(d),d.length?p(new Zm(d,rp(d))):h(n)};l.length||(i(d),h(n)),l.forEach(function(f){var v=s[f];r.indexOf(f)!==-1?Jm(v,t,g):d_(v,t,g)})});return u.catch(function(h){return h}),u}function p_(s){return!!(s&&s.message!==void 0)}function f_(s,e){for(var t=s,i=0;i<e.length;i++){if(t==null)return t;t=t[e[i]]}return t}function ev(s,e){return function(t){var i;return s.fullFields?i=f_(e,s.fullFields):i=e[t.field||s.fullField],p_(t)?(t.field=t.field||s.fullField,t.fieldValue=i,t):{message:typeof t=="function"?t():t,fieldValue:i,field:t.field||s.fullField}}}function tv(s,e){if(e){for(var t in e)if(e.hasOwnProperty(t)){var i=e[t];typeof i=="object"&&typeof s[t]=="object"?s[t]=vo({},s[t],i):s[t]=i}}return s}var fy=function(e,t,i,n,o,r){e.required&&(!i.hasOwnProperty(e.field)||It(t,r||e.type))&&n.push(Fi(o.messages.required,e.fullField))},g_=function(e,t,i,n,o){(/^\s+$/.test(t)||t==="")&&n.push(Fi(o.messages.whitespace,e.fullField))},_c,m_=function(){if(_c)return _c;var s="[a-fA-F\\d:]",e=function(b){return b&&b.includeBoundaries?"(?:(?<=\\s|^)(?="+s+")|(?<="+s+")(?=\\s|$))":""},t="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",i="[a-fA-F\\d]{1,4}",n=(`
(?:
(?:`+i+":){7}(?:"+i+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+i+":){6}(?:"+t+"|:"+i+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+i+":){5}(?::"+t+"|(?::"+i+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+i+":){4}(?:(?::"+i+"){0,1}:"+t+"|(?::"+i+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+i+":){3}(?:(?::"+i+"){0,2}:"+t+"|(?::"+i+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+i+":){2}(?:(?::"+i+"){0,3}:"+t+"|(?::"+i+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+i+":){1}(?:(?::"+i+"){0,4}:"+t+"|(?::"+i+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+i+"){0,5}:"+t+"|(?::"+i+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),o=new RegExp("(?:^"+t+"$)|(?:^"+n+"$)"),r=new RegExp("^"+t+"$"),l=new RegExp("^"+n+"$"),a=function(b){return b&&b.exact?o:new RegExp("(?:"+e(b)+t+e(b)+")|(?:"+e(b)+n+e(b)+")","g")};a.v4=function(E){return E&&E.exact?r:new RegExp(""+e(E)+t+e(E),"g")},a.v6=function(E){return E&&E.exact?l:new RegExp(""+e(E)+n+e(E),"g")};var c="(?:(?:[a-z]+:)?//)",d="(?:\\S+(?::\\S*)?@)?",u=a.v4().source,h=a.v6().source,p="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",g="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",f="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",v="(?::\\d{2,5})?",w='(?:[/?#][^\\s"]*)?',C="(?:"+c+"|www\\.)"+d+"(?:localhost|"+u+"|"+h+"|"+p+g+f+")"+v+w;return _c=new RegExp("(?:^"+C+"$)","i"),_c},iv={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Sl={integer:function(e){return Sl.number(e)&&parseInt(e,10)===e},float:function(e){return Sl.number(e)&&!Sl.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!Sl.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(iv.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(m_())},hex:function(e){return typeof e=="string"&&!!e.match(iv.hex)}},v_=function(e,t,i,n,o){if(e.required&&t===void 0){fy(e,t,i,n,o);return}var r=["integer","float","array","regexp","object","method","email","number","date","url","hex"],l=e.type;r.indexOf(l)>-1?Sl[l](t)||n.push(Fi(o.messages.types[l],e.fullField,e.type)):l&&typeof t!==e.type&&n.push(Fi(o.messages.types[l],e.fullField,e.type))},C_=function(e,t,i,n,o){var r=typeof e.len=="number",l=typeof e.min=="number",a=typeof e.max=="number",c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,d=t,u=null,h=typeof t=="number",p=typeof t=="string",g=Array.isArray(t);if(h?u="number":p?u="string":g&&(u="array"),!u)return!1;g&&(d=t.length),p&&(d=t.replace(c,"_").length),r?d!==e.len&&n.push(Fi(o.messages[u].len,e.fullField,e.len)):l&&!a&&d<e.min?n.push(Fi(o.messages[u].min,e.fullField,e.min)):a&&!l&&d>e.max?n.push(Fi(o.messages[u].max,e.fullField,e.max)):l&&a&&(d<e.min||d>e.max)&&n.push(Fi(o.messages[u].range,e.fullField,e.min,e.max))},Ko="enum",y_=function(e,t,i,n,o){e[Ko]=Array.isArray(e[Ko])?e[Ko]:[],e[Ko].indexOf(t)===-1&&n.push(Fi(o.messages[Ko],e.fullField,e[Ko].join(", ")))},w_=function(e,t,i,n,o){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||n.push(Fi(o.messages.pattern.mismatch,e.fullField,t,e.pattern));else if(typeof e.pattern=="string"){var r=new RegExp(e.pattern);r.test(t)||n.push(Fi(o.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},et={required:fy,whitespace:g_,type:v_,range:C_,enum:y_,pattern:w_},S_=function(e,t,i,n,o){var r=[],l=e.required||!e.required&&n.hasOwnProperty(e.field);if(l){if(It(t,"string")&&!e.required)return i();et.required(e,t,n,r,o,"string"),It(t,"string")||(et.type(e,t,n,r,o),et.range(e,t,n,r,o),et.pattern(e,t,n,r,o),e.whitespace===!0&&et.whitespace(e,t,n,r,o))}i(r)},b_=function(e,t,i,n,o){var r=[],l=e.required||!e.required&&n.hasOwnProperty(e.field);if(l){if(It(t)&&!e.required)return i();et.required(e,t,n,r,o),t!==void 0&&et.type(e,t,n,r,o)}i(r)},E_=function(e,t,i,n,o){var r=[],l=e.required||!e.required&&n.hasOwnProperty(e.field);if(l){if(t===""&&(t=void 0),It(t)&&!e.required)return i();et.required(e,t,n,r,o),t!==void 0&&(et.type(e,t,n,r,o),et.range(e,t,n,r,o))}i(r)},R_=function(e,t,i,n,o){var r=[],l=e.required||!e.required&&n.hasOwnProperty(e.field);if(l){if(It(t)&&!e.required)return i();et.required(e,t,n,r,o),t!==void 0&&et.type(e,t,n,r,o)}i(r)},T_=function(e,t,i,n,o){var r=[],l=e.required||!e.required&&n.hasOwnProperty(e.field);if(l){if(It(t)&&!e.required)return i();et.required(e,t,n,r,o),It(t)||et.type(e,t,n,r,o)}i(r)},D_=function(e,t,i,n,o){var r=[],l=e.required||!e.required&&n.hasOwnProperty(e.field);if(l){if(It(t)&&!e.required)return i();et.required(e,t,n,r,o),t!==void 0&&(et.type(e,t,n,r,o),et.range(e,t,n,r,o))}i(r)},O_=function(e,t,i,n,o){var r=[],l=e.required||!e.required&&n.hasOwnProperty(e.field);if(l){if(It(t)&&!e.required)return i();et.required(e,t,n,r,o),t!==void 0&&(et.type(e,t,n,r,o),et.range(e,t,n,r,o))}i(r)},__=function(e,t,i,n,o){var r=[],l=e.required||!e.required&&n.hasOwnProperty(e.field);if(l){if(t==null&&!e.required)return i();et.required(e,t,n,r,o,"array"),t!=null&&(et.type(e,t,n,r,o),et.range(e,t,n,r,o))}i(r)},P_=function(e,t,i,n,o){var r=[],l=e.required||!e.required&&n.hasOwnProperty(e.field);if(l){if(It(t)&&!e.required)return i();et.required(e,t,n,r,o),t!==void 0&&et.type(e,t,n,r,o)}i(r)},A_="enum",F_=function(e,t,i,n,o){var r=[],l=e.required||!e.required&&n.hasOwnProperty(e.field);if(l){if(It(t)&&!e.required)return i();et.required(e,t,n,r,o),t!==void 0&&et[A_](e,t,n,r,o)}i(r)},M_=function(e,t,i,n,o){var r=[],l=e.required||!e.required&&n.hasOwnProperty(e.field);if(l){if(It(t,"string")&&!e.required)return i();et.required(e,t,n,r,o),It(t,"string")||et.pattern(e,t,n,r,o)}i(r)},L_=function(e,t,i,n,o){var r=[],l=e.required||!e.required&&n.hasOwnProperty(e.field);if(l){if(It(t,"date")&&!e.required)return i();if(et.required(e,t,n,r,o),!It(t,"date")){var a;t instanceof Date?a=t:a=new Date(t),et.type(e,a,n,r,o),a&&et.range(e,a.getTime(),n,r,o)}}i(r)},I_=function(e,t,i,n,o){var r=[],l=Array.isArray(t)?"array":typeof t;et.required(e,t,n,r,o,l),i(r)},sh=function(e,t,i,n,o){var r=e.type,l=[],a=e.required||!e.required&&n.hasOwnProperty(e.field);if(a){if(It(t,r)&&!e.required)return i();et.required(e,t,n,l,o,r),It(t,r)||et.type(e,t,n,l,o)}i(l)},N_=function(e,t,i,n,o){var r=[],l=e.required||!e.required&&n.hasOwnProperty(e.field);if(l){if(It(t)&&!e.required)return i();et.required(e,t,n,r,o)}i(r)},Nl={string:S_,method:b_,number:E_,boolean:R_,regexp:T_,integer:D_,float:O_,array:__,object:P_,enum:F_,pattern:M_,date:L_,url:sh,hex:sh,email:sh,required:I_,any:N_};function lp(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var ap=lp(),Da=function(){function s(t){this.rules=null,this._messages=ap,this.define(t)}var e=s.prototype;return e.define=function(i){var n=this;if(!i)throw new Error("Cannot configure a schema with no rules");if(typeof i!="object"||Array.isArray(i))throw new Error("Rules must be an object");this.rules={},Object.keys(i).forEach(function(o){var r=i[o];n.rules[o]=Array.isArray(r)?r:[r]})},e.messages=function(i){return i&&(this._messages=tv(lp(),i)),this._messages},e.validate=function(i,n,o){var r=this;n===void 0&&(n={}),o===void 0&&(o=function(){});var l=i,a=n,c=o;if(typeof a=="function"&&(c=a,a={}),!this.rules||Object.keys(this.rules).length===0)return c&&c(null,l),Promise.resolve(l);function d(f){var v=[],w={};function C(b){if(Array.isArray(b)){var S;v=(S=v).concat.apply(S,b)}else v.push(b)}for(var E=0;E<f.length;E++)C(f[E]);v.length?(w=rp(v),c(v,w)):c(null,l)}if(a.messages){var u=this.messages();u===ap&&(u=lp()),tv(u,a.messages),a.messages=u}else a.messages=this.messages();var h={},p=a.keys||Object.keys(this.rules);p.forEach(function(f){var v=r.rules[f],w=l[f];v.forEach(function(C){var E=C;typeof E.transform=="function"&&(l===i&&(l=vo({},l)),w=l[f]=E.transform(w)),typeof E=="function"?E={validator:E}:E=vo({},E),E.validator=r.getValidationMethod(E),E.validator&&(E.field=f,E.fullField=E.fullField||f,E.type=r.getType(E),h[f]=h[f]||[],h[f].push({rule:E,value:w,source:l,field:f}))})});var g={};return h_(h,a,function(f,v){var w=f.rule,C=(w.type==="object"||w.type==="array")&&(typeof w.fields=="object"||typeof w.defaultField=="object");C=C&&(w.required||!w.required&&f.value),w.field=f.field;function E(T,D){return vo({},D,{fullField:w.fullField+"."+T,fullFields:w.fullFields?[].concat(w.fullFields,[T]):[T]})}function b(T){T===void 0&&(T=[]);var D=Array.isArray(T)?T:[T];!a.suppressWarning&&D.length&&s.warning("async-validator:",D),D.length&&w.message!==void 0&&(D=[].concat(w.message));var _=D.map(ev(w,l));if(a.first&&_.length)return g[w.field]=1,v(_);if(!C)v(_);else{if(w.required&&!f.value)return w.message!==void 0?_=[].concat(w.message).map(ev(w,l)):a.error&&(_=[a.error(w,Fi(a.messages.required,w.field))]),v(_);var G={};w.defaultField&&Object.keys(f.value).map(function(W){G[W]=w.defaultField}),G=vo({},G,f.rule.fields);var k={};Object.keys(G).forEach(function(W){var P=G[W],N=Array.isArray(P)?P:[P];k[W]=N.map(E.bind(null,W))});var H=new s(k);H.messages(a.messages),f.rule.options&&(f.rule.options.messages=a.messages,f.rule.options.error=a.error),H.validate(f.value,f.rule.options||a,function(W){var P=[];_&&_.length&&P.push.apply(P,_),W&&W.length&&P.push.apply(P,W),v(P.length?P:null)})}}var S;if(w.asyncValidator)S=w.asyncValidator(w,f.value,b,f.source,a);else if(w.validator){try{S=w.validator(w,f.value,b,f.source,a)}catch(T){console.error==null||console.error(T),a.suppressValidatorError||setTimeout(function(){throw T},0),b(T.message)}S===!0?b():S===!1?b(typeof w.message=="function"?w.message(w.fullField||w.field):w.message||(w.fullField||w.field)+" fails"):S instanceof Array?b(S):S instanceof Error&&b(S.message)}S&&S.then&&S.then(function(){return b()},function(T){return b(T)})},function(f){d(f)},l)},e.getType=function(i){if(i.type===void 0&&i.pattern instanceof RegExp&&(i.type="pattern"),typeof i.validator!="function"&&i.type&&!Nl.hasOwnProperty(i.type))throw new Error(Fi("Unknown rule type %s",i.type));return i.type||"string"},e.getValidationMethod=function(i){if(typeof i.validator=="function")return i.validator;var n=Object.keys(i),o=n.indexOf("message");return o!==-1&&n.splice(o,1),n.length===1&&n[0]==="required"?Nl.required:Nl[this.getType(i)]||void 0},s}();Da.register=function(e,t){if(typeof t!="function")throw new Error("Cannot register a validator by type, validator is not a function");Nl[e]=t};Da.warning=a_;Da.messages=ap;Da.validators=Nl;const x_=Ae({name:"FormItem",props:{label:{type:String,default:""},labelWidth:{type:[String,Number],default:""},prop:String,required:{type:Boolean,default:void 0},rules:[Object,Array]},setup(s){const e=mt(lf,{}),t=K(""),i=K("");let n;const o=B(()=>{const v={};if(e.labelPosition==="top")return v;const w=us(s.labelWidth)||us(e.labelWidth);return w&&(v.width=w),v}),r=B(()=>{const v=e.model;if(!v||!s.prop)return;let w=s.prop;return w.indexOf(":")!==-1&&(w=w.replace(/:/,".")),Ju(v,w,!0).v}),l=B(()=>{const v=a();let w=!1;return v&&v.length&&v.every(C=>C.required?(w=!0,!1):!0),w}),a=()=>{const v=e.rules,w=s.rules,C=s.required!==void 0?{required:!!s.required}:[],E=Ju(v,s.prop||"",!1),b=v?E.o[s.prop||""]||E.v:[];return[].concat(w||b||[]).concat(C)},c=v=>a().filter(C=>!C.trigger||v===""?!0:Array.isArray(C[v])?C.trigger.indexOf(v)>-1:C.trigger===v).map(C=>({...C})),d=(v,w=ci)=>{const C=c(v);if((!C||C.length===0)&&s.required===void 0){w();return}t.value="validating";const E={};C&&C.length>0&&C.forEach(T=>{delete T.trigger}),E[s.prop||""]=C;const b=new Da(E),S={};S[s.prop||""]=r.value,b.validate(S,{firstFields:!0},(T,D)=>{t.value=T?"error":"success",i.value=T?T[0].message||`${s.prop} is required`:"",w(i.value,D)})},u=()=>{t.value="",i.value=""},h=()=>{u();const v=e.model,w=r.value;let C=s.prop||"";C.indexOf(":")!==-1&&(C=C.replace(/:/,"."));const E=Ju(v,C,!0);Array.isArray(w)?E.o[E.k]=[].concat(n):E.o[E.k]=n},p=yt({...jt(s),validate:d,resetField:h,clearValidate:u});xt(()=>{if(s.prop){e==null||e.addField(p);const v=r.value;n=Array.isArray(v)?[...v]:v}}),Qs(()=>{e==null||e.removeField(p)}),ti(Ta,p);const g=B(()=>({"is-error":t.value==="error","is-success":t.value==="success","is-required":l.value||s.required})),f=B(()=>t.value==="error");return{labelStyle:o,validateMessage:i,shouldShowError:f,formItemClass:g}}});const G_={class:"form-item-content"},V_={class:"form-item-error"};function H_(s,e,t,i,n,o){return U(),te("div",{class:Re(["form-item",s.formItemClass])},[s.label||s.$slots.label?(U(),te("label",{key:0,class:"form-item-label",style:ii(s.labelStyle)},[ct(Ve(s.label)+" ",1),it(s.$slots,"label",{},void 0,!0)],4)):Ne("",!0),M("div",G_,[it(s.$slots,"default",{},void 0,!0),s.shouldShowError?it(s.$slots,"error",{key:0,error:s.validateMessage},()=>[M("div",V_,Ve(s.validateMessage),1)],!0):Ne("",!0)])],2)}const k_=Ge(x_,[["render",H_],["__scopeId","data-v-06ad554b"]]),B_=(s,e,t)=>{const i=r=>{var a;if(r.isComposing||r.code!==s)return;const l=document.activeElement;l!=null&&l.readOnly||(a=e.value)!=null&&a.contains(document.activeElement)&&(l==null||l.blur(),t("on-keydown"))},n=()=>{var r;s&&((r=e.value)==null||r.addEventListener("keydown",i))},o=()=>{var r;s&&((r=e.value)==null||r.removeEventListener("keydown",i))};xt(()=>{n()}),Qp(()=>{n()}),Gd(()=>{o()}),Qs(()=>{o()})},$_=Ae({name:"Form",props:{model:Object,rules:Object,labelPosition:String,inline:Boolean,labelWidth:{type:[String,Number],default:""},keyCode:{type:String,default:""}},emits:["on-keydown"],setup(s,{emit:e}){const t=K(null);B_(s.keyCode,t,e);const i=[],n=g=>{g&&i.push(g)},o=g=>{g.prop&&i.splice(i.indexOf(g),1)},r=g=>{if(!s.model)return;i.length===0&&g&&g(!0);let f=!0,v=0,w={};for(const C of i)C.validate("",(E,b)=>{E&&(f=!1),w={...w,...b},++v===i.length&&g&&g(f,w)})},l=g=>(g=[].concat(g),i.filter(v=>g.includes(v.prop||"-1"))),a=(g,f)=>{l(g).forEach(w=>{w.validate("",f)})},c=()=>{s.model&&i.forEach(g=>{g.resetField()})},d=g=>{l(g).forEach(v=>{v.resetField()})},u=g=>{l(g).forEach(v=>v.clearValidate())},h=yt({...jt(s),addField:n,removeField:o});ti(lf,h);const p=B(()=>({"form-label-top":s.labelPosition==="top","form-label-left":s.labelPosition==="left","form-inline":s.inline}));return{formRef:t,validate:r,validateField:a,resetFields:c,resetField:d,clearFieldValidate:u,formPositionClass:p}}});function W_(s,e,t,i,n,o){return U(),te("form",{ref:"formRef",class:Re(["form",s.formPositionClass]),onSubmit:e[0]||(e[0]=Tt(()=>{},["prevent"]))},[it(s.$slots,"default",{},void 0,!0)],34)}const U_=Ge($_,[["render",W_],["__scopeId","data-v-271b024c"]]),nh=k_,oh=U_;nh.install=s=>s.component(nh.name,nh);oh.install=s=>s.component(oh.name,oh);const j_={small:"18",medium:"20",large:"22"},z_={blank:vs.black,primary:vs.white,normal:vs.darkGreen},K_=Ae({name:"DropDown",components:{Icon:Lt,Scrollbar:or},directives:{ClickOutside:Wr},props:{optionList:{type:Array,default:()=>[]},key:{type:[String,Number],default:""},type:{type:String,default:"blank"},isSlot:{type:Boolean,default:!1},itemLabelAlias:{type:[String],default:""},itemValueAlias:{type:[String],default:""},modelValue:{type:[String,Number],default:""},size:{type:String,default:"large",validator:s=>["small","medium","large"].includes(s)},align:{type:String,default:"left",validator:s=>["left","right"].includes(s)},disabled:{type:Boolean,default:!1},labelIconColor:{type:String,default:vs.dropdown},labelIconSize:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""}},emits:["click","update:modelValue","select"],setup(s,e){const t=K(z_[s.type]),i=yt({activeColor:!1,isActive:!1,selectIndex:-1,isShow:!1}),n=B(()=>{const u={};return s.maxHeight&&(u.maxHeight=Yl(s.maxHeight)?`${s.maxHeight}px`:s.maxHeight),u}),o=B(()=>s.labelIconSize||j_[s.size]),r=B(()=>s.itemLabelAlias&&s.itemValueAlias);pt(()=>s.modelValue,u=>{u===null?i.selectIndex=-1:i.selectIndex=l()});const l=()=>s.optionList.findIndex(h=>r.value?h[s.itemValueAlias]?h[s.itemValueAlias]===s.modelValue:(console.error("You need to check to see if the props.itemValueAlias exists in optionList array "),!1):h===s.modelValue),a=u=>{s.disabled||(r.value?e.emit("update:modelValue",u[s.itemValueAlias]):e.emit("update:modelValue",u),e.emit("select",u),i.isShow=!1)},c=()=>{s.disabled||(i.isShow=!i.isShow)},d=()=>{i.isShow=!1};return{classes:B(()=>({[`dropdown-button-${s.size}`]:!0,[`dropdown-${s.type}`]:!0,[`dropdown-${s.type}-disabled`]:s.disabled})),rightClasses:B(()=>({[`dropdown-right-${s.size}`]:!0,"dropdown-right-button":!0})),contentClass:B(()=>({[`dropdown-content-${s.size}`]:!0,[`dropdown-content-${s.align}`]:!0})),iconClasses:B(()=>({[`dropdown-icon-${s.size}`]:!0})),handleClick(u){s.disabled||(e.emit("click",u),i.isShow=!i.isShow)},...jt(i),iconColor:t,contentStyle:n,labelIconNewSize:o,handleSelect:a,handleShow:c,hideDropdown:d}}});const Y_={class:"dropdown-wrap"},q_={class:"dropdown-button"},Q_={key:0},X_={class:"dropdown-button-label"},J_={key:0},Z_=["onClick"];function eP(s,e,t,i,n,o){const r=we("icon"),l=we("scrollbar"),a=Ea("clickOutside");return at((U(),te("div",Y_,[s.isSlot?(U(),te("div",{key:1,onClick:e[1]||(e[1]=(...c)=>s.handleClick&&s.handleClick(...c))},[it(s.$slots,"default",{},void 0,!0)])):(U(),te("div",{key:0,class:Re(["dropdown",s.classes]),onClick:e[0]||(e[0]=(...c)=>s.handleClick&&s.handleClick(...c))},[M("div",q_,[s.$slots.prefixIcon?(U(),te("div",Q_,[it(s.$slots,"prefixIcon",{},void 0,!0)])):Ne("",!0),M("div",X_,[s.modelValue?(U(),te("span",J_,Ve(s.modelValue),1)):it(s.$slots,"label",{key:1},void 0,!0)])]),M("div",{class:Re(["dropdown-right",s.rightClasses])},[le(r,{classes:"icon-arrow-bottom-full",color:s.iconColor,class:Re(s.iconClasses)},null,8,["color","class"])],2)],2)),le(l,{"bar-show":!0,class:Re(["dropdown-content",s.isShow?"":"dropdown-slide-up-leave",s.contentClass]),"max-height":s.maxHeight},{default:qe(()=>[M("div",null,[(U(!0),te(Ue,null,vi(s.optionList,(c,d)=>(U(),te("span",{key:s.key||d,class:Re({"dropdown-content-item":!0,"dropdown-content-click-active":s.selectIndex==d}),onClick:u=>s.handleSelect(c,d)},Ve(s.itemLabelAlias?c[s.itemLabelAlias]:c),11,Z_))),128))])]),_:1},8,["class","max-height"])])),[[a,s.hideDropdown]])}const tP=Ge(K_,[["render",eP],["__scopeId","data-v-55d3de30"]]),rh=tP;rh.install=s=>s.component(rh.name,rh);var ei=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bi(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var gy={exports:{}};(function(s,e){(function(t,i){s.exports=i()})(ei,function(){var t=1e3,i=6e4,n=36e5,o="millisecond",r="second",l="minute",a="hour",c="day",d="week",u="month",h="quarter",p="year",g="date",f="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,w=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,C={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(P){var N=["th","st","nd","rd"],F=P%100;return"["+P+(N[(F-20)%10]||N[F]||N[0])+"]"}},E=function(P,N,F){var x=String(P);return!x||x.length>=N?P:""+Array(N+1-x.length).join(F)+P},b={s:E,z:function(P){var N=-P.utcOffset(),F=Math.abs(N),x=Math.floor(F/60),I=F%60;return(N<=0?"+":"-")+E(x,2,"0")+":"+E(I,2,"0")},m:function P(N,F){if(N.date()<F.date())return-P(F,N);var x=12*(F.year()-N.year())+(F.month()-N.month()),I=N.clone().add(x,u),Y=F-I<0,ae=N.clone().add(x+(Y?-1:1),u);return+(-(x+(F-I)/(Y?I-ae:ae-I))||0)},a:function(P){return P<0?Math.ceil(P)||0:Math.floor(P)},p:function(P){return{M:u,y:p,w:d,d:c,D:g,h:a,m:l,s:r,ms:o,Q:h}[P]||String(P||"").toLowerCase().replace(/s$/,"")},u:function(P){return P===void 0}},S="en",T={};T[S]=C;var D=function(P){return P instanceof H},_=function P(N,F,x){var I;if(!N)return S;if(typeof N=="string"){var Y=N.toLowerCase();T[Y]&&(I=Y),F&&(T[Y]=F,I=Y);var ae=N.split("-");if(!I&&ae.length>1)return P(ae[0])}else{var Te=N.name;T[Te]=N,I=Te}return!x&&I&&(S=I),I||!x&&S},G=function(P,N){if(D(P))return P.clone();var F=typeof N=="object"?N:{};return F.date=P,F.args=arguments,new H(F)},k=b;k.l=_,k.i=D,k.w=function(P,N){return G(P,{locale:N.$L,utc:N.$u,x:N.$x,$offset:N.$offset})};var H=function(){function P(F){this.$L=_(F.locale,null,!0),this.parse(F)}var N=P.prototype;return N.parse=function(F){this.$d=function(x){var I=x.date,Y=x.utc;if(I===null)return new Date(NaN);if(k.u(I))return new Date;if(I instanceof Date)return new Date(I);if(typeof I=="string"&&!/Z$/i.test(I)){var ae=I.match(v);if(ae){var Te=ae[2]-1||0,Me=(ae[7]||"0").substring(0,3);return Y?new Date(Date.UTC(ae[1],Te,ae[3]||1,ae[4]||0,ae[5]||0,ae[6]||0,Me)):new Date(ae[1],Te,ae[3]||1,ae[4]||0,ae[5]||0,ae[6]||0,Me)}}return new Date(I)}(F),this.$x=F.x||{},this.init()},N.init=function(){var F=this.$d;this.$y=F.getFullYear(),this.$M=F.getMonth(),this.$D=F.getDate(),this.$W=F.getDay(),this.$H=F.getHours(),this.$m=F.getMinutes(),this.$s=F.getSeconds(),this.$ms=F.getMilliseconds()},N.$utils=function(){return k},N.isValid=function(){return this.$d.toString()!==f},N.isSame=function(F,x){var I=G(F);return this.startOf(x)<=I&&I<=this.endOf(x)},N.isAfter=function(F,x){return G(F)<this.startOf(x)},N.isBefore=function(F,x){return this.endOf(x)<G(F)},N.$g=function(F,x,I){return k.u(F)?this[x]:this.set(I,F)},N.unix=function(){return Math.floor(this.valueOf()/1e3)},N.valueOf=function(){return this.$d.getTime()},N.startOf=function(F,x){var I=this,Y=!!k.u(x)||x,ae=k.p(F),Te=function(se,X){var A=k.w(I.$u?Date.UTC(I.$y,X,se):new Date(I.$y,X,se),I);return Y?A:A.endOf(c)},Me=function(se,X){return k.w(I.toDate()[se].apply(I.toDate("s"),(Y?[0,0,0,0]:[23,59,59,999]).slice(X)),I)},Pe=this.$W,xe=this.$M,oe=this.$D,ie="set"+(this.$u?"UTC":"");switch(ae){case p:return Y?Te(1,0):Te(31,11);case u:return Y?Te(1,xe):Te(0,xe+1);case d:var he=this.$locale().weekStart||0,V=(Pe<he?Pe+7:Pe)-he;return Te(Y?oe-V:oe+(6-V),xe);case c:case g:return Me(ie+"Hours",0);case a:return Me(ie+"Minutes",1);case l:return Me(ie+"Seconds",2);case r:return Me(ie+"Milliseconds",3);default:return this.clone()}},N.endOf=function(F){return this.startOf(F,!1)},N.$set=function(F,x){var I,Y=k.p(F),ae="set"+(this.$u?"UTC":""),Te=(I={},I[c]=ae+"Date",I[g]=ae+"Date",I[u]=ae+"Month",I[p]=ae+"FullYear",I[a]=ae+"Hours",I[l]=ae+"Minutes",I[r]=ae+"Seconds",I[o]=ae+"Milliseconds",I)[Y],Me=Y===c?this.$D+(x-this.$W):x;if(Y===u||Y===p){var Pe=this.clone().set(g,1);Pe.$d[Te](Me),Pe.init(),this.$d=Pe.set(g,Math.min(this.$D,Pe.daysInMonth())).$d}else Te&&this.$d[Te](Me);return this.init(),this},N.set=function(F,x){return this.clone().$set(F,x)},N.get=function(F){return this[k.p(F)]()},N.add=function(F,x){var I,Y=this;F=Number(F);var ae=k.p(x),Te=function(xe){var oe=G(Y);return k.w(oe.date(oe.date()+Math.round(xe*F)),Y)};if(ae===u)return this.set(u,this.$M+F);if(ae===p)return this.set(p,this.$y+F);if(ae===c)return Te(1);if(ae===d)return Te(7);var Me=(I={},I[l]=i,I[a]=n,I[r]=t,I)[ae]||1,Pe=this.$d.getTime()+F*Me;return k.w(Pe,this)},N.subtract=function(F,x){return this.add(-1*F,x)},N.format=function(F){var x=this,I=this.$locale();if(!this.isValid())return I.invalidDate||f;var Y=F||"YYYY-MM-DDTHH:mm:ssZ",ae=k.z(this),Te=this.$H,Me=this.$m,Pe=this.$M,xe=I.weekdays,oe=I.months,ie=I.meridiem,he=function(X,A,J,R){return X&&(X[A]||X(x,Y))||J[A].slice(0,R)},V=function(X){return k.s(Te%12||12,X,"0")},se=ie||function(X,A,J){var R=X<12?"AM":"PM";return J?R.toLowerCase():R};return Y.replace(w,function(X,A){return A||function(J){switch(J){case"YY":return String(x.$y).slice(-2);case"YYYY":return k.s(x.$y,4,"0");case"M":return Pe+1;case"MM":return k.s(Pe+1,2,"0");case"MMM":return he(I.monthsShort,Pe,oe,3);case"MMMM":return he(oe,Pe);case"D":return x.$D;case"DD":return k.s(x.$D,2,"0");case"d":return String(x.$W);case"dd":return he(I.weekdaysMin,x.$W,xe,2);case"ddd":return he(I.weekdaysShort,x.$W,xe,3);case"dddd":return xe[x.$W];case"H":return String(Te);case"HH":return k.s(Te,2,"0");case"h":return V(1);case"hh":return V(2);case"a":return se(Te,Me,!0);case"A":return se(Te,Me,!1);case"m":return String(Me);case"mm":return k.s(Me,2,"0");case"s":return String(x.$s);case"ss":return k.s(x.$s,2,"0");case"SSS":return k.s(x.$ms,3,"0");case"Z":return ae}return null}(X)||ae.replace(":","")})},N.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},N.diff=function(F,x,I){var Y,ae=this,Te=k.p(x),Me=G(F),Pe=(Me.utcOffset()-this.utcOffset())*i,xe=this-Me,oe=function(){return k.m(ae,Me)};switch(Te){case p:Y=oe()/12;break;case u:Y=oe();break;case h:Y=oe()/3;break;case d:Y=(xe-Pe)/6048e5;break;case c:Y=(xe-Pe)/864e5;break;case a:Y=xe/n;break;case l:Y=xe/i;break;case r:Y=xe/t;break;default:Y=xe}return I?Y:k.a(Y)},N.daysInMonth=function(){return this.endOf(u).$D},N.$locale=function(){return T[this.$L]},N.locale=function(F,x){if(!F)return this.$L;var I=this.clone(),Y=_(F,x,!0);return Y&&(I.$L=Y),I},N.clone=function(){return k.w(this.$d,this)},N.toDate=function(){return new Date(this.valueOf())},N.toJSON=function(){return this.isValid()?this.toISOString():null},N.toISOString=function(){return this.$d.toISOString()},N.toString=function(){return this.$d.toUTCString()},P}(),W=H.prototype;return G.prototype=W,[["$ms",o],["$s",r],["$m",l],["$H",a],["$W",c],["$M",u],["$y",p],["$D",g]].forEach(function(P){W[P[1]]=function(N){return this.$g(N,P[0],P[1])}}),G.extend=function(P,N){return P.$i||(P(N,H,G),P.$i=!0),G},G.locale=_,G.isDayjs=D,G.unix=function(P){return G(1e3*P)},G.en=T[S],G.Ls=T,G.p={},G})})(gy);var iP=gy.exports;const ce=bi(iP);var my={exports:{}};(function(s,e){(function(t,i){s.exports=i()})(ei,function(){var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},i=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d\d/,o=/\d\d?/,r=/\d*[^-_:/,()\s\d]+/,l={},a=function(f){return(f=+f)+(f>68?1900:2e3)},c=function(f){return function(v){this[f]=+v}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(f){(this.zone||(this.zone={})).offset=function(v){if(!v||v==="Z")return 0;var w=v.match(/([+-]|\d\d)/g),C=60*w[1]+(+w[2]||0);return C===0?0:w[0]==="+"?-C:C}(f)}],u=function(f){var v=l[f];return v&&(v.indexOf?v:v.s.concat(v.f))},h=function(f,v){var w,C=l.meridiem;if(C){for(var E=1;E<=24;E+=1)if(f.indexOf(C(E,0,v))>-1){w=E>12;break}}else w=f===(v?"pm":"PM");return w},p={A:[r,function(f){this.afternoon=h(f,!1)}],a:[r,function(f){this.afternoon=h(f,!0)}],S:[/\d/,function(f){this.milliseconds=100*+f}],SS:[n,function(f){this.milliseconds=10*+f}],SSS:[/\d{3}/,function(f){this.milliseconds=+f}],s:[o,c("seconds")],ss:[o,c("seconds")],m:[o,c("minutes")],mm:[o,c("minutes")],H:[o,c("hours")],h:[o,c("hours")],HH:[o,c("hours")],hh:[o,c("hours")],D:[o,c("day")],DD:[n,c("day")],Do:[r,function(f){var v=l.ordinal,w=f.match(/\d+/);if(this.day=w[0],v)for(var C=1;C<=31;C+=1)v(C).replace(/\[|\]/g,"")===f&&(this.day=C)}],M:[o,c("month")],MM:[n,c("month")],MMM:[r,function(f){var v=u("months"),w=(u("monthsShort")||v.map(function(C){return C.slice(0,3)})).indexOf(f)+1;if(w<1)throw new Error;this.month=w%12||w}],MMMM:[r,function(f){var v=u("months").indexOf(f)+1;if(v<1)throw new Error;this.month=v%12||v}],Y:[/[+-]?\d+/,c("year")],YY:[n,function(f){this.year=a(f)}],YYYY:[/\d{4}/,c("year")],Z:d,ZZ:d};function g(f){var v,w;v=f,w=l&&l.formats;for(var C=(f=v.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(G,k,H){var W=H&&H.toUpperCase();return k||w[H]||t[H]||w[W].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(P,N,F){return N||F.slice(1)})})).match(i),E=C.length,b=0;b<E;b+=1){var S=C[b],T=p[S],D=T&&T[0],_=T&&T[1];C[b]=_?{regex:D,parser:_}:S.replace(/^\[|\]$/g,"")}return function(G){for(var k={},H=0,W=0;H<E;H+=1){var P=C[H];if(typeof P=="string")W+=P.length;else{var N=P.regex,F=P.parser,x=G.slice(W),I=N.exec(x)[0];F.call(k,I),G=G.replace(I,"")}}return function(Y){var ae=Y.afternoon;if(ae!==void 0){var Te=Y.hours;ae?Te<12&&(Y.hours+=12):Te===12&&(Y.hours=0),delete Y.afternoon}}(k),k}}return function(f,v,w){w.p.customParseFormat=!0,f&&f.parseTwoDigitYear&&(a=f.parseTwoDigitYear);var C=v.prototype,E=C.parse;C.parse=function(b){var S=b.date,T=b.utc,D=b.args;this.$u=T;var _=D[1];if(typeof _=="string"){var G=D[2]===!0,k=D[3]===!0,H=G||k,W=D[2];k&&(W=D[2]),l=this.$locale(),!G&&W&&(l=w.Ls[W]),this.$d=function(x,I,Y){try{if(["x","X"].indexOf(I)>-1)return new Date((I==="X"?1e3:1)*x);var ae=g(I)(x),Te=ae.year,Me=ae.month,Pe=ae.day,xe=ae.hours,oe=ae.minutes,ie=ae.seconds,he=ae.milliseconds,V=ae.zone,se=new Date,X=Pe||(Te||Me?1:se.getDate()),A=Te||se.getFullYear(),J=0;Te&&!Me||(J=Me>0?Me-1:se.getMonth());var R=xe||0,O=oe||0,L=ie||0,z=he||0;return V?new Date(Date.UTC(A,J,X,R,O,L,z+60*V.offset*1e3)):Y?new Date(Date.UTC(A,J,X,R,O,L,z)):new Date(A,J,X,R,O,L,z)}catch{return new Date("")}}(S,_,T),this.init(),W&&W!==!0&&(this.$L=this.locale(W).$L),H&&S!=this.format(_)&&(this.$d=new Date("")),l={}}else if(_ instanceof Array)for(var P=_.length,N=1;N<=P;N+=1){D[1]=_[N-1];var F=w.apply(this,D);if(F.isValid()){this.$d=F.$d,this.$L=F.$L,this.init();break}N===P&&(this.$d=new Date(""))}else E.call(this,b)}}})})(my);var sP=my.exports;const vy=bi(sP);var Cy={exports:{}};(function(s,e){(function(t,i){s.exports=i()})(ei,function(){return function(t,i){var n=i.prototype,o=n.format;n.format=function(r){var l=this,a=this.$locale();if(!this.isValid())return o.bind(this)(r);var c=this.$utils(),d=(r||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(u){switch(u){case"Q":return Math.ceil((l.$M+1)/3);case"Do":return a.ordinal(l.$D);case"gggg":return l.weekYear();case"GGGG":return l.isoWeekYear();case"wo":return a.ordinal(l.week(),"W");case"w":case"ww":return c.s(l.week(),u==="w"?1:2,"0");case"W":case"WW":return c.s(l.isoWeek(),u==="W"?1:2,"0");case"k":case"kk":return c.s(String(l.$H===0?24:l.$H),u==="k"?1:2,"0");case"X":return Math.floor(l.$d.getTime()/1e3);case"x":return l.$d.getTime();case"z":return"["+l.offsetName()+"]";case"zzz":return"["+l.offsetName("long")+"]";default:return u}});return o.bind(this)(d)}}})})(Cy);var nP=Cy.exports;const oP=bi(nP);var yy={exports:{}};(function(s,e){(function(t,i){s.exports=i()})(ei,function(){return function(t,i,n){var o=i.prototype,r=function(u){return u&&(u.indexOf?u:u.s)},l=function(u,h,p,g,f){var v=u.name?u:u.$locale(),w=r(v[h]),C=r(v[p]),E=w||C.map(function(S){return S.slice(0,g)});if(!f)return E;var b=v.weekStart;return E.map(function(S,T){return E[(T+(b||0))%7]})},a=function(){return n.Ls[n.locale()]},c=function(u,h){return u.formats[h]||function(p){return p.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(g,f,v){return f||v.slice(1)})}(u.formats[h.toUpperCase()])},d=function(){var u=this;return{months:function(h){return h?h.format("MMMM"):l(u,"months")},monthsShort:function(h){return h?h.format("MMM"):l(u,"monthsShort","months",3)},firstDayOfWeek:function(){return u.$locale().weekStart||0},weekdays:function(h){return h?h.format("dddd"):l(u,"weekdays")},weekdaysMin:function(h){return h?h.format("dd"):l(u,"weekdaysMin","weekdays",2)},weekdaysShort:function(h){return h?h.format("ddd"):l(u,"weekdaysShort","weekdays",3)},longDateFormat:function(h){return c(u.$locale(),h)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};o.localeData=function(){return d.bind(this)()},n.localeData=function(){var u=a();return{firstDayOfWeek:function(){return u.weekStart||0},weekdays:function(){return n.weekdays()},weekdaysShort:function(){return n.weekdaysShort()},weekdaysMin:function(){return n.weekdaysMin()},months:function(){return n.months()},monthsShort:function(){return n.monthsShort()},longDateFormat:function(h){return c(u,h)},meridiem:u.meridiem,ordinal:u.ordinal}},n.months=function(){return l(a(),"months")},n.monthsShort=function(){return l(a(),"monthsShort","months",3)},n.weekdays=function(u){return l(a(),"weekdays",null,null,u)},n.weekdaysShort=function(u){return l(a(),"weekdaysShort","weekdays",3,u)},n.weekdaysMin=function(u){return l(a(),"weekdaysMin","weekdays",2,u)}}})})(yy);var rP=yy.exports;const lP=bi(rP);var wy={exports:{}};(function(s,e){(function(t,i){s.exports=i()})(ei,function(){var t="week",i="year";return function(n,o,r){var l=o.prototype;l.week=function(a){if(a===void 0&&(a=null),a!==null)return this.add(7*(a-this.week()),"day");var c=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var d=r(this).startOf(i).add(1,i).date(c),u=r(this).endOf(t);if(d.isBefore(u))return 1}var h=r(this).startOf(i).date(c).startOf(t).subtract(1,"millisecond"),p=this.diff(h,t,!0);return p<0?r(this).startOf("week").week():Math.ceil(p)},l.weeks=function(a){return a===void 0&&(a=null),this.week(a)}}})})(wy);var aP=wy.exports;const cP=bi(aP);var Sy={exports:{}};(function(s,e){(function(t,i){s.exports=i()})(ei,function(){return function(t,i){i.prototype.weekYear=function(){var n=this.month(),o=this.week(),r=this.year();return o===1&&n===11?r+1:n===0&&o>=52?r-1:r}}})})(Sy);var dP=Sy.exports;const uP=bi(dP);var by={exports:{}};(function(s,e){(function(t,i){s.exports=i()})(ei,function(){return function(t,i,n){i.prototype.dayOfYear=function(o){var r=Math.round((n(this).startOf("day")-n(this).startOf("year"))/864e5)+1;return o==null?r:this.add(o-r,"day")}}})})(by);var hP=by.exports;const pP=bi(hP);var Ey={exports:{}};(function(s,e){(function(t,i){s.exports=i()})(ei,function(){var t="minute",i=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(o,r,l){var a=r.prototype;l.utc=function(f){var v={date:f,utc:!0,args:arguments};return new r(v)},a.utc=function(f){var v=l(this.toDate(),{locale:this.$L,utc:!0});return f?v.add(this.utcOffset(),t):v},a.local=function(){return l(this.toDate(),{locale:this.$L,utc:!1})};var c=a.parse;a.parse=function(f){f.utc&&(this.$u=!0),this.$utils().u(f.$offset)||(this.$offset=f.$offset),c.call(this,f)};var d=a.init;a.init=function(){if(this.$u){var f=this.$d;this.$y=f.getUTCFullYear(),this.$M=f.getUTCMonth(),this.$D=f.getUTCDate(),this.$W=f.getUTCDay(),this.$H=f.getUTCHours(),this.$m=f.getUTCMinutes(),this.$s=f.getUTCSeconds(),this.$ms=f.getUTCMilliseconds()}else d.call(this)};var u=a.utcOffset;a.utcOffset=function(f,v){var w=this.$utils().u;if(w(f))return this.$u?0:w(this.$offset)?u.call(this):this.$offset;if(typeof f=="string"&&(f=function(S){S===void 0&&(S="");var T=S.match(i);if(!T)return null;var D=(""+T[0]).match(n)||["-",0,0],_=D[0],G=60*+D[1]+ +D[2];return G===0?0:_==="+"?G:-G}(f),f===null))return this;var C=Math.abs(f)<=16?60*f:f,E=this;if(v)return E.$offset=C,E.$u=f===0,E;if(f!==0){var b=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(E=this.local().add(C+b,t)).$offset=C,E.$x.$localOffset=b}else E=this.utc();return E};var h=a.format;a.format=function(f){var v=f||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return h.call(this,v)},a.valueOf=function(){var f=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*f},a.isUTC=function(){return!!this.$u},a.toISOString=function(){return this.toDate().toISOString()},a.toString=function(){return this.toDate().toUTCString()};var p=a.toDate;a.toDate=function(f){return f==="s"&&this.$offset?l(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var g=a.diff;a.diff=function(f,v,w){if(f&&this.$u===f.$u)return g.call(this,f,v,w);var C=this.local(),E=l(f).local();return g.call(C,E,v,w)}}})})(Ey);var fP=Ey.exports;const Oa=bi(fP);var Ry={exports:{}};(function(s,e){(function(t,i){s.exports=i()})(ei,function(){var t={year:0,month:1,day:2,hour:3,minute:4,second:5},i={};return function(n,o,r){var l,a=function(h,p,g){g===void 0&&(g={});var f=new Date(h),v=function(w,C){C===void 0&&(C={});var E=C.timeZoneName||"short",b=w+"|"+E,S=i[b];return S||(S=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:w,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:E}),i[b]=S),S}(p,g);return v.formatToParts(f)},c=function(h,p){for(var g=a(h,p),f=[],v=0;v<g.length;v+=1){var w=g[v],C=w.type,E=w.value,b=t[C];b>=0&&(f[b]=parseInt(E,10))}var S=f[3],T=S===24?0:S,D=f[0]+"-"+f[1]+"-"+f[2]+" "+T+":"+f[4]+":"+f[5]+":000",_=+h;return(r.utc(D).valueOf()-(_-=_%1e3))/6e4},d=o.prototype;d.tz=function(h,p){h===void 0&&(h=l);var g=this.utcOffset(),f=this.toDate(),v=f.toLocaleString("en-US",{timeZone:h}),w=Math.round((f-new Date(v))/1e3/60),C=r(v).$set("millisecond",this.$ms).utcOffset(15*-Math.round(f.getTimezoneOffset()/15)-w,!0);if(p){var E=C.utcOffset();C=C.add(g-E,"minute")}return C.$x.$timezone=h,C},d.offsetName=function(h){var p=this.$x.$timezone||r.tz.guess(),g=a(this.valueOf(),p,{timeZoneName:h}).find(function(f){return f.type.toLowerCase()==="timezonename"});return g&&g.value};var u=d.startOf;d.startOf=function(h,p){if(!this.$x||!this.$x.$timezone)return u.call(this,h,p);var g=r(this.format("YYYY-MM-DD HH:mm:ss:SSS"));return u.call(g,h,p).tz(this.$x.$timezone,!0)},r.tz=function(h,p,g){var f=g&&p,v=g||p||l,w=c(+r(),v);if(typeof h!="string")return r(h).tz(v);var C=function(T,D,_){var G=T-60*D*1e3,k=c(G,_);if(D===k)return[G,D];var H=c(G-=60*(k-D)*1e3,_);return k===H?[G,k]:[T-60*Math.min(k,H)*1e3,Math.max(k,H)]}(r.utc(h,f).valueOf(),w,v),E=C[0],b=C[1],S=r(E).utcOffset(b);return S.$x.$timezone=v,S},r.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},r.tz.setDefault=function(h){l=h}}})})(Ry);var gP=Ry.exports;const _a=bi(gP);var Ty={exports:{}};(function(s,e){(function(t,i){s.exports=i()})(ei,function(){return function(t,i){i.prototype.isSameOrAfter=function(n,o){return this.isSame(n,o)||this.isAfter(n,o)}}})})(Ty);var mP=Ty.exports;const vP=bi(mP);var Dy={exports:{}};(function(s,e){(function(t,i){s.exports=i()})(ei,function(){return function(t,i){i.prototype.isSameOrBefore=function(n,o){return this.isSame(n,o)||this.isBefore(n,o)}}})})(Dy);var CP=Dy.exports;const yP=bi(CP),wP={label:{type:String,default:""},name:{type:[Array,String],default:""},popperClass:{type:String,default:""},format:{type:String,default:"YYYY-MM-DD HH:mm"},valueFormat:{type:String},type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:[String,Object],default:""},editable:{type:Boolean,default:!0},prefixIcon:{type:[String,Object],default:""},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},modelValue:{type:[Date,Array,String],default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:[Date,Array]},defaultTime:{type:[Date,Array]},setDefault:{type:Boolean,default:!1},timezone:{type:String,default:""},isRange:{type:Boolean,default:!1},disabledHours:{type:Function},disabledMinutes:{type:Function},disabledSeconds:{type:Function},disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:{type:Boolean,default:!1},validateEvent:{type:Boolean,default:!0},unlinkPanels:{type:Boolean,default:!1},inputMaxLength:{type:[Number,String],default:19},inputPattern:{type:String,default:"[\\+\\-]?d{1,}"},rangeLimit:{type:[String,Number],default:""}},SP=/^([\+\-]?\d{1,})$/,ln="Invalid Date",lh="YYYY-MM-DD",kt={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace"},cp={1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"};function bP(s){var e=typeof s;return s!=null&&(e=="object"||e=="function")}var Kd=bP,EP=typeof ei=="object"&&ei&&ei.Object===Object&&ei,RP=EP,TP=RP,DP=typeof self=="object"&&self&&self.Object===Object&&self,OP=TP||DP||Function("return this")(),Pa=OP,_P=Pa,PP=function(){return _P.Date.now()},AP=PP,FP=/\s/;function MP(s){for(var e=s.length;e--&&FP.test(s.charAt(e)););return e}var LP=MP,IP=LP,NP=/^\s+/;function xP(s){return s&&s.slice(0,IP(s)+1).replace(NP,"")}var GP=xP,VP=Pa,HP=VP.Symbol,df=HP,sv=df,Oy=Object.prototype,kP=Oy.hasOwnProperty,BP=Oy.toString,ml=sv?sv.toStringTag:void 0;function $P(s){var e=kP.call(s,ml),t=s[ml];try{s[ml]=void 0;var i=!0}catch{}var n=BP.call(s);return i&&(e?s[ml]=t:delete s[ml]),n}var WP=$P,UP=Object.prototype,jP=UP.toString;function zP(s){return jP.call(s)}var KP=zP,nv=df,YP=WP,qP=KP,QP="[object Null]",XP="[object Undefined]",ov=nv?nv.toStringTag:void 0;function JP(s){return s==null?s===void 0?XP:QP:ov&&ov in Object(s)?YP(s):qP(s)}var uf=JP;function ZP(s){return s!=null&&typeof s=="object"}var Yd=ZP,eA=uf,tA=Yd,iA="[object Symbol]";function sA(s){return typeof s=="symbol"||tA(s)&&eA(s)==iA}var nA=sA,oA=GP,rv=Kd,rA=nA,lv=0/0,lA=/^[-+]0x[0-9a-f]+$/i,aA=/^0b[01]+$/i,cA=/^0o[0-7]+$/i,dA=parseInt;function uA(s){if(typeof s=="number")return s;if(rA(s))return lv;if(rv(s)){var e=typeof s.valueOf=="function"?s.valueOf():s;s=rv(e)?e+"":e}if(typeof s!="string")return s===0?s:+s;s=oA(s);var t=aA.test(s);return t||cA.test(s)?dA(s.slice(2),t?2:8):lA.test(s)?lv:+s}var hA=uA,pA=Kd,ah=AP,av=hA,fA="Expected a function",gA=Math.max,mA=Math.min;function vA(s,e,t){var i,n,o,r,l,a,c=0,d=!1,u=!1,h=!0;if(typeof s!="function")throw new TypeError(fA);e=av(e)||0,pA(t)&&(d=!!t.leading,u="maxWait"in t,o=u?gA(av(t.maxWait)||0,e):o,h="trailing"in t?!!t.trailing:h);function p(T){var D=i,_=n;return i=n=void 0,c=T,r=s.apply(_,D),r}function g(T){return c=T,l=setTimeout(w,e),d?p(T):r}function f(T){var D=T-a,_=T-c,G=e-D;return u?mA(G,o-_):G}function v(T){var D=T-a,_=T-c;return a===void 0||D>=e||D<0||u&&_>=o}function w(){var T=ah();if(v(T))return C(T);l=setTimeout(w,f(T))}function C(T){return l=void 0,h&&i?p(T):(i=n=void 0,r)}function E(){l!==void 0&&clearTimeout(l),c=0,i=a=n=l=void 0}function b(){return l===void 0?r:C(ah())}function S(){var T=ah(),D=v(T);if(i=arguments,n=this,a=T,D){if(l===void 0)return g(a);if(u)return clearTimeout(l),l=setTimeout(w,e),p(a)}return l===void 0&&(l=setTimeout(w,e)),r}return S.cancel=E,S.flush=b,S}var CA=vA;const yA=bi(CA),ch=(s,e,t)=>{const i=[],n=e&&t();for(let o=0;o<s;o++)i[o]=n?n.includes(o):!1;return i},dh=s=>s.map((e,t)=>e||t).filter(e=>e!==!0),_y=(s,e,t)=>({getHoursList:(r,l)=>ch(24,s,()=>s(r,l)),getMinutesList:(r,l,a)=>ch(60,e,()=>e(r,l,a)),getSecondsList:(r,l,a,c)=>ch(60,t,()=>t(r,l,a,c))}),Py=(s,e,t)=>{const{getHoursList:i,getMinutesList:n,getSecondsList:o}=_y(s,e,t);return{getAvailableHours:(c,d)=>dh(i(c,d)),getAvailableMinutes:(c,d,u)=>dh(n(c,d,u)),getAvailableSeconds:(c,d,u,h)=>dh(o(c,d,u,h))}},Ay=s=>{const e=K(s.parsedValue);return pt(()=>s.visible,t=>{t||(e.value=s.parsedValue)}),e},wA=Ae({components:{Scrollbar:or},props:{role:{type:String,required:!0},spinnerDate:{type:Object,required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:{type:Boolean},amPmMode:{type:String,default:""},disabledHours:{type:Function},disabledMinutes:{type:Function},disabledSeconds:{type:Function}},emits:["change","select-range","set-option"],setup(s,e){let t=!1;const i=yA(oe=>{t=!1,_(oe)},200),n=K(null),o=K(null),r=K(null),l=K(null),a={hours:o,minutes:r,seconds:l},c=B(()=>{const oe=["hours","minutes","seconds"];return s.showSeconds?oe:oe.slice(0,2)}),d=B(()=>s.spinnerDate.hour()),u=B(()=>s.spinnerDate.minute()),h=B(()=>s.spinnerDate.second()),p=B(()=>({hours:d,minutes:u,seconds:h})),g=B(()=>Me(s.role)),f=B(()=>Pe(d.value,s.role)),v=B(()=>xe(d.value,u.value,s.role)),w=B(()=>({hours:g,minutes:f,seconds:v})),C=B(()=>{const oe=d.value;return[oe>0?oe-1:void 0,oe,oe<23?oe+1:void 0]}),E=B(()=>{const oe=u.value;return[oe>0?oe-1:void 0,oe,oe<59?oe+1:void 0]}),b=B(()=>{const oe=h.value;return[oe>0?oe-1:void 0,oe,oe<59?oe+1:void 0]}),S=B(()=>({hours:C,minutes:E,seconds:b})),T=oe=>{if(!!!s.amPmMode)return"";const he=s.amPmMode==="A";let V=oe<12?" am":" pm";return he&&(V=V.toUpperCase()),V},D=oe=>{oe==="hours"?e.emit("select-range",0,2):oe==="minutes"?e.emit("select-range",3,5):oe==="seconds"&&e.emit("select-range",6,8),n.value=oe},_=oe=>{k(oe,p.value[oe].value)},G=()=>{_("hours"),_("minutes"),_("seconds")},k=(oe,ie)=>{if(s.arrowControl)return;const he=a[oe];he&&he.$el&&(he.$el.querySelector(".scrollbar-wrap").scrollTop=Math.max(0,ie*H(oe)))},H=oe=>a[oe].$el.querySelector("li").getBoundingClientRect().height.toFixed(2),W=()=>{N(1)},P=()=>{N(-1)},N=oe=>{n.value||D("hours");const ie=n.value||"";let he=p.value[ie].value;const V=n.value==="hours"?24:60;he=(he+oe+V)%V,F(ie,he),k(ie,he),Si(()=>D(n.value))},F=(oe,ie)=>{if(!w.value[oe].value[ie])switch(oe){case"hours":e.emit("change",s.spinnerDate.hour(ie).minute(u.value).second(h.value));break;case"minutes":e.emit("change",s.spinnerDate.hour(d.value).minute(ie).second(h.value));break;case"seconds":e.emit("change",s.spinnerDate.hour(d.value).minute(u.value).second(ie));break}},x=(oe,{value:ie,disabled:he})=>{he||(F(oe,ie),D(oe),k(oe,ie))},I=oe=>{t=!0,i(oe);const ie=Math.min(Math.round((a[oe].$el.querySelector(".scrollbar-wrap").scrollTop-(Y(oe)*.5-10)/H(oe)+3)/H(oe)),oe==="hours"?23:59);F(oe,ie)},Y=oe=>a[oe].$el.offsetHeight,ae=()=>{const oe=ie=>{a[ie]&&a[ie].$el&&(a[ie].$el.querySelector(".scrollbar-wrap").onscroll=()=>{I(ie)})};oe("hours"),oe("minutes"),oe("seconds")};xt(()=>{Si(()=>{!s.arrowControl&&ae(),G(),s.role==="start"&&D("hours")})});const Te=(oe,ie)=>{a[ie]=oe};e.emit("set-option",[`${s.role}_scrollDown`,N]),e.emit("set-option",[`${s.role}_emitSelectRange`,D]);const{getHoursList:Me,getMinutesList:Pe,getSecondsList:xe}=_y(s.disabledHours,s.disabledMinutes,s.disabledSeconds);return pt(()=>s.spinnerDate,()=>{t||G()}),{setRef:Te,spinnerItems:c,currentScrollbar:n,hours:d,minutes:u,seconds:h,hoursList:g,minutesList:f,arrowHourList:C,arrowMinuteList:E,arrowSecondList:b,getAmPmFlag:T,emitSelectRange:D,adjustCurrentSpinner:_,typeItemHeight:H,listHoursRef:o,listMinutesRef:r,listSecondsRef:l,onIncreaseClick:W,onDecreaseClick:P,handleClick:x,secondsList:v,timePartsMap:p,arrowListMap:S,listMap:w}}});const SA=["onClick"];function bA(s,e,t,i,n,o){const r=we("scrollbar");return U(),te("div",{class:Re(["time-spinner",{"has-seconds":s.showSeconds}])},[(U(!0),te(Ue,null,vi(s.spinnerItems,l=>(U(),ot(r,{key:l,ref_for:!0,ref:a=>s.setRef(a,l),class:"time-spinner-wrapper","view-class":"time-spinner-list",noresize:"",onMouseenter:a=>s.emitSelectRange(l),onMousemove:a=>s.adjustCurrentSpinner(l)},{default:qe(()=>[M("ul",null,[(U(!0),te(Ue,null,vi(s.listMap[l].value,(a,c)=>(U(),te("li",{key:c,class:Re(["time-spinner-item",{active:c===s.timePartsMap[l].value,disabled:a}]),onClick:d=>s.handleClick(l,{value:c,disabled:a})},[l==="hours"?(U(),te(Ue,{key:0},[ct(Ve(("0"+(s.amPmMode?c%12||12:c)).slice(-2))+Ve(s.getAmPmFlag(c)),1)],64)):(U(),te(Ue,{key:1},[ct(Ve(("0"+c).slice(-2)),1)],64))],10,SA))),128))])]),_:2},1032,["onMouseenter","onMousemove"]))),128))],2)}const Fy=Ge(wA,[["render",bA],["__scopeId","data-v-1953d80a"]]),EA=Ae({components:{TimeSpinner:Fy},props:{visible:{type:Boolean,default:!0},actualVisible:{type:Boolean,default:void 0},datetimeRole:{type:String},parsedValue:{type:[Object,String]},format:{type:String,default:""}},emits:["pick","select-range","set-picker-option"],setup(s,e){const t=K([0,2]),i=Ay(s),n=B(()=>s.actualVisible===void 0?"el-zoom-in-top":""),o=B(()=>s.format.includes("ss")),r=B(()=>s.format.includes("A")?"A":s.format.includes("a")?"a":""),l=P=>{const N=ce(P),F=g(N);return N.isSame(F)},a=()=>{e.emit("pick",i.value,!1)},c=(P=!1,N=!1)=>{N||e.emit("pick",s.parsedValue,P)},d=P=>{if(!s.visible)return;const N=g(P).millisecond(0);e.emit("pick",N,!0)},u=(P,N)=>{e.emit("select-range",P,N),t.value=[P,N]},h=P=>{const N=[0,3].concat(o.value?[6]:[]),F=["hours","minutes"].concat(o.value?["seconds"]:[]),I=(N.indexOf(t.value[0])+P+N.length)%N.length;C.start_emitSelectRange(F[I])},p=P=>{const N=P.code;if(N===kt.left||N===kt.right){const F=N===kt.left?-1:1;h(F),P.preventDefault();return}if(N===kt.up||N===kt.down){const F=N===kt.up?-1:1;C.start_scrollDown(F),P.preventDefault();return}},g=P=>{const N={hour:k,minute:H,second:W};let F=P;return["hour","minute","second"].forEach(x=>{if(N[x]){let I;const Y=N[x];x==="minute"?I=Y(F.hour(),s.datetimeRole):x==="second"?I=Y(F.hour(),F.minute(),s.datetimeRole):I=Y(s.datetimeRole),I&&I.length&&!I.includes(F[x]())&&(F=F[x](I[0]))}}),F},f=P=>P?ce(P,s.format):null,v=P=>P?P.format(s.format):null,w=()=>ce(G);e.emit("set-picker-option",["isValidValue",l]),e.emit("set-picker-option",["formatToString",v]),e.emit("set-picker-option",["parseUserInput",f]),e.emit("set-picker-option",["handleKeydown",p]),e.emit("set-picker-option",["getRangeAvailableTime",g]),e.emit("set-picker-option",["getDefaultValue",w]);const C={},E=P=>{C[P[0]]=P[1]},b=mt("EP_PICKER_BASE"),{arrowControl:S,disabledHours:T,disabledMinutes:D,disabledSeconds:_,defaultValue:G}=b.props,{getAvailableHours:k,getAvailableMinutes:H,getAvailableSeconds:W}=Py(T,D,_);return{transitionName:n,arrowControl:S,onSetOption:E,handleConfirm:c,handleChange:d,setSelectionRange:u,amPmMode:r,showSeconds:o,handleCancel:a,disabledHours:T,disabledMinutes:D,disabledSeconds:_}}});const RA={key:0,class:"time-panel"},TA={class:"time-panel-footer"};function DA(s,e,t,i,n,o){const r=we("time-spinner");return U(),ot($s,{name:s.transitionName},{default:qe(()=>[s.actualVisible||s.visible?(U(),te("div",RA,[M("div",{class:Re(["time-panel-content",{"has-seconds":s.showSeconds}])},[le(r,{ref:"spinner",role:s.datetimeRole||"start","arrow-control":s.arrowControl,"show-seconds":s.showSeconds,"am-pm-mode":s.amPmMode,"spinner-date":s.parsedValue,"disabled-hours":s.disabledHours,"disabled-minutes":s.disabledMinutes,"disabled-seconds":s.disabledSeconds,onChange:s.handleChange,onSetOption:s.onSetOption,onSelectRange:s.setSelectionRange},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onChange","onSetOption","onSelectRange"])],2),M("div",TA,[M("button",{type:"button",class:"cancel",onClick:e[0]||(e[0]=(...l)=>s.handleCancel&&s.handleCancel(...l))}," Cancel "),M("button",{type:"button",class:"confirm",onClick:e[1]||(e[1]=l=>s.handleConfirm())}," Ok ")])])):Ne("",!0)]),_:1},8,["name"])}const hf=Ge(EA,[["render",DA],["__scopeId","data-v-44433b62"]]);function OA(s,e){for(var t=-1,i=e.length,n=s.length;++t<i;)s[n+t]=e[t];return s}var _A=OA,PA=uf,AA=Yd,FA="[object Arguments]";function MA(s){return AA(s)&&PA(s)==FA}var LA=MA,cv=LA,IA=Yd,My=Object.prototype,NA=My.hasOwnProperty,xA=My.propertyIsEnumerable,GA=cv(function(){return arguments}())?cv:function(s){return IA(s)&&NA.call(s,"callee")&&!xA.call(s,"callee")},VA=GA,HA=Array.isArray,kA=HA,dv=df,BA=VA,$A=kA,uv=dv?dv.isConcatSpreadable:void 0;function WA(s){return $A(s)||BA(s)||!!(uv&&s&&s[uv])}var UA=WA,jA=_A,zA=UA;function Ly(s,e,t,i,n){var o=-1,r=s.length;for(t||(t=zA),n||(n=[]);++o<r;){var l=s[o];e>0&&t(l)?e>1?Ly(l,e-1,t,i,n):jA(n,l):i||(n[n.length]=l)}return n}var KA=Ly;function YA(s){return s}var Iy=YA;function qA(s,e,t){switch(t.length){case 0:return s.call(e);case 1:return s.call(e,t[0]);case 2:return s.call(e,t[0],t[1]);case 3:return s.call(e,t[0],t[1],t[2])}return s.apply(e,t)}var QA=qA,XA=QA,hv=Math.max;function JA(s,e,t){return e=hv(e===void 0?s.length-1:e,0),function(){for(var i=arguments,n=-1,o=hv(i.length-e,0),r=Array(o);++n<o;)r[n]=i[e+n];n=-1;for(var l=Array(e+1);++n<e;)l[n]=i[n];return l[e]=t(r),XA(s,this,l)}}var ZA=JA;function e0(s){return function(){return s}}var t0=e0,i0=uf,s0=Kd,n0="[object AsyncFunction]",o0="[object Function]",r0="[object GeneratorFunction]",l0="[object Proxy]";function a0(s){if(!s0(s))return!1;var e=i0(s);return e==o0||e==r0||e==n0||e==l0}var Ny=a0,c0=Pa,d0=c0["__core-js_shared__"],u0=d0,uh=u0,pv=function(){var s=/[^.]+$/.exec(uh&&uh.keys&&uh.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}();function h0(s){return!!pv&&pv in s}var p0=h0,f0=Function.prototype,g0=f0.toString;function m0(s){if(s!=null){try{return g0.call(s)}catch{}try{return s+""}catch{}}return""}var v0=m0,C0=Ny,y0=p0,w0=Kd,S0=v0,b0=/[\\^$.*+?()[\]{}|]/g,E0=/^\[object .+?Constructor\]$/,R0=Function.prototype,T0=Object.prototype,D0=R0.toString,O0=T0.hasOwnProperty,_0=RegExp("^"+D0.call(O0).replace(b0,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function P0(s){if(!w0(s)||y0(s))return!1;var e=C0(s)?_0:E0;return e.test(S0(s))}var A0=P0;function F0(s,e){return s==null?void 0:s[e]}var M0=F0,L0=A0,I0=M0;function N0(s,e){var t=I0(s,e);return L0(t)?t:void 0}var qd=N0,x0=qd,G0=function(){try{var s=x0(Object,"defineProperty");return s({},"",{}),s}catch{}}(),V0=G0,H0=t0,fv=V0,k0=Iy,B0=fv?function(s,e){return fv(s,"toString",{configurable:!0,enumerable:!1,value:H0(e),writable:!0})}:k0,$0=B0,W0=800,U0=16,j0=Date.now;function z0(s){var e=0,t=0;return function(){var i=j0(),n=U0-(i-t);if(t=i,n>0){if(++e>=W0)return arguments[0]}else e=0;return s.apply(void 0,arguments)}}var K0=z0,Y0=$0,q0=K0,Q0=q0(Y0),X0=Q0,J0=Iy,Z0=ZA,eF=X0;function tF(s,e){return eF(Z0(s,e,J0),s+"")}var iF=tF,sF=qd,nF=sF(Object,"create"),Qd=nF,gv=Qd;function oF(){this.__data__=gv?gv(null):{},this.size=0}var rF=oF;function lF(s){var e=this.has(s)&&delete this.__data__[s];return this.size-=e?1:0,e}var aF=lF,cF=Qd,dF="__lodash_hash_undefined__",uF=Object.prototype,hF=uF.hasOwnProperty;function pF(s){var e=this.__data__;if(cF){var t=e[s];return t===dF?void 0:t}return hF.call(e,s)?e[s]:void 0}var fF=pF,gF=Qd,mF=Object.prototype,vF=mF.hasOwnProperty;function CF(s){var e=this.__data__;return gF?e[s]!==void 0:vF.call(e,s)}var yF=CF,wF=Qd,SF="__lodash_hash_undefined__";function bF(s,e){var t=this.__data__;return this.size+=this.has(s)?0:1,t[s]=wF&&e===void 0?SF:e,this}var EF=bF,RF=rF,TF=aF,DF=fF,OF=yF,_F=EF;function Ur(s){var e=-1,t=s==null?0:s.length;for(this.clear();++e<t;){var i=s[e];this.set(i[0],i[1])}}Ur.prototype.clear=RF;Ur.prototype.delete=TF;Ur.prototype.get=DF;Ur.prototype.has=OF;Ur.prototype.set=_F;var PF=Ur;function AF(){this.__data__=[],this.size=0}var FF=AF;function MF(s,e){return s===e||s!==s&&e!==e}var LF=MF,IF=LF;function NF(s,e){for(var t=s.length;t--;)if(IF(s[t][0],e))return t;return-1}var Xd=NF,xF=Xd,GF=Array.prototype,VF=GF.splice;function HF(s){var e=this.__data__,t=xF(e,s);if(t<0)return!1;var i=e.length-1;return t==i?e.pop():VF.call(e,t,1),--this.size,!0}var kF=HF,BF=Xd;function $F(s){var e=this.__data__,t=BF(e,s);return t<0?void 0:e[t][1]}var WF=$F,UF=Xd;function jF(s){return UF(this.__data__,s)>-1}var zF=jF,KF=Xd;function YF(s,e){var t=this.__data__,i=KF(t,s);return i<0?(++this.size,t.push([s,e])):t[i][1]=e,this}var qF=YF,QF=FF,XF=kF,JF=WF,ZF=zF,eM=qF;function jr(s){var e=-1,t=s==null?0:s.length;for(this.clear();++e<t;){var i=s[e];this.set(i[0],i[1])}}jr.prototype.clear=QF;jr.prototype.delete=XF;jr.prototype.get=JF;jr.prototype.has=ZF;jr.prototype.set=eM;var tM=jr,iM=qd,sM=Pa,nM=iM(sM,"Map"),oM=nM,mv=PF,rM=tM,lM=oM;function aM(){this.size=0,this.__data__={hash:new mv,map:new(lM||rM),string:new mv}}var cM=aM;function dM(s){var e=typeof s;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?s!=="__proto__":s===null}var uM=dM,hM=uM;function pM(s,e){var t=s.__data__;return hM(e)?t[typeof e=="string"?"string":"hash"]:t.map}var Jd=pM,fM=Jd;function gM(s){var e=fM(this,s).delete(s);return this.size-=e?1:0,e}var mM=gM,vM=Jd;function CM(s){return vM(this,s).get(s)}var yM=CM,wM=Jd;function SM(s){return wM(this,s).has(s)}var bM=SM,EM=Jd;function RM(s,e){var t=EM(this,s),i=t.size;return t.set(s,e),this.size+=t.size==i?0:1,this}var TM=RM,DM=cM,OM=mM,_M=yM,PM=bM,AM=TM;function zr(s){var e=-1,t=s==null?0:s.length;for(this.clear();++e<t;){var i=s[e];this.set(i[0],i[1])}}zr.prototype.clear=DM;zr.prototype.delete=OM;zr.prototype.get=_M;zr.prototype.has=PM;zr.prototype.set=AM;var FM=zr,MM="__lodash_hash_undefined__";function LM(s){return this.__data__.set(s,MM),this}var IM=LM;function NM(s){return this.__data__.has(s)}var xM=NM,GM=FM,VM=IM,HM=xM;function od(s){var e=-1,t=s==null?0:s.length;for(this.__data__=new GM;++e<t;)this.add(s[e])}od.prototype.add=od.prototype.push=VM;od.prototype.has=HM;var kM=od;function BM(s,e,t,i){for(var n=s.length,o=t+(i?1:-1);i?o--:++o<n;)if(e(s[o],o,s))return o;return-1}var $M=BM;function WM(s){return s!==s}var UM=WM;function jM(s,e,t){for(var i=t-1,n=s.length;++i<n;)if(s[i]===e)return i;return-1}var zM=jM,KM=$M,YM=UM,qM=zM;function QM(s,e,t){return e===e?qM(s,e,t):KM(s,YM,t)}var XM=QM,JM=XM;function ZM(s,e){var t=s==null?0:s.length;return!!t&&JM(s,e,0)>-1}var eL=ZM;function tL(s,e,t){for(var i=-1,n=s==null?0:s.length;++i<n;)if(t(e,s[i]))return!0;return!1}var iL=tL;function sL(s,e){return s.has(e)}var nL=sL,oL=qd,rL=Pa,lL=oL(rL,"Set"),aL=lL;function cL(){}var dL=cL;function uL(s){var e=-1,t=Array(s.size);return s.forEach(function(i){t[++e]=i}),t}var xy=uL,hh=aL,hL=dL,pL=xy,fL=1/0,gL=hh&&1/pL(new hh([,-0]))[1]==fL?function(s){return new hh(s)}:hL,mL=gL,vL=kM,CL=eL,yL=iL,wL=nL,SL=mL,bL=xy,EL=200;function RL(s,e,t){var i=-1,n=CL,o=s.length,r=!0,l=[],a=l;if(t)r=!1,n=yL;else if(o>=EL){var c=e?null:SL(s);if(c)return bL(c);r=!1,n=wL,a=new vL}else a=e?[]:l;e:for(;++i<o;){var d=s[i],u=e?e(d):d;if(d=t||d!==0?d:0,r&&u===u){for(var h=a.length;h--;)if(a[h]===u)continue e;e&&a.push(u),l.push(d)}else n(a,u,t)||(a!==l&&a.push(u),l.push(d))}return l}var TL=RL,DL=9007199254740991;function OL(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=DL}var _L=OL,PL=Ny,AL=_L;function FL(s){return s!=null&&AL(s.length)&&!PL(s)}var ML=FL,LL=ML,IL=Yd;function NL(s){return IL(s)&&LL(s)}var xL=NL,GL=KA,VL=iF,HL=TL,kL=xL,BL=VL(function(s){return HL(GL(s,1,kL,!0))}),$L=BL;const ph=bi($L),Yo=(s,e)=>{const t=[];for(let i=s;i<=e;i++)t.push(i);return t},WL=Ae({components:{TimeSpinner:Fy},props:{visible:Boolean,actualVisible:Boolean,parsedValue:{type:[Array],default:()=>[]},format:{type:String,default:""}},emits:["pick","select-range","set-picker-option"],setup(s,e){const t=B(()=>s.parsedValue[0]),i=B(()=>s.parsedValue[1]),n=Ay(s),o=()=>{e.emit("pick",n.value,null)},r=B(()=>s.format.includes("ss")),l=B(()=>s.format.includes("A")?"A":s.format.includes("a")?"a":""),a=K([]),c=K([]),d=(ie=!1)=>{e.emit("pick",[t.value,i.value],ie)},u=ie=>{g(ie.millisecond(0),i.value)},h=ie=>{g(t.value,ie.millisecond(0))},p=ie=>{const he=ie.map(se=>ce(se)),V=G(he);return he[0].isSame(V[0])&&he[1].isSame(V[1])},g=(ie,he)=>{e.emit("pick",[ie,he],!0)},f=B(()=>t.value>i.value),v=K([0,2]),w=(ie,he)=>{e.emit("select-range",ie,he,"min"),v.value=[ie,he]},C=B(()=>r.value?11:8),E=(ie,he)=>{e.emit("select-range",ie,he,"max"),v.value=[ie+C.value,he+C.value]},b=ie=>{const he=r.value?[0,3,6,11,14,17]:[0,3,8,11],V=["hours","minutes"].concat(r.value?["seconds"]:[]),X=(he.indexOf(v.value[0])+ie+he.length)%he.length,A=he.length/2;X<A?I.start_emitSelectRange(V[X]):I.end_emitSelectRange(V[X-A])},S=ie=>{const he=ie.code;if(he===kt.left||he===kt.right){const V=he===kt.left?-1:1;b(V),ie.preventDefault();return}if(he===kt.up||he===kt.down){const V=he===kt.up?-1:1,se=v.value[0]<C.value?"start":"end";I[`${se}_scrollDown`](V),ie.preventDefault();return}},T=(ie,he)=>{const V=Me?Me(ie):[],se=ie==="start",A=(he||(se?i.value:t.value)).hour(),J=se?Yo(A+1,23):Yo(0,A-1);return ph(V,J)},D=(ie,he,V)=>{const se=Pe?Pe(ie,he):[],X=he==="start",A=V||(X?i.value:t.value),J=A.hour();if(ie!==J)return se;const R=A.minute(),O=X?Yo(R+1,59):Yo(0,R-1);return ph(se,O)},_=(ie,he,V,se)=>{const X=xe?xe(ie,he,V):[],A=V==="start",J=se||(A?i.value:t.value),R=J.hour(),O=J.minute();if(ie!==R||he!==O)return X;const L=J.second(),z=A?Yo(L+1,59):Yo(0,L-1);return ph(X,z)},G=ie=>ie.map((he,V)=>P(ie[0],ie[1],V===0?"start":"end")),{getAvailableHours:k,getAvailableMinutes:H,getAvailableSeconds:W}=Py(T,D,_),P=(ie,he,V)=>{const se={hour:k,minute:H,second:W},X=V==="start";let A=X?ie:he;const J=X?he:ie;return["hour","minute","second"].forEach(R=>{if(se[R]){let O;const L=se[R];if(R==="minute"?O=L(A.hour(),V,J):R==="second"?O=L(A.hour(),A.minute(),V,J):O=L(V,J),O&&O.length&&!O.includes(A[R]())){const z=X?0:O.length-1;A=A[R](O[z])}}}),A},N=ie=>ie?Array.isArray(ie)?ie.map(he=>ce(he,s.format)):ce(ie,s.format):null,F=ie=>ie?Array.isArray(ie)?ie.map(he=>he.format(s.format)):ie.format(s.format):null,x=()=>{if(Array.isArray(oe))return oe.map(he=>ce(he));const ie=ce(oe);return[ie,ie.add(60,"m")]};e.emit("set-picker-option",["formatToString",F]),e.emit("set-picker-option",["parseUserInput",N]),e.emit("set-picker-option",["isValidValue",p]),e.emit("set-picker-option",["handleKeydown",S]),e.emit("set-picker-option",["getDefaultValue",x]),e.emit("set-picker-option",["getRangeAvailableTime",G]);const I={},Y=ie=>{I[ie[0]]=ie[1]},ae=mt("EP_PICKER_BASE"),{arrowControl:Te,disabledHours:Me,disabledMinutes:Pe,disabledSeconds:xe,defaultValue:oe}=ae.props;return{arrowControl:Te,onSetOption:Y,setMaxSelectionRange:E,setMinSelectionRange:w,btnConfirmDisabled:f,handleCancel:o,handleConfirm:d,showSeconds:r,minDate:t,maxDate:i,amPmMode:l,handleMinChange:u,handleMaxChange:h,minSelectableRange:a,maxSelectableRange:c,disabledHours_:T,disabledMinutes_:D,disabledSeconds_:_}}}),UL={key:0,class:"el-time-range-picker el-picker-panel"},jL={class:"el-time-range-picker__content"},zL={class:"el-time-range-picker__cell"},KL=M("div",{class:"el-time-range-picker__header"},"Start Time",-1),YL={class:"el-time-range-picker__cell"},qL=M("div",{class:"el-time-range-picker__header"},"End Time",-1),QL={class:"el-time-panel__footer"},XL=["disabled"];function JL(s,e,t,i,n,o){const r=we("time-spinner");return s.actualVisible?(U(),te("div",UL,[M("div",jL,[M("div",zL,[KL,M("div",{class:Re([{"has-seconds":s.showSeconds,"is-arrow":s.arrowControl},"el-time-range-picker__body el-time-panel__content"])},[le(r,{ref:"minSpinner",role:"start","show-seconds":s.showSeconds,"am-pm-mode":s.amPmMode,"arrow-control":s.arrowControl,"spinner-date":s.minDate,"disabled-hours":s.disabledHours_,"disabled-minutes":s.disabledMinutes_,"disabled-seconds":s.disabledSeconds_,onChange:s.handleMinChange,onSetOption:s.onSetOption,onSelectRange:s.setMinSelectionRange},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onChange","onSetOption","onSelectRange"])],2)]),M("div",YL,[qL,M("div",{class:Re([{"has-seconds":s.showSeconds,"is-arrow":s.arrowControl},"el-time-range-picker__body el-time-panel__content"])},[le(r,{ref:"maxSpinner",role:"end","show-seconds":s.showSeconds,"am-pm-mode":s.amPmMode,"arrow-control":s.arrowControl,"spinner-date":s.maxDate,"disabled-hours":s.disabledHours_,"disabled-minutes":s.disabledMinutes_,"disabled-seconds":s.disabledSeconds_,onChange:s.handleMaxChange,onSetOption:s.onSetOption,onSelectRange:s.setMaxSelectionRange},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onChange","onSetOption","onSelectRange"])],2)])]),M("div",QL,[M("button",{type:"button",class:"el-time-panel__btn cancel",onClick:e[0]||(e[0]=l=>s.handleCancel())}," Cancel "),M("button",{type:"button",class:"el-time-panel__btn confirm",disabled:s.btnConfirmDisabled,onClick:e[1]||(e[1]=l=>s.handleConfirm())}," OK ",8,XL)])])):Ne("",!0)}const ZL=Ge(WL,[["render",JL]]);ce.extend(vy);const fh=Ae({name:"TimePicker",install:null,props:{format:{type:String,default:"HH:mm:ss"},arrowControl:{type:Boolean,default:!1},isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(s,e){const t=s.isRange?"timerange":"time",i=s.isRange?ZL:hf;return()=>Bt("h",{...s,type:t,"onUpdate:modelValue":n=>e.emit("update:modelValue",n)},{default:n=>Bt(i,n)})}});fh.install=s=>{s.component(fh.name,fh)};ce.extend(Oa);ce.extend(_a);const eI=Ae({props:{date:{type:Object},minDate:{type:Object},maxDate:{type:Object},parsedValue:{type:[Object,Array]},selectionMode:{type:String,default:"day"},showWeekNumber:{type:Boolean,default:!1},disabledDate:{type:Function},cellClassName:{type:Function},rangeState:{type:Object,default:()=>({endDate:null,selecting:!1})}},emits:["changerange","pick","select"],setup(s,e){const t=K(null),i=K(null),n=K([[],[],[],[],[],[]]),o=b=>b.isUTC()?b.utc():b,r=mt("EP_PICKER_BASE"),{timezone:l}=r.props;l&&ce.tz.setDefault(l);const a=s.date.$locale().weekStart||7,c=s.date.locale("en").localeData().weekdaysShort(),d=B(()=>a>3?7-a:-a),u=B(()=>{const b=s.date.startOf("month");return b.subtract(b.day()||7,"day")}),h=B(()=>c.concat(c).slice(a,a+7)),p=B(()=>{var W;const b=s.date.startOf("month"),S=b.day()||7,T=b.daysInMonth(),D=b.subtract(1,"month").daysInMonth(),_=d.value,G=n.value;let k=1;const H=s.selectionMode==="dates"?Fl(s.parsedValue):[];for(let P=0;P<6;P++){const N=G[P];s.showWeekNumber&&(N[0]||(N[0]={type:"week",text:u.value.add(P*7+1,"day").week()}));for(let F=0;F<7;F++){let x=N[s.showWeekNumber?F+1:F];x||(x={row:P,column:F,type:"normal",inRange:!1,start:!1,end:!1});const I=P*7+F,Y=u.value.add(I-_,"day");x.type="normal";const ae=s.rangeState.endDate||s.maxDate||s.rangeState.selecting&&s.minDate;x.inRange=s.minDate&&Y.isSameOrAfter(s.minDate,"day")&&ae&&Y.isSameOrBefore(ae,"day")||s.minDate&&Y.isSameOrBefore(s.minDate,"day")&&ae&&Y.isSameOrAfter(ae,"day"),(W=s.minDate)!=null&&W.isSameOrAfter(ae)?(x.start=ae&&Y.isSame(ae,"day"),x.end=s.minDate&&Y.isSame(s.minDate,"day")):(x.start=s.minDate&&Y.isSame(s.minDate,"day"),x.end=ae&&Y.isSame(ae,"day"));const Te=o(ce().tz()).startOf("day");if(Y.isSame(Te,"day")&&(x.type="today"),P>=0&&P<=1){const xe=S+_<0?7+S+_:S+_;F+P*7>=xe?x.text=k++:(x.text=D-(xe-F%7)+1+P*7,x.type="prev-month")}else k<=T?x.text=k++:(x.text=k++-T,x.type="next-month");const Pe=Y.toDate();x.selected=H.find(xe=>xe.valueOf()===Y.valueOf()),x.disabled=s.disabledDate&&s.disabledDate(Pe),x.customClass=s.cellClassName&&s.cellClassName(Pe),N[s.showWeekNumber?F+1:F]=x}if(s.selectionMode==="week"){const F=s.showWeekNumber?1:0,x=s.showWeekNumber?7:6,I=E(N[F+1]);N[F].inRange=I,N[F].start=I,N[x].inRange=I,N[x].end=I}}return G}),g=(b,S)=>S?S.isSame(s.date.date(Number(b.text)),"day"):!1,f=b=>{const S=[];return(b.type==="normal"||b.type==="today")&&!b.disabled?(S.push("available"),b.type==="today"&&S.push("today")):S.push(b.type),s.selectionMode==="day"&&(b.type==="normal"||b.type==="today")&&g(b,s.parsedValue)&&S.push("current"),b.inRange&&(b.type==="normal"||b.type==="today"||s.selectionMode==="week")&&(S.push("in-range"),b.start&&S.push("start-date"),b.end&&S.push("end-date")),b.disabled&&S.push("disabled"),b.selected&&S.push("selected"),b.customClass&&S.push(b.customClass),S.join(" ")},v=(b,S)=>{const T=b*7+(S-(s.showWeekNumber?1:0))-d.value;return u.value.add(T,"day")},w=b=>{if(!s.rangeState.selecting)return;let S=b.target;if(S.tagName==="SPAN"&&(S=S.parentNode.parentNode),S.tagName==="DIV"&&(S=S.parentNode),S.tagName!=="TD")return;const T=S.parentNode.rowIndex-1,D=S.cellIndex;p.value[T][D].disabled||(T!==t.value||D!==i.value)&&(t.value=T,i.value=D,e.emit("changerange",{selecting:!0,endDate:v(T,D)}))},C=b=>{let S=b.target;if(S.tagName==="SPAN"&&(S=S.parentNode.parentNode),S.tagName==="DIV"&&(S=S.parentNode),S.tagName!=="TD")return;const T=S.parentNode.rowIndex-1,D=S.cellIndex,_=p.value[T][D];if(_.disabled||_.type==="week")return;const G=v(T,D);if(s.selectionMode==="range")s.rangeState.selecting?(G>=s.minDate?e.emit("pick",{minDate:s.minDate,maxDate:G}):e.emit("pick",{minDate:G,maxDate:s.minDate}),e.emit("select",!1)):(e.emit("pick",{minDate:G,maxDate:null}),e.emit("select",!0));else if(s.selectionMode==="day")e.emit("pick",G);else if(s.selectionMode==="week"){const k=G.week(),H=`${G.year()}w${k}`;e.emit("pick",{year:G.year(),week:k,value:H,date:G.startOf("week")})}else if(s.selectionMode==="dates"){const k=_.selected?Fl(s.parsedValue).filter(H=>H.valueOf()!==G.valueOf()):Fl(s.parsedValue).concat([G]);e.emit("pick",k)}},E=b=>{if(s.selectionMode!=="week")return!1;let S=s.date.startOf("day");if(b.type==="prev-month"&&(S=S.subtract(1,"month")),b.type==="next-month"&&(S=S.add(1,"month")),S=S.date(parseInt(b.text,10)),s.parsedValue&&!Array.isArray(s.parsedValue)){const T=(s.parsedValue.day()-a+7)%7-1;return s.parsedValue.subtract(T,"day").isSame(S,"day")}return!1};return{handleMouseMove:w,rows:p,isWeekActive:E,getCellClasses:f,WEEKS:h,handleClick:C}}});const tI={key:0,scope:"col"},iI={class:"date-table-row-cell"};function sI(s,e,t,i,n,o){return U(),te("table",{class:Re(["date-table",{"is-week-mode":s.selectionMode==="week"}]),"aria-hidden":"true",onClick:e[0]||(e[0]=(...r)=>s.handleClick&&s.handleClick(...r)),onMousemove:e[1]||(e[1]=(...r)=>s.handleMouseMove&&s.handleMouseMove(...r))},[M("tbody",null,[M("tr",null,[s.showWeekNumber?(U(),te("th",tI,"week")):Ne("",!0),(U(!0),te(Ue,null,vi(s.WEEKS,(r,l)=>(U(),te("th",{key:l,scope:"col"},Ve(r),1))),128))]),(U(!0),te(Ue,null,vi(s.rows,(r,l)=>(U(),te("tr",{key:l,class:Re(["date-table-row",{current:s.isWeekActive(r[1])}])},[(U(!0),te(Ue,null,vi(r,(a,c)=>(U(),te("td",{key:c,class:Re(s.getCellClasses(a))},[M("div",iI,[M("span",null,Ve(a.text),1)])],2))),128))],2))),128))])],34)}const Gy=Ge(eI,[["render",sI],["__scopeId","data-v-051fd4a1"]]),nI=(s,e,t)=>{const i=ce().locale(t).startOf("month").month(e).year(s),n=i.daysInMonth();return sy(n).map(o=>i.add(o,"day").toDate())},oI=Ae({props:{disabledDate:{type:Function},selectionMode:{type:String,default:"month"},minDate:{type:Object},maxDate:{type:Object},date:{type:Object},parsedValue:{type:Object},rangeState:{type:Object,default:()=>({endDate:null,selecting:!1})}},emits:["changerange","pick","select"],setup(s,e){var u;const t=K((u=s.date)==null?void 0:u.localeData().monthsShort()),i=K([[],[],[]]),n=K(null),o=K(null),r=K("en"),l=B(()=>{var g;const h=i.value,p=ce().locale("en").startOf("month");for(let f=0;f<3;f++){const v=h[f];for(let w=0;w<4;w++){let C=v[w];C||(C={row:f,column:w,type:"normal",inRange:!1,start:!1,end:!1}),C.type="normal";const E=f*4+w,b=s.date.startOf("year").month(E),S=s.rangeState.endDate||s.maxDate||s.rangeState.selecting&&s.minDate;C.inRange=s.minDate&&b.isSameOrAfter(s.minDate,"month")&&S&&b.isSameOrBefore(S,"month")||s.minDate&&b.isSameOrBefore(s.minDate,"month")&&S&&b.isSameOrAfter(S,"month"),(g=s.minDate)!=null&&g.isSameOrAfter(S)?(C.start=S&&b.isSame(S,"month"),C.end=s.minDate&&b.isSame(s.minDate,"month")):(C.start=s.minDate&&b.isSame(s.minDate,"month"),C.end=S&&b.isSame(S,"month")),p.isSame(b)&&(C.type="today"),C.text=E;const D=b.toDate();C.disabled=s.disabledDate&&s.disabledDate(D),v[w]=C}}return h});return{handleMouseMove:h=>{if(!s.rangeState.selecting)return;let p=h.target;if(p.tagName==="A"&&(p=p.parentNode.parentNode),p.tagName==="DIV"&&(p=p.parentNode),p.tagName!=="TD")return;const g=p.parentNode.rowIndex,f=p.cellIndex;l.value[g][f].disabled||(g!==n.value||f!==o.value)&&(n.value=g,o.value=f,e.emit("changerange",{selecting:!0,endDate:s.date.startOf("year").month(g*4+f)}))},handleMonthTableClick:h=>{let p=h.target;if(p.tagName==="A"&&(p=p.parentNode.parentNode),p.tagName==="DIV"&&(p=p.parentNode),p.tagName!=="TD"||vr(p,"disabled"))return;const g=p.cellIndex,v=p.parentNode.rowIndex*4+g,w=s.date.startOf("year").month(v);s.selectionMode==="range"?s.rangeState.selecting?(w>=s.minDate?e.emit("pick",{minDate:s.minDate,maxDate:w}):e.emit("pick",{minDate:w,maxDate:s.minDate}),e.emit("select",!1)):(e.emit("pick",{minDate:w,maxDate:null}),e.emit("select",!0)):e.emit("pick",v)},rows:l,getCellStyle:h=>{const p={},g=s.date.year(),f=new Date,v=h.text;return p.disabled=s.disabledDate?nI(g,v,r.value).every(s.disabledDate):!1,p.current=Fl(s.parsedValue).findIndex(w=>w.year()===g&&w.month()===v)>=0,p.today=f.getFullYear()===g&&f.getMonth()===v,h.inRange&&(p["in-range"]=!0,h.start&&(p["start-date"]=!0),h.end&&(p["end-date"]=!0)),p},months:t}}});const rI={class:"cell"};function lI(s,e,t,i,n,o){return U(),te("table",{class:"month-table","aria-hidden":"true",onClick:e[0]||(e[0]=(...r)=>s.handleMonthTableClick&&s.handleMonthTableClick(...r)),onMousemove:e[1]||(e[1]=(...r)=>s.handleMouseMove&&s.handleMouseMove(...r))},[M("tbody",null,[(U(!0),te(Ue,null,vi(s.rows,(r,l)=>(U(),te("tr",{key:l},[(U(!0),te(Ue,null,vi(r,(a,c)=>(U(),te("td",{key:c,class:Re(s.getCellStyle(a))},[M("div",null,[M("a",rI,Ve(s.months[a.text]),1)])],2))),128))]))),128))])],32)}const aI=Ge(oI,[["render",lI],["__scopeId","data-v-c47c74f5"]]),cI=(s,e)=>{const t=ce(String(s)).locale(e).startOf("year"),n=t.endOf("year").dayOfYear();return sy(n).map(o=>t.add(o,"day").toDate())},dI=Ae({props:{disabledDate:{type:Function},parsedValue:{type:Object},date:{type:Object,default:()=>Object}},emits:["pick"],setup(s,e){const t=K("en"),i=B(()=>{const l=Math.floor(s.date.year()/10)*10;return l<=1900?1901:l}),n=l=>l.isUTC()?l.utc():l;return{startYear:i,getCellStyle:l=>{const a={},c=n(ce().tz()).locale(t.value);return a.disabled=s.disabledDate?cI(l,t.value).every(s.disabledDate):!1,a.current=Fl(s.parsedValue).findIndex(d=>d.year()===l)>=0,a.today=c.year()===l,a},handleYearTableClick:l=>{const a=l.target;if(a.tagName==="A"){if(vr(a.parentNode,"disabled"))return;const c=a.textContent||a.innerText;e.emit("pick",Number(c))}}}}});const Vy=s=>(Ds("data-v-5e04f6a7"),s=s(),Os(),s),uI={class:"cell"},hI={class:"cell"},pI={class:"cell"},fI={class:"cell"},gI={class:"cell"},mI={class:"cell"},vI={class:"cell"},CI={class:"cell"},yI={class:"cell"},wI={class:"cell"},SI=Vy(()=>M("td",null,null,-1)),bI=Vy(()=>M("td",null,null,-1));function EI(s,e,t,i,n,o){return U(),te("table",{class:"year-table","aria-hidden":"true",onClick:e[0]||(e[0]=(...r)=>s.handleYearTableClick&&s.handleYearTableClick(...r))},[M("tbody",null,[M("tr",null,[M("td",{class:Re(["available",s.getCellStyle(s.startYear+0)])},[M("a",uI,Ve(s.startYear),1)],2),M("td",{class:Re(["available",s.getCellStyle(s.startYear+1)])},[M("a",hI,Ve(s.startYear+1),1)],2),M("td",{class:Re(["available",s.getCellStyle(s.startYear+2)])},[M("a",pI,Ve(s.startYear+2),1)],2),M("td",{class:Re(["available",s.getCellStyle(s.startYear+3)])},[M("a",fI,Ve(s.startYear+3),1)],2)]),M("tr",null,[M("td",{class:Re(["available",s.getCellStyle(s.startYear+4)])},[M("a",gI,Ve(s.startYear+4),1)],2),M("td",{class:Re(["available",s.getCellStyle(s.startYear+5)])},[M("a",mI,Ve(s.startYear+5),1)],2),M("td",{class:Re(["available",s.getCellStyle(s.startYear+6)])},[M("a",vI,Ve(s.startYear+6),1)],2),M("td",{class:Re(["available",s.getCellStyle(s.startYear+7)])},[M("a",CI,Ve(s.startYear+7),1)],2)]),M("tr",null,[M("td",{class:Re(["available",s.getCellStyle(s.startYear+8)])},[M("a",yI,Ve(s.startYear+8),1)],2),M("td",{class:Re(["available",s.getCellStyle(s.startYear+9)])},[M("a",wI,Ve(s.startYear+9),1)],2),SI,bI])])])}const RI=Ge(dI,[["render",EI],["__scopeId","data-v-5e04f6a7"]]);var Hy={exports:{}};(function(s,e){(function(t,i){s.exports=i()})(ei,function(){return function(t,i,n){i.prototype.isBetween=function(o,r,l,a){var c=n(o),d=n(r),u=(a=a||"()")[0]==="(",h=a[1]===")";return(u?this.isAfter(c,l):!this.isBefore(c,l))&&(h?this.isBefore(d,l):!this.isAfter(d,l))||(u?this.isBefore(c,l):!this.isAfter(c,l))&&(h?this.isAfter(d,l):!this.isBefore(d,l))}}})})(Hy);var TI=Hy.exports;const DI=bi(TI);ce.extend(Oa);ce.extend(_a);ce.extend(DI);const ky=(s,e)=>{const t=K("en"),i=e.toLocaleUpperCase(),n=i.indexOf("D"),o=i.indexOf("M"),r=i.indexOf("Y"),l=`${ce().year()}`.slice(0,2);s&&ce.tz.setDefault(s);const a=C=>C.isUTC()?C.utc():C,c=C=>SP.test(C),d=(C,E="")=>{if(C==="0")return v(E);{let b;["+","-"].includes(C[0])?b=C.length<=5?u(C):ce(ln):C.length===2?b=h(C):C.length===4?b=p(C):C.length===6?b=g(C):C.length===8?b=f(C):b=ce(ln);let S=s&&b?b.tz(s,!0):b;return S=w(S,E),!S.isValid()||S.year()>=1901?S:ce(ln)}},u=C=>v().add(+C,"d"),h=C=>+C==0?ce(ln):v().date(+C),p=C=>{let E="",b="";return n<o?(E=C.slice(0,2),b=C.slice(2)):(b=C.slice(0,2),E=C.slice(2)),+b==0||+E==0?ce(ln):v().month(+b-1).date(+E)},g=C=>{let E="",b="",S="";return r>n&&r>o?(n<o?(b=C.slice(0,2),S=C.slice(2,4)):(S=C.slice(0,2),b=C.slice(2,4)),E=C.slice(4)):r<n&&r<o?(n<o?(b=C.slice(2,4),S=C.slice(4)):(S=C.slice(2,4),b=C.slice(4)),E=C.slice(0,2)):(n<o?(b=C.slice(0,2),S=C.slice(4)):(S=C.slice(0,2),b=C.slice(4)),E=C.slice(2,4)),+S==0||+b==0?ce(ln):(E=l+""+E,v().year(+E).month(+S-1).date(+b))},f=C=>{let E="",b="",S="";return r>n&&r>o?(n<o?(b=C.slice(0,2),S=C.slice(2,4)):(S=C.slice(0,2),b=C.slice(2,4)),E=C.slice(4)):r<n&&r<o?(n<o?(b=C.slice(4,6),S=C.slice(6)):(S=C.slice(4,6),b=C.slice(6)),E=C.slice(0,4)):(n<o?(b=C.slice(0,2),S=C.slice(6)):(S=C.slice(0,2),b=C.slice(6)),E=C.slice(2,6)),+S==0||+b==0?ce(ln):v().year(+E).month(+S-1).date(+b)},v=(C="")=>{const E=w(ce().tz(),C);return a(E).locale(t.value)},w=(C,E="")=>E==="start"?C.hour(0).minute(0):E==="end"?C.hour(23).minute(59):C;return{isQuickInput:c,dateTimeTransform:a,getCurrentDate:v,handleQuickInput:d}},OI=(s=15)=>{const e=K(null);return{disableDateHandle:n=>{const o=ce(ce(n).format(lh));if(e.value){const r=ce(e.value.subtract(s,"day").format(lh)),l=ce(ce(e.value).add(s,"day").format(lh));return!o.isBetween(r,l)}},selectStartDate:n=>{e.value=n}}};ce.extend(Oa);ce.extend(_a);const _I=(s,e,t)=>!0,PI=Ae({components:{Icon:Lt,DateTable:Gy,MonthTable:aI,YearTable:RI,TimePickPanel:hf},directives:{clickoutside:Wr},props:{visible:{type:Boolean,default:!1},parsedValue:{type:[Object,Array]},format:{type:String,default:"DD/MM/YYYY"},type:{type:String,required:!0}},emits:["pick","set-picker-option"],setup(s,e){const t=mt("EP_PICKER_BASE"),{shortcuts:i,disabledDate:n,cellClassName:o,defaultTime:r,defaultValue:l,arrowControl:a,timezone:c}=t.props;c&&ce.tz.setDefault(c);const{dateTimeTransform:d,getCurrentDate:u,handleQuickInput:h,isQuickInput:p}=ky(c,s.format),g=K(d(ce().tz())),f=K("en"),v=K(vs.datePicker),w=K([]),C=K(null),E=K(null),b=K(null),S=K("date"),T=B(()=>cp[g.value.month()+1]),D=B(()=>g.value.year()),_=B(()=>{const q="";if(S.value==="year"){const ve=Math.floor(D.value/10)*10,be=ve<1901?1901:ve;return`${be} - ${be+9}`}return`${D.value} ${q}`}),G=B(()=>["week","month","year","dates"].includes(s.type)?s.type:"day"),k=B(()=>!!i.length);pt(()=>G.value,q=>{if(["month","year"].includes(q)){S.value=q;return}S.value="date"},{immediate:!0});const H=q=>w.value.length>0?_I(q,w.value,s.format||"HH:mm:ss"):!0,W=q=>{const ve=ce(q);return r?ce(r).locale(f.value).year(ve.year()).month(ve.month()).date(ve.date()):oe.value?ve.millisecond(0):ve.startOf("day")},P=(q,...ve)=>{if(!q)e.emit("pick",q,...ve);else if(Array.isArray(q)){const be=q.map(W);e.emit("pick",be,...ve)}else e.emit("pick",W(q),...ve);C.value=null,E.value=null},N=q=>{if(G.value==="day"){const ve=s.parsedValue;let be;ve?be=d(ce(ve).year(q.year()).month(q.month()).date(q.date()).tz()).hour(ve.hour()).minute(ve.minute()).second(ve.second()):be=q,H(be)||(be=w.value[0][0].year(q.year()).month(q.month()).date(q.date())),g.value=be,P(be,oe.value)}else G.value==="week"?P(q.date):G.value==="dates"&&P(q,!0)},F=()=>{g.value=g.value.subtract(1,"month")},x=()=>{g.value=g.value.add(1,"month")},I=()=>{const q=g.value.year()/10*10;S.value==="year"?q>1901&&(g.value=g.value.subtract(10,"year")):q>1901&&(g.value=g.value.subtract(1,"year"))},Y=()=>{S.value==="year"?g.value=g.value.add(10,"year"):g.value=g.value.add(1,"year")},ae=q=>{const ve=typeof q.value=="function"?q.value():q.value;if(ve){P(ce(ve).locale("en"));return}q.onClick&&q.onClick(e)},Te=q=>{g.value=g.value.startOf("month").month(q),G.value==="month"?P(g.value):S.value="date"},Me=q=>{G.value==="year"?(g.value=g.value.startOf("year").year(q),P(g.value)):(g.value=g.value.year(q),S.value="month")},Pe=()=>{S.value="month"},xe=()=>{S.value="year"},oe=B(()=>s.type==="datetime"||s.type==="datetimerange"),ie=B(()=>oe.value||G.value==="dates"),he=()=>{if(G.value==="dates")P(s.parsedValue);else{let q=ce(s.parsedValue);if(!q){const ve=ce(r).locale(f.value),be=re();q=ve.year(be.year()).month(be.month()).date(be.date())}g.value=q,P(q)}},V=(q=!0)=>{const ve=u(),be=ve.toDate();(!q||(!n||!n(be))&&H(be))&&(g.value=ve,P(g.value))},se=B(()=>oy(s.format)),X=B(()=>ny(s.format)),A=B(()=>{if(E.value)return E.value;if(!(!s.parsedValue&&!l))return ce(s.parsedValue||g.value).format(se.value)}),J=B(()=>{if(C.value)return C.value;if(!(!s.parsedValue&&!l))return ce(s.parsedValue||g.value).format(X.value)}),R=K(!1),O=()=>{R.value=!0},L=()=>{R.value=!1},z=(q,ve,be)=>{const Fe=s.parsedValue?ce(s.parsedValue).hour(q.hour()).minute(q.minute()).second(q.second()):q;g.value=Fe,P(g.value,!0),be||(R.value=ve)},Z=q=>{const ve=q.target.value,be=ce(ve,se.value).locale(f.value);be.isValid()&&H(be)&&(g.value=be.year(g.value.year()).month(g.value.month()).date(g.value.date()),E.value=null,R.value=!1,P(g.value,!0))},ne=q=>{const ve=ce(q,X.value).locale(f.value);if(ve.isValid()){if(n&&n(ve.toDate()))return;g.value=ve.hour(g.value.hour()).minute(g.value.minute()).second(g.value.second()),C.value=null,P(g.value,!0)}},ye=q=>ce.isDayjs(q)&&q.isValid()&&(n?!n(q.toDate()):!0),fe=q=>G.value==="dates"?q.map(ve=>ce(ve).format(s.format)):ce(q).format(s.format),ge=q=>{const ve=q.trim();if(p(ve))return h(ve);const be=ce(q,s.format).locale(f.value);return c?be.tz(c,!0):be},re=()=>ce(l).locale(f.value),Oe=()=>V(!1),De=q=>{const{code:ve,keyCode:be}=q,Fe=[kt.up,kt.down,kt.left,kt.right];s.visible&&!R.value&&(Fe.includes(ve)&&(_e(be),q.stopPropagation(),q.preventDefault()),ve===kt.enter&&C.value===null&&E.value===null&&P(g,!1))},_e=q=>{const ve={year:{38:-4,40:4,37:-1,39:1,offset:(Fe,dt)=>Fe.setFullYear(Fe.getFullYear()+dt)},month:{38:-4,40:4,37:-1,39:1,offset:(Fe,dt)=>Fe.setMonth(Fe.getMonth()+dt)},week:{38:-1,40:1,37:-1,39:1,offset:(Fe,dt)=>Fe.setDate(Fe.getDate()+dt*7)},day:{38:-7,40:7,37:-1,39:1,offset:(Fe,dt)=>Fe.setDate(Fe.getDate()+dt)}},be=g.value.toDate();for(;Math.abs(g.value.diff(be,"year",!0))<1;){const Fe=ve[G.value];if(Fe.offset(be,Fe[q]),n&&n(be))continue;const dt=ce(be).locale(f.value);g.value=dt,e.emit("pick",dt,!0);break}};return e.emit("set-picker-option",["isValidValue",ye]),e.emit("set-picker-option",["formatToString",fe]),e.emit("set-picker-option",["parseUserInput",ge]),e.emit("set-picker-option",["handleKeydown",De]),e.emit("set-picker-option",["getCurrentValue",Oe]),pt(()=>s.parsedValue,q=>{if(q){if(G.value==="dates"||Array.isArray(q))return;g.value=d(ce.tz(q))}else g.value=d(re().tz())},{immediate:!0}),{iconColor:v,handleTimePick:z,handleTimePickClose:L,onTimePickerInputFocus:O,timePickerVisible:R,visibleTime:A,visibleDate:J,showTime:oe,changeToNow:V,onConfirm:he,footerVisible:ie,handleYearPick:Me,showMonthPicker:Pe,showYearPicker:xe,handleMonthPick:Te,hasShortcuts:k,shortcuts:i,arrowControl:a,disabledDate:n,cellClassName:o,selectionMode:G,handleShortcutClick:ae,prevYear_:I,nextYear_:Y,prevMonth_:F,nextMonth_:x,innerDate:g,yearLabel:_,currentView:S,month:T,handleDatePick:N,handleVisibleTimeChange:Z,handleVisibleDateChange:ne,timeFormat:se,userInputTime:E,userInputDate:C,year:D,datePannel:b}}});const AI={class:"picker-panel-wrapper"},FI={class:"picker-panel-body"},MI={key:0,class:"picker-panel-body-time"},LI={class:"picker-panel-body-time-editor-wrap"},II=["value"],NI={class:"picker-panel-body-time-editor-wrap"},xI=["value"],GI={class:"arrow-left"},VI={class:"arrow-right"},HI={class:"picker-panel-content"},kI={class:"picker-panel-footer"};function BI(s,e,t,i,n,o){const r=we("time-pick-panel"),l=we("Icon"),a=we("date-table"),c=we("year-table"),d=we("month-table"),u=Ea("clickoutside");return U(),te("div",{ref:"datePannel",class:Re(["picker-panel",[{"has-sidebar":s.$slots.sidebar||s.hasShortcuts,"has-time":s.showTime}]])},[M("div",AI,[it(s.$slots,"sidebar",{class:"picker-panel__sidebar"},void 0,!0),M("div",FI,[s.showTime?(U(),te("div",MI,[M("div",LI,[M("input",{placeholder:"Select date",value:s.visibleDate,autocomplete:"off",readonly:"",onInput:e[0]||(e[0]=h=>s.userInputDate=h.target.value),onChange:e[1]||(e[1]=(...h)=>s.handleVisibleDateChange&&s.handleVisibleDateChange(...h))},null,40,II)]),at((U(),te("div",NI,[M("input",{placeholder:"Select time",autocomplete:"off",value:s.visibleTime,readonly:"",onInput:e[2]||(e[2]=h=>s.userInputTime=h.target.value),onFocus:e[3]||(e[3]=(...h)=>s.onTimePickerInputFocus&&s.onTimePickerInputFocus(...h)),onChange:e[4]||(e[4]=(...h)=>s.handleVisibleTimeChange&&s.handleVisibleTimeChange(...h))},null,40,xI),le(r,{visible:s.timePickerVisible,format:s.timeFormat,"time-arrow-control":s.arrowControl,"parsed-value":s.innerDate,onPick:s.handleTimePick},null,8,["visible","format","time-arrow-control","parsed-value","onPick"])])),[[u,s.handleTimePickClose]])])):Ne("",!0),at(M("div",{class:Re(["picker-panel-header",{"picker-panel-header-bordered":s.currentView==="year"||s.currentView==="month"}])},[M("div",GI,[at(le(l,{class:"prev-year",classes:"icon-double-arrow-left",size:"26",color:s.iconColor,onClick:s.prevYear_},null,8,["color","onClick"]),[[Ot,s.year>1910]]),s.currentView==="date"?at((U(),ot(l,{key:0,class:"prev-month",classes:"icon-single-left",size:"26",color:s.iconColor,onClick:s.prevMonth_},null,8,["color","onClick"])),[[Ot,s.year>1900]]):Ne("",!0)]),M("span",{role:"button",class:"picker-panel-header-label",onClick:e[5]||(e[5]=(...h)=>s.showYearPicker&&s.showYearPicker(...h))},Ve(s.yearLabel),1),at(M("span",{role:"button",class:Re(["picker-panel-header-label",{active:s.currentView==="month"}]),onClick:e[6]||(e[6]=(...h)=>s.showMonthPicker&&s.showMonthPicker(...h))},Ve(s.month),3),[[Ot,s.currentView==="date"]]),M("div",VI,[s.currentView==="date"?(U(),ot(l,{key:0,class:"prev-month",classes:"icon-single-right",size:"26",color:s.iconColor,onClick:s.nextMonth_},null,8,["color","onClick"])):Ne("",!0),le(l,{class:"prev-year",classes:"icon-double-arrow-right",size:"26",color:s.iconColor,onClick:s.nextYear_},null,8,["color","onClick"])])],2),[[Ot,s.currentView!=="time"]]),M("div",HI,[s.currentView==="date"?(U(),ot(a,{key:0,"selection-mode":s.selectionMode,date:s.innerDate,"parsed-value":s.parsedValue,"disabled-date":s.disabledDate,onPick:s.handleDatePick},null,8,["selection-mode","date","parsed-value","disabled-date","onPick"])):Ne("",!0),s.currentView==="year"?(U(),ot(c,{key:1,date:s.innerDate,"disabled-date":s.disabledDate,"parsed-value":s.parsedValue,onPick:s.handleYearPick},null,8,["date","disabled-date","parsed-value","onPick"])):Ne("",!0),s.currentView==="month"?(U(),ot(d,{key:2,date:s.innerDate,"parsed-value":s.parsedValue,"disabled-date":s.disabledDate,onPick:s.handleMonthPick},null,8,["date","parsed-value","disabled-date","onPick"])):Ne("",!0)])])]),at(M("div",kI,[at(M("span",{type:"text",class:"picker-panel-footer-btn now",onClick:e[7]||(e[7]=(...h)=>s.changeToNow&&s.changeToNow(...h))}," Now ",512),[[Ot,s.selectionMode!=="dates"]]),M("span",{plain:"",class:"picker-panel-footer-btn",onClick:e[8]||(e[8]=(...h)=>s.onConfirm&&s.onConfirm(...h))},"OK")],512),[[Ot,s.footerVisible&&s.currentView==="date"]])],2)}const $I=Ge(PI,[["render",BI],["__scopeId","data-v-d82ee895"]]);ce.extend(Oa);ce.extend(_a);const WI=Ae({directives:{clickoutside:Wr},components:{TimePickPanel:hf,DateTable:Gy,Icon:Lt},props:{unlinkPanels:Boolean,parsedValue:{type:Array},type:{type:String,required:!0}},emits:["pick","set-picker-option","calendar-change","start-date-select"],setup(s,e){const t=K("en"),i=mt("EP_PICKER_BASE"),{shortcuts:n,disabledDate:o,cellClassName:r,format:l,defaultTime:a=["00:00:00","23:59:59"],arrowControl:c,clearable:d,timezone:u,setDefault:h,rangeLimit:p}=i.props;u&&ce.tz.setDefault(u);const{dateTimeTransform:g,getCurrentDate:f,isQuickInput:v,handleQuickInput:w}=ky(u,l),{disableDateHandle:C,selectStartDate:E}=OI(p),b=p?o||C:o,S=K(g(ce().tz())),T=K(g(ce().tz().add(1,"month"))),D=K(null),_=K(null),G=K(null),k=K({min:null,max:null}),H=K({min:null,max:null}),W=B(()=>i.props.defaultValue?i.props.defaultValue:[ce().subtract(15,"day").startOf("day").format(l),ce().endOf("day").format(l)]),P=B(()=>`${S.value.year()} 
        ${cp[S.value.month()+1]}`),N=B(()=>`${T.value.year()}  ${cp[T.value.month()+1]}`),F=B(()=>S.value.year()),x=B(()=>S.value.month()),I=B(()=>T.value.year()),Y=B(()=>T.value.month()),ae=B(()=>!!n.length),Te=B(()=>k.value.min!==null?k.value.min:D.value?D.value.format(ie.value):""),Me=B(()=>k.value.max!==null?k.value.max:_.value||D.value?(_.value||D.value).format(ie.value):""),Pe=B(()=>H.value.min!==null?H.value.min:D.value?D.value.format(oe.value):""),xe=B(()=>H.value.max!==null?H.value.max:_.value||D.value?(_.value||D.value).format(oe.value):""),oe=B(()=>oy(l)),ie=B(()=>ny(l)),he=()=>{S.value.year()/10*10>1900&&(S.value=S.value.subtract(1,"year")),s.unlinkPanels||(T.value=S.value.add(1,"month"))},V=()=>{S.value=S.value.subtract(1,"month"),s.unlinkPanels||(T.value=S.value.add(1,"month"))},se=()=>{s.unlinkPanels?T.value=T.value.add(1,"year"):(S.value=S.value.add(1,"year"),T.value=S.value.add(1,"month"))},X=()=>{s.unlinkPanels?T.value=T.value.add(1,"month"):(S.value=S.value.add(1,"month"),T.value=S.value.add(1,"month"))},A=()=>{S.value=S.value.add(1,"year")},J=()=>{S.value=S.value.add(1,"month")},R=()=>{T.value=T.value.subtract(1,"year")},O=()=>{T.value=T.value.subtract(1,"month")},L=B(()=>{const Ce=(x.value+1)%12,ze=x.value+1>=12?1:0;return s.unlinkPanels&&new Date(F.value+ze,Ce)<new Date(I.value,Y.value)}),z=B(()=>s.unlinkPanels&&I.value*12+Y.value-(F.value*12+x.value+1)>=12),Z=Ce=>Array.isArray(Ce)&&Ce[0]&&Ce[1]&&Ce[0].valueOf()<=Ce[1].valueOf(),ne=K({endDate:null,selecting:!1}),ye=B(()=>!(D.value&&_.value&&!ne.value.selecting&&Z([D.value,_.value]))),fe=Ce=>{ne.value=Ce},ge=Ce=>{ne.value.selecting=Ce,Ce||(ne.value.endDate=null)},re=B(()=>s.type==="datetime"||s.type==="datetimerange"),Oe=Ce=>{E(Ce),e.emit("start-date-select",Ce)},De=(Ce=!1)=>{Z([D.value,_.value])&&e.emit("pick",[D.value,_.value],Ce)},_e=(Ce,ze)=>{if(Ce){if(a){const We=g(ce().tz()).locale(t.value),nn=(a[ze]||a).split(":");return g(We.year(Ce.year()).month(Ce.month()).date(Ce.date()).tz()).hour(nn[0]).minute(nn[1]).second(nn[2]??"00")}return Ce}},q=(Ce,ze=!0)=>{const We=Ce.minDate,nn=Ce.maxDate,jo=_e(We,0),$g=_e(nn,1);Oe(jo),!(_.value===$g&&D.value===jo)&&(e.emit("calendar-change",[We.toDate(),nn&&nn.toDate()]),_.value=$g,D.value=jo,!(!ze||re.value)&&De())},ve=Ce=>{const ze=typeof Ce.value=="function"?Ce.value():Ce.value;if(ze){e.emit("pick",[ce(ze[0]).locale(t.value),ce(ze[1]).locale(t.value)]);return}Ce.onClick&&Ce.onClick(e)},be=K(!1),Fe=K(!1),dt=()=>{be.value=!1},Oi=()=>{Fe.value=!1},Rn=(Ce,ze)=>{const We=ce(Ce,ie.value).locale(t.value);if(We.isValid()){if(k.value[ze]=Ce,b&&b(We.toDate()))return;ze==="min"?(S.value=We,D.value=(D.value||S.value).year(We.year()).month(We.month()).date(We.date()),s.unlinkPanels||(T.value=We.add(1,"month"),_.value=D.value.add(1,"month"))):(T.value=We,_.value=(_.value||T.value).year(We.year()).month(We.month()).date(We.date()),s.unlinkPanels||(S.value=We.subtract(1,"month"),D.value=_.value.subtract(1,"month")))}},Cc=(Ce,ze)=>{k.value[ze]=null},ro=(Ce,ze)=>{const We=ce(Ce,oe.value).locale(t.value);We.isValid()&&(H.value[ze]=Ce,ze==="min"?(be.value=!0,D.value=(D.value||S.value).hour(We.hour()).minute(We.minute()).second(We.second()),(!_.value||_.value.isBefore(D.value))&&(_.value=D.value)):(Fe.value=!0,_.value=(_.value||T.value).hour(We.hour()).minute(We.minute()).second(We.second()),T.value=_.value,_.value&&_.value.isBefore(D.value)&&(D.value=_.value)))},yc=(Ce,ze)=>{H.value[ze]=null,ze==="min"?(S.value=D.value,be.value=!1):(T.value=_.value,Fe.value=!1)},oi=(Ce,ze,We)=>{H.value.min||(Ce&&(S.value=Ce,D.value=(D.value||S.value).hour(Ce.hour()).minute(Ce.minute()).second(Ce.second())),We||(be.value=ze),(!_.value||_.value.isBefore(D.value))&&(_.value=D.value,T.value=Ce))},zi=(Ce,ze,We)=>{H.value.max||(Ce&&(T.value=Ce,_.value=(_.value||T.value).hour(Ce.hour()).minute(Ce.minute()).second(Ce.second())),We||(Fe.value=ze),_.value&&_.value.isBefore(D.value)&&(D.value=_.value))},ul=()=>{S.value=g(Bu()[0].tz()),T.value=S.value.add(1,"month"),Oe(null),e.emit("pick",null)},nb=Ce=>Array.isArray(Ce)?Ce.map(ze=>ze?ze.format(l):""):Ce.format(l),ob=(Ce,ze="")=>{if(typeof Ce=="string"){const We=Ce.trim();if(v(We))return w(We,ze)}return u?Array.isArray(Ce)?Ce.map(We=>ce(We,l).locale(t.value).tz(u,!0)):ce(Ce,l).locale(t.value).tz(u,!0):Array.isArray(Ce)?Ce.map(We=>ce(We,l).locale(t.value)):ce(Ce,l).locale(t.value)},Bu=(Ce="")=>{let ze,We;return Array.isArray(Ce)?(ze=ce(Ce[0]),!s.unlinkPanels&&!Ce[1]?We=ze.add(1,"month"):We=ce(Ce[1])):(ze=Ce?ce(Ce):ce(),We=ze.add(1,"month")),ze=g(u?ze.tz(u,!0):ze),We=g(u?We.tz(u,!0):We),[ze,We]},rb=Ce=>f(Ce).format(l);return e.emit("set-picker-option",["isValidValue",Z]),e.emit("set-picker-option",["parseUserInput",ob]),e.emit("set-picker-option",["formatToString",nb]),e.emit("set-picker-option",["handleClear",ul]),e.emit("set-picker-option",["getCurrentValue",rb]),pt(()=>s.parsedValue,Ce=>{if(Ce&&Ce.length===2){if(D.value=Ce[0]||ce().tz(),_.value=Ce[1],S.value=D.value,s.unlinkPanels&&D.value&&_.value){const ze=D.value.year(),We=D.value.month(),nn=_.value.year(),jo=_.value.month();T.value=ze===nn&&We===jo?_.value.add(1,"month"):_.value}else _.value&&S.value&&(T.value=S.value.add(1,"month"),T.value=T.value.hour(_.value.hour()).minute(_.value.minute()).second(_.value.second()));Oe(D.value)}else{const ze=Bu();D.value=null,_.value=null,S.value=ze[0],T.value=ze[1]}},{immediate:!0}),xt(()=>{if(!s.parsedValue&&h){const Ce=Bu(W.value);D.value=Ce[0],_.value=Ce[1],S.value=Ce[0],T.value=Ce[1],e.emit("pick",[D.value,_.value])}}),{shortcuts:n,handleDateRangeLimit:b,cellClassName:r,minTimePickerVisible:be,maxTimePickerVisible:Fe,handleMinTimeClose:dt,handleMaxTimeClose:Oi,handleShortcutClick:ve,rangeState:ne,minDate:D,maxDate:_,handleRangePick:q,onSelect:ge,handleChangeRange:fe,btnDisabled:ye,enableYearArrow:z,enableMonthArrow:L,rightPrevMonth:O,rightPrevYear:R,rightNextMonth:X,rightNextYear:se,leftPrevMonth:V,leftPrevYear:he,leftNextMonth:J,leftNextYear:A,hasShortcuts:ae,leftLabel:P,rightLabel:N,leftDate:S,rightDate:T,showTime:re,minVisibleDate:Te,maxVisibleDate:Me,minVisibleTime:Pe,maxVisibleTime:xe,arrowControl:c,handleDateInput:Rn,handleDateChange:Cc,handleTimeInput:ro,handleTimeChange:yc,handleMinTimePick:oi,handleMaxTimePick:zi,handleClear:ul,handleConfirm:De,timeFormat:oe,clearable:d,leftYear:F,datePannel:G}}});const UI={class:"date-range-picker-wrapper"},jI={key:0,class:"wrapper-sidebar"},zI=["onClick"],KI={class:"body"},YI={key:0,class:"body-header"},qI={class:"body-header-editors-wrap"},QI={class:"time-picker-wrap"},XI=["value"],JI={class:"time-picker-wrap"},ZI=["disabled","value"],eN={class:"body-header-editors-wrap is-right"},tN={class:"time-picker-wrap"},iN=["value"],sN={class:"time-picker-wrap"},nN=["disabled","value"],oN={class:"body-content is-left"},rN={class:"header"},lN={class:"label"},aN={class:"body-content is-right"},cN={class:"header"},dN={class:"label"},uN={key:0,class:"date-range-picker-footer"};function hN(s,e,t,i,n,o){const r=we("time-pick-panel"),l=we("Icon"),a=we("date-table"),c=Ea("clickoutside");return U(),te("div",{ref:"datePannel",class:Re(["date-range-picker",[{"has-sidebar":s.$slots.sidebar||s.hasShortcuts,"has-time":s.showTime}]])},[M("div",UI,[it(s.$slots,"sidebar",{class:"wrapper-sidebar"},void 0,!0),s.hasShortcuts?(U(),te("div",jI,[(U(!0),te(Ue,null,vi(s.shortcuts,(d,u)=>(U(),te("button",{key:u,type:"button",class:"date-range-picker__shortcut",onClick:h=>s.handleShortcutClick(d)},Ve(d.text),9,zI))),128))])):Ne("",!0),M("div",KI,[s.showTime?(U(),te("div",YI,[M("div",qI,[M("div",QI,[M("input",{placeholder:"StartDate",class:"time-picker-wrap-editor",value:s.minVisibleDate,autocomplete:"off",readonly:"",onInput:e[0]||(e[0]=d=>s.handleDateInput(d,"min")),onChange:e[1]||(e[1]=d=>s.handleDateChange(d,"min"))},null,40,XI)]),at((U(),te("div",JI,[M("input",{class:"time-picker-wrap-editor",disabled:s.rangeState.selecting,placeholder:"Start Time",value:s.minVisibleTime,autocomplete:"off",readonly:"",onFocus:e[2]||(e[2]=d=>s.minTimePickerVisible=!0),onInput:e[3]||(e[3]=d=>s.handleTimeInput(d,"min")),onChange:e[4]||(e[4]=d=>s.handleTimeChange(d,"min"))},null,40,ZI),le(r,{visible:s.minTimePickerVisible,format:s.timeFormat,"datetime-role":"start","time-arrow-control":s.arrowControl,"parsed-value":s.leftDate,onPick:s.handleMinTimePick},null,8,["visible","format","time-arrow-control","parsed-value","onPick"])])),[[c,s.handleMinTimeClose]])]),le(l,{classes:"icon-single-right",size:"26"}),M("div",eN,[M("div",tN,[M("input",{class:"time-picker-wrap-editor",placeholder:"End Date",value:s.maxVisibleDate,readonly:"",autocomplete:"off",onInput:e[5]||(e[5]=d=>s.handleDateInput(d,"max")),onChange:e[6]||(e[6]=d=>s.handleDateChange(d,"max"))},null,40,iN)]),at((U(),te("div",sN,[M("input",{class:"time-picker-wrap-editor",disabled:s.rangeState.selecting,autocomplete:"off",placeholder:"End Time",value:s.maxVisibleTime,readonly:"",onFocus:e[7]||(e[7]=d=>s.minDate&&(s.maxTimePickerVisible=!0)),onInput:e[8]||(e[8]=d=>s.handleTimeInput(d,"max")),onChange:e[9]||(e[9]=d=>s.handleTimeChange(d,"max"))},null,40,nN),le(r,{"datetime-role":"end",visible:s.maxTimePickerVisible,format:s.timeFormat,"time-arrow-control":s.arrowControl,"parsed-value":s.rightDate,onPick:s.handleMaxTimePick},null,8,["visible","format","time-arrow-control","parsed-value","onPick"])])),[[c,s.handleMaxTimeClose]])])])):Ne("",!0),M("div",oN,[M("div",rN,[at(le(l,{class:"icon-left",classes:"icon-double-arrow-left",size:"26",onClick:s.leftPrevYear},null,8,["onClick"]),[[Ot,s.leftYear>1901]]),le(l,{class:"icon-left",classes:"icon-single-left",size:"26",onClick:s.leftPrevMonth},null,8,["onClick"]),s.unlinkPanels?(U(),ot(l,{key:0,class:"icon-right",classes:"icon-double-arrow-right",size:"26",onClick:s.leftNextYear},null,8,["onClick"])):Ne("",!0),s.unlinkPanels?(U(),ot(l,{key:1,class:"icon-right",classes:"icon-single-right",size:"26",onClick:s.leftNextMonth},null,8,["onClick"])):Ne("",!0),M("div",lN,Ve(s.leftLabel),1)]),le(a,{"selection-mode":"range",date:s.leftDate,"min-date":s.minDate,"max-date":s.maxDate,"range-state":s.rangeState,"disabled-date":s.handleDateRangeLimit,"cell-class-name":s.cellClassName,onChangerange:s.handleChangeRange,onPick:s.handleRangePick,onSelect:s.onSelect},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onPick","onSelect"])]),M("div",aN,[M("div",cN,[s.unlinkPanels?(U(),ot(l,{key:0,class:"icon-left",classes:"icon-double-arrow-left",size:"26",onClick:s.rightPrevYear},null,8,["onClick"])):Ne("",!0),s.unlinkPanels?(U(),ot(l,{key:1,class:"icon-left",classes:"icon-single-left",size:"26",onClick:s.rightPrevMonth},null,8,["onClick"])):Ne("",!0),le(l,{class:"icon-right",classes:"icon-double-arrow-right",size:"26",onClick:s.rightNextYear},null,8,["onClick"]),le(l,{class:"icon-right",classes:"icon-single-right",size:"26",onClick:s.rightNextMonth},null,8,["onClick"]),M("div",dN,Ve(s.rightLabel),1)]),le(a,{"selection-mode":"range",date:s.rightDate,"min-date":s.minDate,"max-date":s.maxDate,"range-state":s.rangeState,"disabled-date":s.handleDateRangeLimit,"cell-class-name":s.cellClassName,onChangerange:s.handleChangeRange,onPick:s.handleRangePick,onSelect:s.onSelect},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onPick","onSelect"])])])]),s.showTime?(U(),te("div",uN,[s.clearable?(U(),te("span",{key:0,type:"text",class:"footer-btn",onClick:e[10]||(e[10]=(...d)=>s.handleClear&&s.handleClear(...d))}," Clear ")):Ne("",!0),M("span",{plain:"",class:"footer-btn active",onClick:e[11]||(e[11]=d=>s.handleConfirm(!1))}," OK ")])):Ne("",!0)],2)}const pN=Ge(WI,[["render",hN],["__scopeId","data-v-ad55ffa1"]]);ce.extend(lP);ce.extend(oP);ce.extend(vy);ce.extend(cP);ce.extend(uP);ce.extend(pP);ce.extend(vP);ce.extend(yP);ce.extend(Oa);ce.extend(_a);const vv=function(s,e,t="en"){return e?ce(s).locale(t).format(e):ce(s).format()},fN=Ae({name:"DatePicker",directives:{clickoutside:Wr},components:{Input:ms,DatePickPanel:$I,DateRangePickPanel:pN,Icon:Lt},props:wP,emits:["update:modelValue","blur","start-date-select"],setup(s,e){const t=K(null),i=K(null),n=K(null),o=K(null),r=K(!1),l=K(vs.datePicker),a=mt(Ta,{});ti("EP_PICKER_BASE",{props:s}),s.timezone&&ce.tz.setDefault(s.timezone);const c=K({}),d=A=>{c.value[A[0]]=A[1],c.value.panelReady=!0},u=B(()=>s.type.includes("range")),h=B(()=>{if(n.value){const A=u.value?n.value:n.value.$el;return Array.from(A.querySelectorAll("input"))}return[]}),p=B(()=>{let A;if(s.modelValue?Array.isArray(s.modelValue)?A=s.modelValue.map(J=>J===ln?"":b(J,s.valueFormat??"","en")):s.modelValue===ln?A="":A=b(s.modelValue,s.valueFormat??"","en"):c.value.getDefaultValue&&(A=C(c.value.getDefaultValue().tz())),c.value.getRangeAvailableTime){const J=c.value.getRangeAvailableTime(A);J!==A&&(A=J,D(A))}return A}),g=B({get:()=>{if(!c.value.panelReady)return;const A=E(p.value);if(Array.isArray(t.value))return[t.value[0]??(A&&A[0])??"",t.value[1]??(A&&A[1])??""];if(t.value!==null)return t.value;if(A){let J=A;return Array.isArray(A)&&(J=A.map((R,O)=>R||s.modelValue[O])),f.value?J.join(", "):J}return s.modelValue},set:A=>A}),f=B(()=>s.type==="dates"),v=K(!1);pt(v,A=>{var J;A||(t.value=null,(J=a.validate)==null||J.call(a,"change"),e.emit("blur"))});const w=A=>c.value.isValidValue&&c.value.isValidValue(A),C=A=>A.isUTC()?A.utc():A,E=A=>A?c.value.formatToString&&c.value.formatToString(A):null,b=function(A,J,R){const O=J?ce(ce(A).locale(R).format(J)):ce(A).locale(R);return C(O.tz())},S=(A,J="")=>{var R,O;return A?(O=(R=c.value).parseUserInput)==null?void 0:O.call(R,A,J):null},T=()=>{const A=Array.isArray(g.value)?g.value.join(""):g.value;if(A){const J=S(g.value);D(J),J&&(t.value=null)}A===""&&(_(null),t.value=null)},D=A=>{A&&_(Array.isArray(A)?A.map(J=>J.toDate()):A.toDate())},_=A=>{if(!k(s.modelValue,A)){let J;Array.isArray(A)?J=A.map(R=>vv(R,s.valueFormat??"")):A?J=vv(A,s.valueFormat??""):J="",e.emit("update:modelValue",J)}},G=function(A,J){const R=A instanceof Date,O=J instanceof Date;return R&&O?A.getTime()===J.getTime():!R&&!O?A===J:!1},k=function(A,J){const R=Array.isArray(A),O=Array.isArray(J);return R&&O?A.length!==J.length?!1:A.every((L,z)=>G(L,J[z])):!R&&!O?G(A,J):!1},H=A=>{e.emit("start-date-select",A)},W=()=>{v.value&&(v.value=!1,r.value=!1)},P=(A="",J=!1)=>{setTimeout(()=>{v.value=J},10),A?D(A):_(null),t.value=null},N=()=>{},F=()=>{T()},x=()=>{s.readonly||(v.value=!0,r.value=!0,Si(()=>{const A=u.value?n.value:n.value.inputRef;hy(A,o.value.datePannel)}))},I=()=>{s.readonly||c.value.getCurrentValue&&c.value.getCurrentValue()},Y=()=>{if(s.readonly||!c.value.getCurrentValue)return;const A=c.value.getCurrentValue("start"),J=t.value?t.value[1]:null;t.value=[A,J]},ae=()=>{if(s.readonly||!c.value.getCurrentValue)return;const A=c.value.getCurrentValue("end"),J=t.value?t.value[0]:null;t.value=[J,A]},Te=()=>{const A=S(t.value&&t.value[0],"start");if(A){t.value=[E(A),g.value[1]];const J=[A,p.value&&p.value[1]];w(J)&&(D(J),t.value=null)}},Me=()=>{const A=S(t.value&&t.value[1],"end");if(A){t.value=[g.value[0],E(A)];const J=[p.value&&p.value[0],A];w(J)&&(D(J),t.value=null)}};let Pe,xe=!1;const oe=A=>{const J=async()=>{setTimeout(()=>{Pe===J&&(!xe&&h.value.filter(R=>R.contains(document.activeElement)).length===0&&T(),xe=!1)},0)};Pe=J,J()},ie=(A="")=>A.replace(/[^\d\s\+\-\/\.\:]/g,"").trim();return{iconColor:l,userInput:t,isFocus:r,isVisible:v,isRangeInput:u,parsedValue:p,displayValue:g,refPopper:i,inputRef:n,selectStartDate:H,handleStartInput:A=>{const J=ie(A.target.value);t.value?t.value=[J,t.value[1]]:t.value=[J,null]},handleEndInput:A=>{const J=ie(A.target.value);t.value?t.value=[t.value[0],J]:t.value=[null,J]},handleFocus:N,handleBlur:F,handleChange:T,handleDblClick:I,handleStartDblClick:Y,handleEndDblClick:ae,handleStartChange:Te,handleEndChange:Me,handleBlurInput:oe,handleKeyUp:A=>{A.target.value=ie(A.target.value),t.value=A.target.value},showHandel:x,onPick:P,onUserInput:A=>{t.value=ie(A)},onClickOutside:W,onSetPickerOption:d,panelRef:o}}});const gN={ref:"refPopper",class:"date-wrap"},mN={ref:"inputRef",class:"date-wrap-date-range"},vN={key:0,class:"date-wrap-date-range-label"},CN=["value","autofocus","label","readonly","maxlength"],yN={class:"separator"},wN=["value","label","readonly","maxlength"];function SN(s,e,t,i,n,o){const r=we("Icon"),l=we("DateRangePickPanel"),a=we("Input"),c=we("DatePickPanel"),d=Ea("clickoutside");return at((U(),te("div",gN,[s.isRangeInput?(U(),te(Ue,{key:0},[M("div",mN,[s.label?(U(),te("label",vN,Ve(s.label),1)):Ne("",!0),M("input",{value:s.displayValue&&s.displayValue[0],autofocus:s.isFocus,label:s.label,readonly:s.readonly,maxlength:s.inputMaxLength,placeholder:"Start Date",autocomplete:"off",onBlur:e[0]||(e[0]=(...u)=>s.handleBlurInput&&s.handleBlurInput(...u)),onInput:e[1]||(e[1]=(...u)=>s.handleStartInput&&s.handleStartInput(...u)),onChange:e[2]||(e[2]=(...u)=>s.handleStartChange&&s.handleStartChange(...u)),onFocus:e[3]||(e[3]=(...u)=>s.handleFocus&&s.handleFocus(...u)),onDblclick:e[4]||(e[4]=Tt((...u)=>s.handleStartDblClick&&s.handleStartDblClick(...u),["stop","prevent"]))},null,40,CN),M("span",yN,Ve(s.rangeSeparator),1),M("input",{placeholder:"End Date",autocomplete:"off",value:s.displayValue&&s.displayValue[1],label:s.label,readonly:s.readonly,maxlength:s.inputMaxLength,onBlur:e[5]||(e[5]=(...u)=>s.handleBlurInput&&s.handleBlurInput(...u)),onInput:e[6]||(e[6]=(...u)=>s.handleEndInput&&s.handleEndInput(...u)),onChange:e[7]||(e[7]=(...u)=>s.handleEndChange&&s.handleEndChange(...u)),onFocus:e[8]||(e[8]=(...u)=>s.handleFocus&&s.handleFocus(...u)),onDblclick:e[9]||(e[9]=Tt((...u)=>s.handleEndDblClick&&s.handleEndDblClick(...u),["stop","prevent"]))},null,40,wN),le(r,{classes:"icon-date",onClick:Tt(s.showHandel,["stop"])},null,8,["onClick"])],512),at(le(l,{ref:"panelRef","parsed-value":s.parsedValue,format:s.format,"unlink-panels":s.unlinkPanels,type:s.type,"default-value":s.defaultValue,onPick:s.onPick,onSetPickerOption:s.onSetPickerOption,onStartDateSelect:s.selectStartDate},null,8,["parsed-value","format","unlink-panels","type","default-value","onPick","onSetPickerOption","onStartDateSelect"]),[[Ot,s.isVisible]])],64)):(U(),te(Ue,{key:1},[le(a,{ref:"inputRef",modelValue:s.displayValue,"onUpdate:modelValue":e[10]||(e[10]=u=>s.displayValue=u),"suffix-icon":"icon-date","icon-color":s.iconColor,autofocus:s.isFocus,label:s.label,readonly:s.readonly,maxlength:s.inputMaxLength,onSuffixHandle:s.showHandel,onPrefixIcon:s.prefixIcon,onBlur:s.handleBlur,onInput:s.onUserInput,onKeyup:s.handleKeyUp,onDblclick:Tt(s.handleDblClick,["stop","prevent"])},null,8,["modelValue","icon-color","autofocus","label","readonly","maxlength","onSuffixHandle","onPrefixIcon","onBlur","onInput","onKeyup","onDblclick"]),at(le(c,{ref:"panelRef","parsed-value":s.parsedValue,format:s.format,"unlink-panels":s.unlinkPanels,type:s.type,"default-value":s.defaultValue,onPick:s.onPick,onSetPickerOption:s.onSetPickerOption},null,8,["parsed-value","format","unlink-panels","type","default-value","onPick","onSetPickerOption"]),[[Ot,s.isVisible]])],64))])),[[d,s.onClickOutside]])}const bN=Ge(fN,[["render",SN],["__scopeId","data-v-39edc550"]]),Vn=bN;Vn.install=s=>{s.component(Vn.name,Vn)};const dp={success:"icon-success",warning:"icon-warn",error:"icon-error",info:"icon-info"},EN=s=>Object.keys(s),Cv={success:"#167D86",error:"#fa5151",info:"#8a8a8a",warning:"#FFF4D8"},RN={bottom:{type:[String,Number]},title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:EN(dp),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean},TN={close:s=>s instanceof MouseEvent},DN=Ae({name:"Alert",components:{Icon:Lt},props:RN,emits:TN,setup(s,{emit:e,slots:t}){const i=K(!0),n=B(()=>`alert-${s.type}`),o=B(()=>dp[s.type]||dp.info),r=B(()=>Cv[s.type]||Cv.info),l=B(()=>s.description||t.default?"is-big":""),a=B(()=>s.description||t.default?"is-bold":"");return{visible:i,typeClass:n,iconClass:o,iconColor:r,isBigIcon:l,isBoldTitle:a,close:d=>{i.value=!1,e("close",d)}}}});const ON={key:0},_N={class:"alert-content"},PN={key:1,class:"alert-content-description"};function AN(s,e,t,i,n,o){const r=we("Icon");return U(),ot($s,{name:"alert-fade"},{default:qe(()=>[at(M("div",{class:Re(["alert",[s.typeClass,s.center?"is-center":""]]),role:"alert",style:ii({bottom:`${s.bottom/19.2}rem`})},[s.$slots.append?(U(),te("div",ON,[it(s.$slots,"append",{},void 0,!0)])):Ne("",!0),s.showIcon&&!s.$slots.append?(U(),ot(r,{key:1,classes:s.iconClass,class:Re([s.isBigIcon]),color:s.iconColor,size:"36"},null,8,["classes","class","color"])):Ne("",!0),M("div",_N,[s.title||s.$slots.title?(U(),te("span",{key:0,class:Re(["alert-content-title",[s.isBoldTitle]])},[it(s.$slots,"title",{},()=>[ct(Ve(s.title),1)],!0)],2)):Ne("",!0),s.$slots.default||s.description?(U(),te("p",PN,[it(s.$slots,"default",{},()=>[ct(Ve(s.description),1)],!0)])):Ne("",!0)]),s.closable?(U(),te("div",{key:2,class:"alert-close",onClick:e[0]||(e[0]=(...l)=>s.close&&s.close(...l))},[s.closeText===""?(U(),ot(r,{key:0,classes:"icon-close",size:"36"})):Ne("",!0),ct(" "+Ve(s.closeText),1)])):Ne("",!0)],6),[[Ot,s.visible]])]),_:3})}const FN=Ge(DN,[["render",AN],["__scopeId","data-v-3c524e66"]]),gh=FN;gh.install=s=>{s.component(gh.name,gh)};const MN=s=>typeof s=="boolean",LN=Ae({name:"Switch",props:{modelValue:{type:[Boolean],default:!1},width:{type:Number,default:40},disabled:{type:Boolean,default:!1},beforeChange:Function},emits:["update:modelValue","change"],setup(s,{emit:e}){const t=()=>{if(s.disabled)return;const{beforeChange:n}=s;if(!n){i();return}const o=n();if(![Yc(o),MN(o)].some(l=>l))throw new Error("beforeChange must return type `Promise<boolean>` or `boolean`");Yc(o)?o.then(l=>{l&&i()}):o&&i()},i=()=>{const n=!s.modelValue;e("update:modelValue",n),e("change",n)};return{switchValue:t}}});const IN=s=>(Ds("data-v-e33f4734"),s=s(),Os(),s),NN=["aria-checked","aria-disabled"],xN=IN(()=>M("div",{class:"switch-action"},null,-1)),GN=[xN];function VN(s,e,t,i,n,o){return U(),te("div",{class:Re(["switch",{"is-checked":s.modelValue,"is-disabled":s.disabled}]),role:"switch","aria-checked":s.modelValue,"aria-disabled":s.disabled,onClick:e[0]||(e[0]=Tt((...r)=>s.switchValue&&s.switchValue(...r),["prevent"]))},[M("span",{ref:"core",class:"switch-core",style:ii({width:(s.width||40)/19.2+"rem"})},GN,4)],10,NN)}const HN=Ge(LN,[["render",VN],["__scopeId","data-v-e33f4734"]]),mh=HN;mh.install=s=>s.component(mh.name,mh);const yv="checked-change",kN=()=>({tscTransfer:mt("tscTransfer",{})}),BN=(s,e,t)=>{const{tscTransfer:i}=kN(),n=B(()=>{var p;return((p=i.itemAlias)==null?void 0:p.label)||"label"}),o=B(()=>{var p;return((p=i.itemAlias)==null?void 0:p.value)||"value"}),r=B(()=>{var p;return((p=i.itemAlias)==null?void 0:p.disabled)||"disabled"}),l=B(()=>s.data.filter(p=>typeof s.filterMethod=="function"?s.filterMethod(e.query,p):(p[n.value]||p[o.value]).toString().toLowerCase().includes(e.query.toLowerCase()))),a=B(()=>l.value.filter(p=>!p[r.value])),c=B(()=>{const p=e.checked.length,g=s.data.length;return`${p}/${g}`}),d=B(()=>{const p=e.checked.length;return p>0&&p<a.value.length}),u=()=>{const p=a.value.map(g=>g[o.value]);e.allChecked=p.length>0&&p.every(g=>e.checked.includes(g))},h=p=>{e.checked=p?a.value.map(g=>g[o.value]):[]};return pt(()=>e.checked,(p,g)=>{if(u(),e.checkChangeByUser){const f=p.concat(g).filter(v=>!p.includes(v)||!g.includes(v));t(yv,p,f)}else t(yv,p),e.checkChangeByUser=!0}),pt(a,()=>{u()}),pt(()=>s.data,()=>{const p=[],g=l.value.map(f=>f[o.value]);e.checked.forEach(f=>{g.includes(f)&&p.push(f)}),e.checkChangeByUser=!1,e.checked=p}),pt(()=>s.defaultChecked,(p,g)=>{if(g&&p.length===g.length&&p.every(v=>g.includes(v)))return;const f=a.value.map(v=>v[o.value]);p.forEach(v=>{f.includes(v)}),e.checkChangeByUser=!1},{immediate:!0}),{labelProp:n,valueProp:o,disabledProp:r,filteredData:l,checkableData:a,countSummary:c,isIndeterminate:d,updateAllChecked:u,handleAllCheckedChange:h}};function $N(s,e,t){const o=K(),r=K(),l=K(),a=B(()=>s.sortable&&!e.query);let c=null,d=!1,u=null,h=0,p=0,g=0,f=-1;const v=(F,x)=>{a.value&&(b=!0,d=!0,f=F,c=l.value.$el.children[F],g=c.offsetHeight+H(window.getComputedStyle(c,null).getPropertyValue("margin-top")),u=document.createElement("div"),u.innerHTML=c.innerHTML,w(u,c),h=x.clientY,document.addEventListener("mousemove",S),document.addEventListener("mouseup",W))},w=(F,x)=>{F.style.display="flex",F.style["align-items"]="center",F.style["justify-content"]=window.getComputedStyle(x,null).getPropertyValue("justify-content"),F.style["padding-left"]=window.getComputedStyle(x,null).getPropertyValue("padding-left"),F.style["padding-right"]=window.getComputedStyle(x,null).getPropertyValue("padding-right"),F.style.background="#f0f3f5",F.style.opacity="1",F.style["z-index"]="1",F.style.position="absolute",F.style.height=x.clientHeight+"px",F.style.width=r.value.clientWidth+"px",p=N(x,"transfer-pannel-wrap"),F.style.top=p+"px";const I=F.querySelector("svg");I.style.display="block",I.style["flex-shrink"]="0";const Y=F.querySelector(".checkbox");Y.style.width=window.getComputedStyle(x.querySelector(".checkbox"),null).getPropertyValue("width"),Y.style["margin-right"]="0px",Y.children[0].style["flex-shrink"]="0",Y.children[1].style["text-align"]="left",Y.children[1].style.width=window.getComputedStyle(x.querySelector(".transfer-checkbox-label"),null).getPropertyValue("width"),Y.querySelector(".label").style.overflow="hidden",Y.querySelector(".label").style["text-overflow"]="ellipsis"};let C=null,E=null,b=!1;const S=F=>{if(!d)return;const x=F.clientY-h;if(Math.abs(x)<=3)return;b&&(b=!1,o.value.appendChild(u),c.style.opacity="0");const I=p+x,Y=o.value.clientHeight;let ae=I<0?0:I;ae=ae+u.clientHeight>Y?Y-u.clientHeight:ae,u.style.top=ae+"px",ae<1?(k(),C||(C=setInterval(()=>{if(r.value.scrollTop>0){let Te=r.value.scrollTop-5;Te=Te>=0?Te:0,r.value.scrollTop=Te,D(Te)}},50))):Y-(ae+u.clientHeight)<1?(G(),E||(E=setInterval(()=>{const Te=r.value.clientHeight,Me=r.value.scrollTop,Pe=r.value.scrollHeight;if(Me+Te<Pe){let xe=Me+5;xe=xe+Te<=Pe?xe:Pe-Te,r.value.scrollTop=xe,D(xe)}},50))):(G(),k(),D(r.value.scrollTop))};let T=-1;const D=F=>{const x=_(F);if(T!==x){const I=l.value.$el;x<T?(I.insertBefore(c,I.children[x]),r.value.scrollTop=F):(I.insertBefore(c,I.children[x].nextSibling),r.value.scrollTop=F),T=x}},_=F=>{const x=N(u,"transfer-pannel-wrap")+F;let I=Math.round(x/g);return I>l.value.$el.children.length-1&&(I=l.value.$el.children.length-1),I},G=()=>{C&&clearInterval(C),C=null},k=()=>{E&&clearInterval(E),E=null},H=F=>parseInt(F.replace("px","")),W=()=>{G(),k(),d&&(document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",W),c&&(c.style.opacity=""),b||o.value.removeChild(u),P(),c=null,f=-1,d=!1,b=!1)},P=()=>{let F=-1;const x=l.value.$el.children;for(let I=0;I<x.length;I++)if(x[I]===c){F=I;break}if(F!==f){const I=s.data.concat(),Y=I.splice(f,1)[0];I.splice(F,0,Y),t($n,I)}},N=(F,x)=>{let I=F.offsetParent;for(;I&&!I.classList.contains(x);)I=I.offsetParent;return F.getBoundingClientRect().top-I.getBoundingClientRect().top};return{wrapRef:o,containerRef:r,listRef:l,isSortable:a,handleMousedown:v}}const WN=Ae({components:{Checkbox:Ml,CheckboxGroup:Hc,Input:ms,Icon:Lt},props:{data:{type:Array,default(){return[]}},title:{type:String,default:""},filterable:{type:Boolean,default:!0},placeholder:{type:String,default:""},defaultChecked:{type:Array,default:()=>[]},sortable:{type:Boolean,default:!1}},emit:[pn,$n],setup(s,{emit:e}){const t=K(vs.transferPanel),i=yt({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),{labelProp:n,valueProp:o,disabledProp:r,filteredData:l,countSummary:a,handleAllCheckedChange:c}=BN(s,i,e),d=B(()=>i.query.length>0&&l.value.length===0),u=$N(s,i,e);return{...jt(i),iconColor:t,countSummary:a,labelProp:n,valueProp:o,disabledProp:r,filteredData:l,handleAllCheckedChange:c,hasNoMatch:d,...u}}});const UN={class:"transfer-pannel"},jN={class:"transfer-pannel-title"},zN={key:0,class:"transfer-pannel-search"},KN={ref:"wrapRef",class:"transfer-pannel-wrap"},YN={ref:"containerRef",class:"transfer-pannel-list"},qN=["onMousedown"],QN=["title"],XN={class:"transfer-pannel-warn"};function JN(s,e,t,i,n,o){const r=we("checkbox"),l=we("Input"),a=we("icon"),c=we("checkbox-group");return U(),te("div",UN,[M("div",jN,[le(r,{modelValue:s.allChecked,"onUpdate:modelValue":e[0]||(e[0]=d=>s.allChecked=d),label:s.title,class:"checkbox-label",onChange:s.handleAllCheckedChange},null,8,["modelValue","label","onChange"]),M("span",null,Ve(s.countSummary),1)]),s.filterable?(U(),te("div",zN,[le(l,{modelValue:s.query,"onUpdate:modelValue":e[1]||(e[1]=d=>s.query=d),class:"self-input","prefix-icon":"icon-magnifying","icon-color":s.iconColor,label:s.title},null,8,["modelValue","icon-color","label"])])):Ne("",!0),M("div",KN,[M("div",YN,[le(c,{ref:"listRef",modelValue:s.checked,"onUpdate:modelValue":e[2]||(e[2]=d=>s.checked=d),class:"transfer-pannel-group"},{default:qe(()=>[(U(!0),te(Ue,null,vi(s.filteredData,(d,u)=>(U(),te("div",{key:d[s.valueProp]+u,class:"transfer-pannel-list-item",onMousedown:Tt(h=>s.handleMousedown(u,h),["stop"])},[le(r,{label:d[s.valueProp],disabled:d[s.disabledProp]},{default:qe(()=>[M("div",{class:"label transfer-checkbox-label",title:d[s.labelProp]},Ve(d[s.labelProp]),9,QN)]),_:2},1032,["label","disabled"]),s.isSortable?(U(),ot(a,{key:0,classes:"icon-sortable",class:"transfer-pannel-list-sort-icon",size:"24"})):Ne("",!0)],40,qN))),128))]),_:1},8,["modelValue"]),at(M("p",XN," No data ",512),[[Ot,s.hasNoMatch||!s.filteredData.length]])],512)],512)])}const ZN=Ge(WN,[["render",JN],["__scopeId","data-v-044c8967"]]),ex=(s,e,t,i)=>{const n=(l,a,c)=>{i(pn,l),i($n,l,a,c)};return{addToLeft:()=>{const l=s.modelValue.slice();e.rightChecked.forEach(a=>{const c=l.indexOf(a);c>-1&&l.splice(c,1)}),n(l,"left",e.rightChecked)},addToRight:()=>{let l=s.modelValue.slice();const a=s.data.filter(c=>{const d=c[t];return e.leftChecked.includes(d)&&!s.modelValue.includes(d)}).map(c=>c[t]);l=s.targetOrder==="unshift"?a.concat(l):l.concat(a),n(l,"right",e.leftChecked)}}},tx=s=>{const e=B(()=>s.itemAlias.value),t=B(()=>s.data.reduce((o,r)=>(o[r[e.value]]=r)&&o,{})),i=B(()=>s.data.filter(o=>!s.modelValue.includes(o[e.value]))),n=B(()=>s.targetOrder==="original"?s.data.filter(o=>s.modelValue.includes(o[e.value])):s.modelValue.reduce((o,r)=>{const l=t.value[r];return l&&o.push(l),o},[]));return{sourceData:i,targetData:n}},ix="left-check-change",sx="right-check-change",nx=(s,e)=>({onSourceCheckedChange:(n,o)=>{s.leftChecked=n,o!==void 0&&e(ix,n,o)},onTargetCheckedChange:(n,o)=>{s.rightChecked=n,o!==void 0&&e(sx,n,o)}}),ox=Ae({name:"Transfer",components:{TransferPannel:ZN,Icon:Lt},props:{modelValue:{type:Array,default:()=>[]},leftDefaultChecked:{type:Array,default:()=>[]},rightDefaultChecked:{type:Array,default:()=>[]},titles:{type:Array,default:()=>[]},filterable:{type:Boolean,default:!0},data:{type:Array,default:()=>[1]},targetOrder:{type:String,default:"original",validator:s=>["original","push","unshift"].includes(s)},itemAlias:{type:Object,default:()=>({label:"label",value:"value",disabled:"disabled"})},sortable:{type:Boolean,default:!1}},emit:[pn,$n],setup(s,{emit:e}){ti("tscTransfer",{name:"tscTransfer",itemAlias:s.itemAlias,filterable:s.filterable});const t=K(vs.transfer),i=yt({leftChecked:[],rightChecked:[]}),n=B(()=>s.titles[0]||"Unassigned"),o=B(()=>s.titles[1]||"Assigned"),{sourceData:r,targetData:l}=tx(s),{onSourceCheckedChange:a,onTargetCheckedChange:c}=nx(i,e),{addToLeft:d,addToRight:u}=ex(s,i,s.itemAlias.value,e),h=p=>{p instanceof Array&&e(pn,p.map(g=>g[s.itemAlias.value]))};return{iconColor:t,addToLeft:d,addToRight:u,leftPanelTitle:n,rightPanelTitle:o,targetData:l,sourceData:r,onSourceCheckedChange:a,onTargetCheckedChange:c,...jt(i),handleTargetChange:h}}});const rx={class:"transfer"},lx={class:"transfer-tool"},ax=["disabled"],cx=["disabled"];function dx(s,e,t,i,n,o){const r=we("transfer-pannel"),l=we("Icon");return U(),te("div",rx,[le(r,{title:s.leftPanelTitle,filterable:s.filterable,data:s.sourceData,"default-checked":s.leftDefaultChecked,onCheckedChange:s.onSourceCheckedChange},null,8,["title","filterable","data","default-checked","onCheckedChange"]),M("div",lx,[M("button",{class:Re(["btn",s.leftChecked.length?"active":""]),disabled:s.leftChecked.length===0,onClick:e[0]||(e[0]=(...a)=>s.addToRight&&s.addToRight(...a))},[le(l,{classes:"icon-double-arrow-right",size:"36",color:s.iconColor},null,8,["color"])],10,ax),M("button",{class:Re(["btn",s.rightChecked.length?"active":""]),disabled:s.rightChecked.length==0,onClick:e[1]||(e[1]=(...a)=>s.addToLeft&&s.addToLeft(...a))},[le(l,{classes:"icon-double-arrow-left",size:"36",color:s.iconColor},null,8,["color"])],10,cx)]),le(r,{title:s.rightPanelTitle,filterable:s.filterable,data:s.targetData,"default-checked":s.rightDefaultChecked,sortable:s.sortable,onCheckedChange:s.onTargetCheckedChange,onChange:s.handleTargetChange},null,8,["title","filterable","data","default-checked","sortable","onCheckedChange","onChange"])])}const vh=Ge(ox,[["render",dx],["__scopeId","data-v-48f3b8e6"]]);vh.install=s=>s.component(vh.name,vh);var Ci="top",is="bottom",ss="right",yi="left",pf="auto",Aa=[Ci,is,ss,yi],Cr="start",Ql="end",ux="clippingParents",By="viewport",vl="popper",hx="reference",wv=Aa.reduce(function(s,e){return s.concat([e+"-"+Cr,e+"-"+Ql])},[]),$y=[].concat(Aa,[pf]).reduce(function(s,e){return s.concat([e,e+"-"+Cr,e+"-"+Ql])},[]),px="beforeRead",fx="read",gx="afterRead",mx="beforeMain",vx="main",Cx="afterMain",yx="beforeWrite",wx="write",Sx="afterWrite",bx=[px,fx,gx,mx,vx,Cx,yx,wx,Sx];function Ws(s){return s?(s.nodeName||"").toLowerCase():null}function Gi(s){if(s==null)return window;if(s.toString()!=="[object Window]"){var e=s.ownerDocument;return e&&e.defaultView||window}return s}function Do(s){var e=Gi(s).Element;return s instanceof e||s instanceof Element}function Ji(s){var e=Gi(s).HTMLElement;return s instanceof e||s instanceof HTMLElement}function ff(s){if(typeof ShadowRoot>"u")return!1;var e=Gi(s).ShadowRoot;return s instanceof e||s instanceof ShadowRoot}function Ex(s){var e=s.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},n=e.attributes[t]||{},o=e.elements[t];!Ji(o)||!Ws(o)||(Object.assign(o.style,i),Object.keys(n).forEach(function(r){var l=n[r];l===!1?o.removeAttribute(r):o.setAttribute(r,l===!0?"":l)}))})}function Rx(s){var e=s.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var n=e.elements[i],o=e.attributes[i]||{},r=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]),l=r.reduce(function(a,c){return a[c]="",a},{});!Ji(n)||!Ws(n)||(Object.assign(n.style,l),Object.keys(o).forEach(function(a){n.removeAttribute(a)}))})}}const Tx={name:"applyStyles",enabled:!0,phase:"write",fn:Ex,effect:Rx,requires:["computeStyles"]};function Hs(s){return s.split("-")[0]}var So=Math.max,rd=Math.min,yr=Math.round;function up(){var s=navigator.userAgentData;return s!=null&&s.brands&&Array.isArray(s.brands)?s.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Wy(){return!/^((?!chrome|android).)*safari/i.test(up())}function wr(s,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var i=s.getBoundingClientRect(),n=1,o=1;e&&Ji(s)&&(n=s.offsetWidth>0&&yr(i.width)/s.offsetWidth||1,o=s.offsetHeight>0&&yr(i.height)/s.offsetHeight||1);var r=Do(s)?Gi(s):window,l=r.visualViewport,a=!Wy()&&t,c=(i.left+(a&&l?l.offsetLeft:0))/n,d=(i.top+(a&&l?l.offsetTop:0))/o,u=i.width/n,h=i.height/o;return{width:u,height:h,top:d,right:c+u,bottom:d+h,left:c,x:c,y:d}}function gf(s){var e=wr(s),t=s.offsetWidth,i=s.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:s.offsetLeft,y:s.offsetTop,width:t,height:i}}function Uy(s,e){var t=e.getRootNode&&e.getRootNode();if(s.contains(e))return!0;if(t&&ff(t)){var i=e;do{if(i&&s.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function fn(s){return Gi(s).getComputedStyle(s)}function Dx(s){return["table","td","th"].indexOf(Ws(s))>=0}function qn(s){return((Do(s)?s.ownerDocument:s.document)||window.document).documentElement}function Zd(s){return Ws(s)==="html"?s:s.assignedSlot||s.parentNode||(ff(s)?s.host:null)||qn(s)}function Sv(s){return!Ji(s)||fn(s).position==="fixed"?null:s.offsetParent}function Ox(s){var e=/firefox/i.test(up()),t=/Trident/i.test(up());if(t&&Ji(s)){var i=fn(s);if(i.position==="fixed")return null}var n=Zd(s);for(ff(n)&&(n=n.host);Ji(n)&&["html","body"].indexOf(Ws(n))<0;){var o=fn(n);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return n;n=n.parentNode}return null}function Fa(s){for(var e=Gi(s),t=Sv(s);t&&Dx(t)&&fn(t).position==="static";)t=Sv(t);return t&&(Ws(t)==="html"||Ws(t)==="body"&&fn(t).position==="static")?e:t||Ox(s)||e}function mf(s){return["top","bottom"].indexOf(s)>=0?"x":"y"}function xl(s,e,t){return So(s,rd(e,t))}function _x(s,e,t){var i=xl(s,e,t);return i>t?t:i}function jy(){return{top:0,right:0,bottom:0,left:0}}function zy(s){return Object.assign({},jy(),s)}function Ky(s,e){return e.reduce(function(t,i){return t[i]=s,t},{})}var Px=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,zy(typeof e!="number"?e:Ky(e,Aa))};function Ax(s){var e,t=s.state,i=s.name,n=s.options,o=t.elements.arrow,r=t.modifiersData.popperOffsets,l=Hs(t.placement),a=mf(l),c=[yi,ss].indexOf(l)>=0,d=c?"height":"width";if(!(!o||!r)){var u=Px(n.padding,t),h=gf(o),p=a==="y"?Ci:yi,g=a==="y"?is:ss,f=t.rects.reference[d]+t.rects.reference[a]-r[a]-t.rects.popper[d],v=r[a]-t.rects.reference[a],w=Fa(o),C=w?a==="y"?w.clientHeight||0:w.clientWidth||0:0,E=f/2-v/2,b=u[p],S=C-h[d]-u[g],T=C/2-h[d]/2+E,D=xl(b,T,S),_=a;t.modifiersData[i]=(e={},e[_]=D,e.centerOffset=D-T,e)}}function Fx(s){var e=s.state,t=s.options,i=t.element,n=i===void 0?"[data-popper-arrow]":i;n!=null&&(typeof n=="string"&&(n=e.elements.popper.querySelector(n),!n)||Uy(e.elements.popper,n)&&(e.elements.arrow=n))}const Mx={name:"arrow",enabled:!0,phase:"main",fn:Ax,effect:Fx,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Sr(s){return s.split("-")[1]}var Lx={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ix(s,e){var t=s.x,i=s.y,n=e.devicePixelRatio||1;return{x:yr(t*n)/n||0,y:yr(i*n)/n||0}}function bv(s){var e,t=s.popper,i=s.popperRect,n=s.placement,o=s.variation,r=s.offsets,l=s.position,a=s.gpuAcceleration,c=s.adaptive,d=s.roundOffsets,u=s.isFixed,h=r.x,p=h===void 0?0:h,g=r.y,f=g===void 0?0:g,v=typeof d=="function"?d({x:p,y:f}):{x:p,y:f};p=v.x,f=v.y;var w=r.hasOwnProperty("x"),C=r.hasOwnProperty("y"),E=yi,b=Ci,S=window;if(c){var T=Fa(t),D="clientHeight",_="clientWidth";if(T===Gi(t)&&(T=qn(t),fn(T).position!=="static"&&l==="absolute"&&(D="scrollHeight",_="scrollWidth")),T=T,n===Ci||(n===yi||n===ss)&&o===Ql){b=is;var G=u&&T===S&&S.visualViewport?S.visualViewport.height:T[D];f-=G-i.height,f*=a?1:-1}if(n===yi||(n===Ci||n===is)&&o===Ql){E=ss;var k=u&&T===S&&S.visualViewport?S.visualViewport.width:T[_];p-=k-i.width,p*=a?1:-1}}var H=Object.assign({position:l},c&&Lx),W=d===!0?Ix({x:p,y:f},Gi(t)):{x:p,y:f};if(p=W.x,f=W.y,a){var P;return Object.assign({},H,(P={},P[b]=C?"0":"",P[E]=w?"0":"",P.transform=(S.devicePixelRatio||1)<=1?"translate("+p+"px, "+f+"px)":"translate3d("+p+"px, "+f+"px, 0)",P))}return Object.assign({},H,(e={},e[b]=C?f+"px":"",e[E]=w?p+"px":"",e.transform="",e))}function Nx(s){var e=s.state,t=s.options,i=t.gpuAcceleration,n=i===void 0?!0:i,o=t.adaptive,r=o===void 0?!0:o,l=t.roundOffsets,a=l===void 0?!0:l,c={placement:Hs(e.placement),variation:Sr(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:n,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,bv(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:r,roundOffsets:a})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,bv(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:a})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const xx={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Nx,data:{}};var Pc={passive:!0};function Gx(s){var e=s.state,t=s.instance,i=s.options,n=i.scroll,o=n===void 0?!0:n,r=i.resize,l=r===void 0?!0:r,a=Gi(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(d){d.addEventListener("scroll",t.update,Pc)}),l&&a.addEventListener("resize",t.update,Pc),function(){o&&c.forEach(function(d){d.removeEventListener("scroll",t.update,Pc)}),l&&a.removeEventListener("resize",t.update,Pc)}}const Vx={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Gx,data:{}};var Hx={left:"right",right:"left",bottom:"top",top:"bottom"};function Bc(s){return s.replace(/left|right|bottom|top/g,function(e){return Hx[e]})}var kx={start:"end",end:"start"};function Ev(s){return s.replace(/start|end/g,function(e){return kx[e]})}function vf(s){var e=Gi(s),t=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:t,scrollTop:i}}function Cf(s){return wr(qn(s)).left+vf(s).scrollLeft}function Bx(s,e){var t=Gi(s),i=qn(s),n=t.visualViewport,o=i.clientWidth,r=i.clientHeight,l=0,a=0;if(n){o=n.width,r=n.height;var c=Wy();(c||!c&&e==="fixed")&&(l=n.offsetLeft,a=n.offsetTop)}return{width:o,height:r,x:l+Cf(s),y:a}}function $x(s){var e,t=qn(s),i=vf(s),n=(e=s.ownerDocument)==null?void 0:e.body,o=So(t.scrollWidth,t.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),r=So(t.scrollHeight,t.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),l=-i.scrollLeft+Cf(s),a=-i.scrollTop;return fn(n||t).direction==="rtl"&&(l+=So(t.clientWidth,n?n.clientWidth:0)-o),{width:o,height:r,x:l,y:a}}function yf(s){var e=fn(s),t=e.overflow,i=e.overflowX,n=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+n+i)}function Yy(s){return["html","body","#document"].indexOf(Ws(s))>=0?s.ownerDocument.body:Ji(s)&&yf(s)?s:Yy(Zd(s))}function Gl(s,e){var t;e===void 0&&(e=[]);var i=Yy(s),n=i===((t=s.ownerDocument)==null?void 0:t.body),o=Gi(i),r=n?[o].concat(o.visualViewport||[],yf(i)?i:[]):i,l=e.concat(r);return n?l:l.concat(Gl(Zd(r)))}function hp(s){return Object.assign({},s,{left:s.x,top:s.y,right:s.x+s.width,bottom:s.y+s.height})}function Wx(s,e){var t=wr(s,!1,e==="fixed");return t.top=t.top+s.clientTop,t.left=t.left+s.clientLeft,t.bottom=t.top+s.clientHeight,t.right=t.left+s.clientWidth,t.width=s.clientWidth,t.height=s.clientHeight,t.x=t.left,t.y=t.top,t}function Rv(s,e,t){return e===By?hp(Bx(s,t)):Do(e)?Wx(e,t):hp($x(qn(s)))}function Ux(s){var e=Gl(Zd(s)),t=["absolute","fixed"].indexOf(fn(s).position)>=0,i=t&&Ji(s)?Fa(s):s;return Do(i)?e.filter(function(n){return Do(n)&&Uy(n,i)&&Ws(n)!=="body"}):[]}function jx(s,e,t,i){var n=e==="clippingParents"?Ux(s):[].concat(e),o=[].concat(n,[t]),r=o[0],l=o.reduce(function(a,c){var d=Rv(s,c,i);return a.top=So(d.top,a.top),a.right=rd(d.right,a.right),a.bottom=rd(d.bottom,a.bottom),a.left=So(d.left,a.left),a},Rv(s,r,i));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function qy(s){var e=s.reference,t=s.element,i=s.placement,n=i?Hs(i):null,o=i?Sr(i):null,r=e.x+e.width/2-t.width/2,l=e.y+e.height/2-t.height/2,a;switch(n){case Ci:a={x:r,y:e.y-t.height};break;case is:a={x:r,y:e.y+e.height};break;case ss:a={x:e.x+e.width,y:l};break;case yi:a={x:e.x-t.width,y:l};break;default:a={x:e.x,y:e.y}}var c=n?mf(n):null;if(c!=null){var d=c==="y"?"height":"width";switch(o){case Cr:a[c]=a[c]-(e[d]/2-t[d]/2);break;case Ql:a[c]=a[c]+(e[d]/2-t[d]/2);break}}return a}function Xl(s,e){e===void 0&&(e={});var t=e,i=t.placement,n=i===void 0?s.placement:i,o=t.strategy,r=o===void 0?s.strategy:o,l=t.boundary,a=l===void 0?ux:l,c=t.rootBoundary,d=c===void 0?By:c,u=t.elementContext,h=u===void 0?vl:u,p=t.altBoundary,g=p===void 0?!1:p,f=t.padding,v=f===void 0?0:f,w=zy(typeof v!="number"?v:Ky(v,Aa)),C=h===vl?hx:vl,E=s.rects.popper,b=s.elements[g?C:h],S=jx(Do(b)?b:b.contextElement||qn(s.elements.popper),a,d,r),T=wr(s.elements.reference),D=qy({reference:T,element:E,strategy:"absolute",placement:n}),_=hp(Object.assign({},E,D)),G=h===vl?_:T,k={top:S.top-G.top+w.top,bottom:G.bottom-S.bottom+w.bottom,left:S.left-G.left+w.left,right:G.right-S.right+w.right},H=s.modifiersData.offset;if(h===vl&&H){var W=H[n];Object.keys(k).forEach(function(P){var N=[ss,is].indexOf(P)>=0?1:-1,F=[Ci,is].indexOf(P)>=0?"y":"x";k[P]+=W[F]*N})}return k}function zx(s,e){e===void 0&&(e={});var t=e,i=t.placement,n=t.boundary,o=t.rootBoundary,r=t.padding,l=t.flipVariations,a=t.allowedAutoPlacements,c=a===void 0?$y:a,d=Sr(i),u=d?l?wv:wv.filter(function(g){return Sr(g)===d}):Aa,h=u.filter(function(g){return c.indexOf(g)>=0});h.length===0&&(h=u);var p=h.reduce(function(g,f){return g[f]=Xl(s,{placement:f,boundary:n,rootBoundary:o,padding:r})[Hs(f)],g},{});return Object.keys(p).sort(function(g,f){return p[g]-p[f]})}function Kx(s){if(Hs(s)===pf)return[];var e=Bc(s);return[Ev(s),e,Ev(e)]}function Yx(s){var e=s.state,t=s.options,i=s.name;if(!e.modifiersData[i]._skip){for(var n=t.mainAxis,o=n===void 0?!0:n,r=t.altAxis,l=r===void 0?!0:r,a=t.fallbackPlacements,c=t.padding,d=t.boundary,u=t.rootBoundary,h=t.altBoundary,p=t.flipVariations,g=p===void 0?!0:p,f=t.allowedAutoPlacements,v=e.options.placement,w=Hs(v),C=w===v,E=a||(C||!g?[Bc(v)]:Kx(v)),b=[v].concat(E).reduce(function(oe,ie){return oe.concat(Hs(ie)===pf?zx(e,{placement:ie,boundary:d,rootBoundary:u,padding:c,flipVariations:g,allowedAutoPlacements:f}):ie)},[]),S=e.rects.reference,T=e.rects.popper,D=new Map,_=!0,G=b[0],k=0;k<b.length;k++){var H=b[k],W=Hs(H),P=Sr(H)===Cr,N=[Ci,is].indexOf(W)>=0,F=N?"width":"height",x=Xl(e,{placement:H,boundary:d,rootBoundary:u,altBoundary:h,padding:c}),I=N?P?ss:yi:P?is:Ci;S[F]>T[F]&&(I=Bc(I));var Y=Bc(I),ae=[];if(o&&ae.push(x[W]<=0),l&&ae.push(x[I]<=0,x[Y]<=0),ae.every(function(oe){return oe})){G=H,_=!1;break}D.set(H,ae)}if(_)for(var Te=g?3:1,Me=function(ie){var he=b.find(function(V){var se=D.get(V);if(se)return se.slice(0,ie).every(function(X){return X})});if(he)return G=he,"break"},Pe=Te;Pe>0;Pe--){var xe=Me(Pe);if(xe==="break")break}e.placement!==G&&(e.modifiersData[i]._skip=!0,e.placement=G,e.reset=!0)}}const qx={name:"flip",enabled:!0,phase:"main",fn:Yx,requiresIfExists:["offset"],data:{_skip:!1}};function Tv(s,e,t){return t===void 0&&(t={x:0,y:0}),{top:s.top-e.height-t.y,right:s.right-e.width+t.x,bottom:s.bottom-e.height+t.y,left:s.left-e.width-t.x}}function Dv(s){return[Ci,ss,is,yi].some(function(e){return s[e]>=0})}function Qx(s){var e=s.state,t=s.name,i=e.rects.reference,n=e.rects.popper,o=e.modifiersData.preventOverflow,r=Xl(e,{elementContext:"reference"}),l=Xl(e,{altBoundary:!0}),a=Tv(r,i),c=Tv(l,n,o),d=Dv(a),u=Dv(c);e.modifiersData[t]={referenceClippingOffsets:a,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:u},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}const Xx={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Qx};function Jx(s,e,t){var i=Hs(s),n=[yi,Ci].indexOf(i)>=0?-1:1,o=typeof t=="function"?t(Object.assign({},e,{placement:s})):t,r=o[0],l=o[1];return r=r||0,l=(l||0)*n,[yi,ss].indexOf(i)>=0?{x:l,y:r}:{x:r,y:l}}function Zx(s){var e=s.state,t=s.options,i=s.name,n=t.offset,o=n===void 0?[0,0]:n,r=$y.reduce(function(d,u){return d[u]=Jx(u,e.rects,o),d},{}),l=r[e.placement],a=l.x,c=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=a,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=r}const eG={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Zx};function tG(s){var e=s.state,t=s.name;e.modifiersData[t]=qy({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const iG={name:"popperOffsets",enabled:!0,phase:"read",fn:tG,data:{}};function sG(s){return s==="x"?"y":"x"}function nG(s){var e=s.state,t=s.options,i=s.name,n=t.mainAxis,o=n===void 0?!0:n,r=t.altAxis,l=r===void 0?!1:r,a=t.boundary,c=t.rootBoundary,d=t.altBoundary,u=t.padding,h=t.tether,p=h===void 0?!0:h,g=t.tetherOffset,f=g===void 0?0:g,v=Xl(e,{boundary:a,rootBoundary:c,padding:u,altBoundary:d}),w=Hs(e.placement),C=Sr(e.placement),E=!C,b=mf(w),S=sG(b),T=e.modifiersData.popperOffsets,D=e.rects.reference,_=e.rects.popper,G=typeof f=="function"?f(Object.assign({},e.rects,{placement:e.placement})):f,k=typeof G=="number"?{mainAxis:G,altAxis:G}:Object.assign({mainAxis:0,altAxis:0},G),H=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,W={x:0,y:0};if(T){if(o){var P,N=b==="y"?Ci:yi,F=b==="y"?is:ss,x=b==="y"?"height":"width",I=T[b],Y=I+v[N],ae=I-v[F],Te=p?-_[x]/2:0,Me=C===Cr?D[x]:_[x],Pe=C===Cr?-_[x]:-D[x],xe=e.elements.arrow,oe=p&&xe?gf(xe):{width:0,height:0},ie=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:jy(),he=ie[N],V=ie[F],se=xl(0,D[x],oe[x]),X=E?D[x]/2-Te-se-he-k.mainAxis:Me-se-he-k.mainAxis,A=E?-D[x]/2+Te+se+V+k.mainAxis:Pe+se+V+k.mainAxis,J=e.elements.arrow&&Fa(e.elements.arrow),R=J?b==="y"?J.clientTop||0:J.clientLeft||0:0,O=(P=H==null?void 0:H[b])!=null?P:0,L=I+X-O-R,z=I+A-O,Z=xl(p?rd(Y,L):Y,I,p?So(ae,z):ae);T[b]=Z,W[b]=Z-I}if(l){var ne,ye=b==="x"?Ci:yi,fe=b==="x"?is:ss,ge=T[S],re=S==="y"?"height":"width",Oe=ge+v[ye],De=ge-v[fe],_e=[Ci,yi].indexOf(w)!==-1,q=(ne=H==null?void 0:H[S])!=null?ne:0,ve=_e?Oe:ge-D[re]-_[re]-q+k.altAxis,be=_e?ge+D[re]+_[re]-q-k.altAxis:De,Fe=p&&_e?_x(ve,ge,be):xl(p?ve:Oe,ge,p?be:De);T[S]=Fe,W[S]=Fe-ge}e.modifiersData[i]=W}}const oG={name:"preventOverflow",enabled:!0,phase:"main",fn:nG,requiresIfExists:["offset"]};function rG(s){return{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}}function lG(s){return s===Gi(s)||!Ji(s)?vf(s):rG(s)}function aG(s){var e=s.getBoundingClientRect(),t=yr(e.width)/s.offsetWidth||1,i=yr(e.height)/s.offsetHeight||1;return t!==1||i!==1}function cG(s,e,t){t===void 0&&(t=!1);var i=Ji(e),n=Ji(e)&&aG(e),o=qn(e),r=wr(s,n,t),l={scrollLeft:0,scrollTop:0},a={x:0,y:0};return(i||!i&&!t)&&((Ws(e)!=="body"||yf(o))&&(l=lG(e)),Ji(e)?(a=wr(e,!0),a.x+=e.clientLeft,a.y+=e.clientTop):o&&(a.x=Cf(o))),{x:r.left+l.scrollLeft-a.x,y:r.top+l.scrollTop-a.y,width:r.width,height:r.height}}function dG(s){var e=new Map,t=new Set,i=[];s.forEach(function(o){e.set(o.name,o)});function n(o){t.add(o.name);var r=[].concat(o.requires||[],o.requiresIfExists||[]);r.forEach(function(l){if(!t.has(l)){var a=e.get(l);a&&n(a)}}),i.push(o)}return s.forEach(function(o){t.has(o.name)||n(o)}),i}function uG(s){var e=dG(s);return bx.reduce(function(t,i){return t.concat(e.filter(function(n){return n.phase===i}))},[])}function hG(s){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(s())})})),e}}function pG(s){var e=s.reduce(function(t,i){var n=t[i.name];return t[i.name]=n?Object.assign({},n,i,{options:Object.assign({},n.options,i.options),data:Object.assign({},n.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}var Ov={placement:"bottom",modifiers:[],strategy:"absolute"};function _v(){for(var s=arguments.length,e=new Array(s),t=0;t<s;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function fG(s){s===void 0&&(s={});var e=s,t=e.defaultModifiers,i=t===void 0?[]:t,n=e.defaultOptions,o=n===void 0?Ov:n;return function(l,a,c){c===void 0&&(c=o);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ov,o),modifiersData:{},elements:{reference:l,popper:a},attributes:{},styles:{}},u=[],h=!1,p={state:d,setOptions:function(w){var C=typeof w=="function"?w(d.options):w;f(),d.options=Object.assign({},o,d.options,C),d.scrollParents={reference:Do(l)?Gl(l):l.contextElement?Gl(l.contextElement):[],popper:Gl(a)};var E=uG(pG([].concat(i,d.options.modifiers)));return d.orderedModifiers=E.filter(function(b){return b.enabled}),g(),p.update()},forceUpdate:function(){if(!h){var w=d.elements,C=w.reference,E=w.popper;if(_v(C,E)){d.rects={reference:cG(C,Fa(E),d.options.strategy==="fixed"),popper:gf(E)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(k){return d.modifiersData[k.name]=Object.assign({},k.data)});for(var b=0;b<d.orderedModifiers.length;b++){if(d.reset===!0){d.reset=!1,b=-1;continue}var S=d.orderedModifiers[b],T=S.fn,D=S.options,_=D===void 0?{}:D,G=S.name;typeof T=="function"&&(d=T({state:d,options:_,name:G,instance:p})||d)}}}},update:hG(function(){return new Promise(function(v){p.forceUpdate(),v(d)})}),destroy:function(){f(),h=!0}};if(!_v(l,a))return p;p.setOptions(c).then(function(v){!h&&c.onFirstUpdate&&c.onFirstUpdate(v)});function g(){d.orderedModifiers.forEach(function(v){var w=v.name,C=v.options,E=C===void 0?{}:C,b=v.effect;if(typeof b=="function"){var S=b({state:d,name:w,instance:p,options:E}),T=function(){};u.push(S||T)}})}function f(){u.forEach(function(v){return v()}),u=[]}return p}}var gG=[Vx,iG,xx,Tx,eG,qx,oG,Mx,Xx],wf=fG({defaultModifiers:gG});const Sf=Symbol("tscMenu"),mG=Ae({name:"SubMenu",components:{Icon:Lt},props:{level:{type:Number,required:!0},index:{type:[String,Number],default:()=>af()},title:{type:[String,Number]},itemKey:{type:[String,Number],default:""},mode:{type:String,default:"vertical"},path:String,prefixIcon:{type:String,default:""},prefixColor:{type:String,default:"#fff"},defaultExpansion:{type:Boolean,default:!1}},setup(s){const e=$r(),t=K(),i=K(),n=s.mode==="vertical"?s.prefixColor:K(vs.black),o=mt(Sf),r=K(!1),l=B(()=>s.mode==="vertical");let a=null;const c=K(!1),d=K(!1),u=B(()=>s.level===0);let h;l.value?h=B(()=>({[r.value?"active-direction":"defaut-direction"]:!0})):h=B(()=>({"is-top-active":!u.value,"sub-menu-title-icon":u.value}));const p=B(()=>o==null?void 0:o.props.backgroundColor),g=B(()=>o==null?void 0:o.props.textColor);if(!o)throw new Error("Sub-menu has to have menu parent.");let f=e==null?void 0:e.parent;const v=[s.index];for(;f.type.name!=="Menu";)["SubMenu"].includes(f.type.name)&&v.unshift(f.props.index),f=f.parent;Qs(()=>{a==null||a.destroy()}),xt(()=>{l.value||(a=wf(t.value,i.value,{modifiers:[{name:"offset",options:{offset:[0,3]}}],placement:u.value?"bottom-start":"right-start"}))}),pt(c,_=>{l.value||_&&a.update()});let w=null;const C=()=>{w&&(clearTimeout(w),w=null)};pt(o.activeMenus,_=>{l.value||(C(),_.includes(s.index)?(c.value=!0,d.value=!0):c.value&&(w=setTimeout(()=>{c.value=!1,d.value=!1},150)))}),pt(o.openedMenus,_=>{l.value||_.includes(s.index)||(c.value=!1,d.value=!1)});const E=B(()=>!l.value&&o.selectMenus.value.includes(s.index)),b=()=>{c.value=!c.value},S=()=>{l.value&&(r.value=!c.value,c.value=!c.value)};return pt(()=>s.defaultExpansion,_=>{_&&S()},{immediate:!0}),{iconColor:n,reference:t,popper:i,visibility:c,isActive:d,isFirstLevel:u,isSelect:E,handleMouseenter:()=>{l.value||(o==null||o.closeMenu(v),o==null||o.openMenu(v))},handleMouseleave:()=>{l.value||o==null||o.openMenu([])},handleClick:S,showItem:b,isClick:r,arrowDirectionClasses:h,isVertical:l,backgroundColor:p,textColor:g}}});const vG={class:"sub-menu"},CG={key:0};function yG(s,e,t,i,n,o){const r=we("icon");return U(),te("div",vG,[M("div",{ref:"reference",class:Re(["sub-menu-title",{"sub-menu-vertical-title":s.isVertical},{"sub-menu-title-root":s.isFirstLevel},{"sub-menu-title-popper":!(s.isFirstLevel&&s.isVertical)},{"is-select":!s.isVertical&&s.isSelect},{"is-root":!s.isVertical&&s.isSelect&&s.isFirstLevel}]),onMouseenter:e[0]||(e[0]=(...l)=>s.handleMouseenter&&s.handleMouseenter(...l)),onMouseleave:e[1]||(e[1]=(...l)=>s.handleMouseleave&&s.handleMouseleave(...l)),onClick:e[2]||(e[2]=Tt((...l)=>s.handleClick&&s.handleClick(...l),["stop"]))},[s.prefixIcon?(U(),ot(r,{key:0,classes:s.prefixIcon,color:s.prefixColor,class:"prefix-icon",size:"20"},null,8,["classes","color"])):Ne("",!0),M("span",null,Ve(s.title),1),le(r,{color:s.iconColor,classes:"icon-uparrow",size:24,class:Re(s.arrowDirectionClasses)},null,8,["color","class"])],34),s.isVertical?(U(),te("ul",CG,[at(M("li",{class:"sub-menu-vertical",onClick:e[3]||(e[3]=Tt((...l)=>s.showItem&&s.showItem(...l),["stop"]))},[it(s.$slots,"default",{},void 0,!0)],512),[[Ot,s.visibility]])])):(U(),ot(Ra,{key:1,to:"body"},[le($s,{name:"sub-menu-transition"},{default:qe(()=>[at(M("div",{ref:"popper",class:"sub-menu-popper",style:ii({backgroundColor:s.backgroundColor,color:s.textColor}),onMouseenter:e[4]||(e[4]=(...l)=>s.handleMouseenter&&s.handleMouseenter(...l)),onMouseleave:e[5]||(e[5]=(...l)=>s.handleMouseleave&&s.handleMouseleave(...l))},[it(s.$slots,"default",{},void 0,!0)],36),[[Ot,s.visibility]])]),_:3})]))])}const $c=Ge(mG,[["render",yG],["__scopeId","data-v-7433d3f4"]]),wG=Ae({name:"MenuItem",components:{Icon:Lt},props:{level:{type:Number,required:!0},index:{type:[String,Number],default:()=>af()},title:{type:String,default:"vertical"},path:String,mode:{type:String,required:!0},itemKey:{type:[String,Number],default:""},suffixIcon:{type:String,default:""},suffixIconColor:{type:String,default:"#fff"},prefixIcon:{type:String,default:""},prefixColor:{type:String,default:"#fff"}},setup(s){const e=$r();let t=e==null?void 0:e.parent;const i=[s.index],n=B(()=>s.mode==="vertical"),o=K(!1);for(;t.type.name!=="Menu";)["SubMenu"].includes(t.type.name)&&i.unshift(t.props.index),t=t.parent;const r=mt(Sf),l=B(()=>s.level===0),a=B(()=>r==null?void 0:r.selectMenus.value.includes(s.index)),c=B(()=>(r==null?void 0:r.clickActive.value)===+s.itemKey);return{isFirstLevel:l,isSelect:a,handleMouseenter:()=>{o.value=!0,!n.value&&(r==null||r.closeMenu(i),r==null||r.openMenu(i))},handleMouseleave:()=>{o.value=!1,!n.value&&(r==null||r.openMenu([]))},handleClick:()=>{r==null||r.clickMenu(i,s.path,+s.itemKey)},isVertical:n,isActiveIndex:c,isHover:o,suffixHandel:()=>{r==null||r.suffixHandel(s.path)}}}});function SG(s,e,t,i,n,o){const r=we("icon"),l=we("Icon");return U(),te("div",{class:Re(["menu-item",{"menu-item-root":s.isFirstLevel},{"is-select":!s.isVertical&&s.isSelect},{[s.isVertical?"menu-item-vertical":"menu-item-horizontal"]:!0},{"is-click-active":s.isVertical&&s.isActiveIndex&&!s.isFirstLevel}]),onMouseenter:e[0]||(e[0]=(...a)=>s.handleMouseenter&&s.handleMouseenter(...a)),onMouseleave:e[1]||(e[1]=(...a)=>s.handleMouseleave&&s.handleMouseleave(...a)),onClick:e[2]||(e[2]=Tt(a=>s.handleClick(s.item),["stop"]))},[s.prefixIcon&&s.isFirstLevel?(U(),ot(r,{key:0,classes:s.prefixIcon,color:s.prefixColor,class:"prefix-icon",size:"20"},null,8,["classes","color"])):Ne("",!0),M("span",{class:Re([s.isVertical&&!s.isFirstLevel?"menu-item-vertical-content":""])},Ve(s.title),3),at(le(l,{classes:s.suffixIcon,color:s.suffixIconColor,size:"18",class:"suffix-icon",onClick:Tt(s.suffixHandel,["stop"])},null,8,["classes","color","onClick"]),[[Ot,s.isVertical&&s.isHover&&!s.isFirstLevel]])],34)}const Wc=Ge(wG,[["render",SG],["__scopeId","data-v-2dc7e294"]]),bG=Ae({name:"Menu",props:{options:Array,mode:{type:String,default:"vertical"},defaultActive:{type:String,default:""},router:{type:Boolean,default:!0},activeTextColor:{type:String,default:"#167d86"},backgroundColor:{type:String,default:"#fff"},textColor:{type:String,default:"#303133"},prefixIcon:{type:String,default:""},prefixColor:{type:String,default:""},suffixIcon:{type:String,default:""},suffixIconColor:{type:String,default:"#fff"}},emits:["select","suffix-click"],setup(s,{emit:e}){const t=K([]),i=K([]),n=K([]),o=K();pt(()=>s.defaultActive,u=>{u?n.value=u.split("/"):n.value=[]},{immediate:!0}),ti(Sf,{activeMenus:t,openedMenus:i,selectMenus:n,openMenu:u=>{t.value=u},closeMenu:u=>{i.value=u},clickMenu:(u,h,p)=>{n.value=u,t.value=[],i.value=[],o.value=p,e("select",h)},props:s,clickActive:o,suffixHandel:u=>{e("suffix-click",u)}});const d=(u,h)=>Bt(Ue,{},u.map(p=>{const g=af();if(p.children&&p.children.length){const f=d(p.children);return Bt($c,{itemKey:g,level:p.level,index:p.index,title:p.title,path:p.path,trigger:s.trigger,defaultExpansion:p.defaultExpansion,mode:s.mode,prefixIcon:s.prefixIcon,prefixColor:s.prefixColor,suffixIcon:s.suffixIcon,suffixIconColor:s.suffixIconColor},()=>f)}else return Bt(Wc,{itemKey:g,level:p.level,index:p.index,title:p.title,path:p.path,trigger:s.trigger,mode:s.mode,prefixIcon:s.prefixIcon,prefixColor:s.prefixColor,suffixIcon:s.suffixIcon,suffixIconColor:s.suffixIconColor})}));return{createVNode:d}},render(s){const e=["menu"];this.$props.mode==="horizontal"&&e.push("menu-horizontal");const t=B(()=>s.backgroundColor),i=B(()=>s.textColor),n=this.$slots.default?Bt(Ue,{},this.$slots.default()):this.createVNode(this.$props.options,0);return Bt("div",{class:e.join(" "),style:[{backgroundColor:t.value,color:i.value}]},n)}});const Ch=Ge(bG,[["__scopeId","data-v-7399a7db"]]);Ch.install=s=>s.component(Ch.name,Ch);$c.install=s=>s.component($c.name,$c);Wc.install=s=>s.component(Wc.name,Wc);const EG={mask:{type:Boolean,default:!0},overlayClass:{type:String,default:""},zIndex:{type:Number},customMaskEvent:{type:Boolean,default:!1}},RG=Ae({name:"Overlay",props:EG,setup(s,{slots:e,emit:t}){const i=l=>{t("click",l)},{onClick:n,onMousedown:o,onMouseup:r}=ry(s.customMaskEvent?void 0:i);return()=>s.mask?le("div",{class:["overlay",s.overlayClass],style:{zIndex:s.zIndex},onClick:n,onMousedown:o,onMouseup:r},[it(e,"default")],Vc.STYLE|Vc.CLASS|Vc.PROPS,["onClick","onMouseup","onMousedown"]):Bt("div",{class:s.overlayClass,style:{zIndex:s.zIndex,position:"fixed",top:"0",right:"0",left:"0",bottom:"0"}},[it(e,"default")])}});const Uc=Ge(RG,[["__scopeId","data-v-4e1597fd"]]);Uc.install=s=>s.component(Uc.name,Uc);const TG=(s,e,t)=>{if(!Vt(s))throw new Error("[Lock Screen] You need to pass a ref param to this function");const i=rO(t);if(vr(i,"scroll-hidden"))return;let n=0,o=!1,r="0",l=0;const a=()=>{e.value={top:us(i.scrollTop),height:us(i.offsetHeight),position:t?"absolute":"fixed"}},c=()=>{nO(i,"scroll-hidden"),o&&(i.style.paddingRight=r)};pt(s,d=>{if(!d){c();return}o=!vr(i,"scroll-hidden"),o&&(r=i.style.paddingRight,l=parseInt(qm(i,"paddingRight"),10)),n=oO();const u=document.documentElement.clientHeight<i.scrollHeight,h=qm(i,"overflowY");n>0&&(u||h==="scroll")&&o&&(i.style.paddingRight=`${l+n}px`),sO(i,"scroll-hidden"),a()}),Eb(()=>c())};function Pv(s,e=0,t=!0){const i=K(null);let n=null;const o=()=>{i.value=!1,n&&clearTimeout(n),n=setTimeout(()=>{i.value=!0,s(),n=null},e)},r=()=>{i.value=null,n&&(clearTimeout(n),n=null)};return xt(()=>t&&o()),Hd(r),{isReady:i,start:o,stop:r}}const DG=(s,e,t)=>{let i={offsetX:0,offsetY:0};const n=l=>{if(!s||!s.value)return;const a=l.clientX,c=l.clientY,{offsetX:d,offsetY:u}=i,h=s.value.getBoundingClientRect(),p=h.left,g=h.top,f=h.width,v=h.height,w=document.documentElement.clientWidth,C=document.documentElement.clientHeight,E=-p+d,b=-g+u,S=w-p-f+d,T=C-g-v+u,D=G=>{if(!s||!s.value)return;const k=Math.min(Math.max(d+G.clientX-a,E),S),H=Math.min(Math.max(u+G.clientY-c,b),T);i={offsetX:k,offsetY:H},s.value.style.transform=`translate(${k}px, ${H}px)`},_=()=>{document.removeEventListener("mousemove",D),document.removeEventListener("mouseup",_)};document.addEventListener("mousemove",D),document.addEventListener("mouseup",_)},o=()=>{e.value&&s.value&&e.value.addEventListener("mousedown",n)},r=()=>{e.value&&s.value&&e.value.removeEventListener("mousedown",n)};xt(()=>{mE(()=>{t.value?o():r()})}),Qs(()=>{r()})},OG=Ae({name:"ConfirmBox",components:{Icon:Lt,Overlay:Uc},props:{appendTo:{type:String,default:null},modalClass:{type:String},zIndex:{type:Number},modal:{type:Boolean,default:!0},modelValue:{type:Boolean,required:!0},lockScroll:{type:Boolean,default:!0},alignCenter:{type:Boolean,default:!1},customClass:{type:String,default:""},width:{type:[String,Number]},top:{type:String},title:{type:String,default:""},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},draggable:{type:Boolean,default:!1},beforeClose:{type:Function}},emits:["update:modelValue"],setup(s,{emit:e}){const t=K(!1),i=K(!1),n=K(vs.confirmBox),o=K(),r=K(),l=K(s.draggable),a=K({});DG(o,r,l);let c,d;const u=B(()=>Yl(s.width)?`${s.width}px`:s.width),h=B(()=>s.appendTo||"body");xt(()=>{s.modelValue&&(i.value=!0,g())}),pt(()=>s.modelValue,D=>{D?(g(),i.value=!0,Si(()=>{o.value&&(o.value.scrollTop=0,o.value.style.transform="")})):t.value&&v()});const p=B(()=>{const D={};return s.top&&(D["margin-top"]=s.top),s.width&&(D.width=u.value),D}),g=()=>{if(d==null||d(),c==null||c(),s.openDelay&&s.openDelay>0){const{stop:D}=Pv(()=>f(),s.openDelay);c=D}else f()},f=()=>{t.value=!0},v=()=>{if(c==null||c(),d==null||d(),s.closeDelay&&s.closeDelay>0){const{stop:D}=Pv(()=>w(),s.openDelay);d=D}else w()},w=()=>{t.value=!1},C=D=>{D||(t.value=!1)},E=()=>{s.beforeClose?s.beforeClose(C):v()},S=ry(()=>{s.closeOnClickModal&&E()}),T=()=>{e("update:modelValue",!1)};return s.lockScroll&&TG(t,a,s.appendTo),{confirmBoxRef:o,headerRef:r,visible:t,appendEle:h,style:p,overlayScrollStyle:a,rendered:i,iconColor:n,overlayEvent:S,handleClose:E,afterLeave:T}}});const _G=["aria-label"],PG={ref:"headerRef",class:"confirm-box__header"},AG={class:"confirm-box__header-title"},FG={key:0,class:"confirm-box__body"},MG={key:1,class:"confirm-box__footer"};function LG(s,e,t,i,n,o){const r=we("Icon"),l=we("overlay");return U(),ot(Ra,{to:s.appendEle},[le($s,{name:"confirm-box-fade",onAfterLeave:s.afterLeave},{default:qe(()=>[at(le(l,{"custom-mask-event":"",mask:s.modal,"overlay-class":s.modalClass,"z-index":s.zIndex,style:ii(s.overlayScrollStyle)},{default:qe(()=>[M("div",{class:Re(["overlay-confirm-box",{"overlay-confirm-box-center":s.alignCenter}]),onClick:e[2]||(e[2]=(...a)=>s.overlayEvent.onClick&&s.overlayEvent.onClick(...a)),onMousedown:e[3]||(e[3]=(...a)=>s.overlayEvent.onMousedown&&s.overlayEvent.onMousedown(...a)),onMouseup:e[4]||(e[4]=(...a)=>s.overlayEvent.onMouseup&&s.overlayEvent.onMouseup(...a))},[M("div",{ref:"confirmBoxRef",class:Re(["confirm-box",[{"confirm-box-drag":s.draggable},s.customClass]]),"aria-modal":"true",role:"dialog",style:ii(s.style),"aria-label":s.title||"Confirm Box",onClick:e[1]||(e[1]=Tt(()=>{},["stop"]))},[M("div",PG,[it(s.$slots,"title",{},()=>[M("span",AG,Ve(s.title),1)],!0),s.showClose?(U(),te("button",{key:0,"aria-label":"close",class:"confirm-box__header-btn",type:"button",onClick:e[0]||(e[0]=(...a)=>s.handleClose&&s.handleClose(...a))},[le(r,{color:s.iconColor,classes:"icon-dialog-close",size:"20"},null,8,["color"])])):Ne("",!0)],512),s.rendered?(U(),te("div",FG,[it(s.$slots,"default",{},void 0,!0)])):Ne("",!0),s.$slots.footer?(U(),te("div",MG,[it(s.$slots,"footer",{},void 0,!0)])):Ne("",!0)],14,_G)],34)]),_:3},8,["mask","overlay-class","z-index","style"]),[[Ot,s.visible]])]),_:3},8,["onAfterLeave"])],8,["to"])}const IG=Ge(OG,[["render",LG],["__scopeId","data-v-d5aab3b1"]]),yh=IG;yh.install=s=>s.component(yh.name,yh);const NG=s=>s.type===Li,xG=s=>s.type==="template",GG=s=>s.type===Ue,bf=(s,e=3)=>Array.isArray(s)?Av(s[0],e):Av(s,e);function Av(s,e){if(!NG(s))return GG(s)||xG(s)?e>0?bf(s.children,e-1):void 0:s}function VG(s,e){const t=bf(s,1);if(!t)throw new Error("trigger expects single rooted node");return Bs(t,e,!0)}function HG(s,e){const t=bf(s,1);if(!t)throw new Error("trigger expects single rooted node");return Bs(t,e,!0)}function kG(s,e){const{name:t,popperStyle:i,visibility:n,popperClass:o}=s,r=[o||"","popover-popper"];return Bt($s,{name:t},{default:qe(()=>[at(Bt("div",{style:i??{},ref:"popperRef",class:r},e),[[Ot,n]])])})}const BG=Ae({name:"Popover",props:{content:{type:String,default:""},width:{type:[String,Number],default:150},popperClass:{type:String,default:""}},emits:["update:visible"],setup(s,{emit:e,slots:t}){const i=K(888),n=K(),o=B(()=>bt(s.width)?s.width:`${s.width}px`),r=B(()=>({width:o.value,zIndex:i.value})),l=K(!1),a=()=>{l.value=!1},c=K(),d=K();let u=null;Qs(()=>{h()}),Gd(()=>{h()});function h(){u==null||u.destroy(),u=null}const p=f=>Yv(f).startsWith("HTML");pt(l,f=>{f?(u?u.update():Si(()=>{g()}),e("update:visible",f)):(e("update:visible",f),h())});function g(){const f=t.attache?n.value:c.value,v=p(f)?f:f.$el;u=wf(v,d.value,{modifiers:[{name:"offset",options:{offset:[0,10]}}],placement:"bottom-start"}),u.update()}return{popperStyle:r,visibility:l,hide:a,triggerRef:c,popperRef:d,attacheRef:n}},render(){const{$slots:s}=this,e=s.reference?s.reference():null,t=s.attache?s.attache():null,i=t?HG(t,{ref:"attacheRef"}):Ne("v-if",!0),n=it(s,"default",{},()=>[ct(Ve(this.content),1)]),{popperStyle:o,visibility:r}=this,l=kG({name:"popover-transition",visibility:r,popperStyle:o},[n]),a=e?VG(e,{ref:"triggerRef",onClick:()=>{this.visibility=!this.visibility}}):Ne("v-if",!0);return Bt(Ue,null,[i,at(a,[[Wr,this.hide]]),this.visibility?Bt(Ra,{to:"body"},[l]):""])}});const wh=Ge(BG,[["__scopeId","data-v-adb43a14"]]);wh.install=s=>s.component(wh.name,wh);const $G=Ae({name:"Pophover",props:{placement:{type:String,default:"bottom-end"},disabled:{type:Boolean,default:!1},classes:{type:String,default:""},distance:{type:Number,default:1},appendTo:{type:String,default:"body"},reference:{type:String,default:"body"},strategy:{type:String,default:"absolute"},autoUpdate:{type:Boolean,default:!0}},setup(s){const e=K(),t=K(!1),i=K(s.disabled);let n=null,o=null;const r=()=>{o&&(clearTimeout(o),o=null),o=setTimeout(()=>{n.update()},500)},l=()=>{i.value=!1,c(),window.addEventListener("resize",r)},a=()=>{t.value=!1,i.value=!0,window.removeEventListener("resize",r)};Qs(()=>{a(),n==null||n.destroy()}),Gd(()=>{a()}),Qp(()=>{l()}),xt(()=>{const d=document.querySelector(s.reference);n=wf(d,e.value,{strategy:s.strategy,modifiers:[{name:"offset",options:{offset:[0,s.distance]}}],placement:s.placement}),s.autoUpdate&&setTimeout(()=>{c()},0),window.addEventListener("resize",r)});const c=()=>{t.value=!0,n==null||n.update()};return{popper:e,isShow:t,isActive:i,update:c}}});function WG(s,e,t,i,n,o){return U(),ot(Ra,{to:s.appendTo,disabled:s.isActive},[at(M("div",{ref:"popper",class:Re(["popper-hover",s.classes])},[it(s.$slots,"default",{},void 0,!0)],2),[[Ot,s.isShow]])],8,["to","disabled"])}const Sh=Ge($G,[["render",WG],["__scopeId","data-v-e780ef87"]]);Sh.install=s=>s.component(Sh.name,Sh);const bh=Ae({name:"Timeline",setup(s,{slots:e}){return ti("timeline",e),()=>Bt("ul",{class:["timeline"]},[it(e,"default")])}}),UG={timestamp:{type:String,default:""},hideTimestamp:{type:Boolean,default:!1},active:{type:Boolean,default:!1},hide:{type:Boolean,default:!1},placement:{type:String,default:"bottom"},size:{type:String,default:"normal"},color:{type:String,default:""},icon:{type:String,default:""},iconColor:{type:String,default:""},iconSize:{type:String,default:""}},jG=Ae({name:"TimelineItem",components:{Icon:Lt},props:UG});const zG={class:"timeline-item"},KG={class:"timeline-item-wrapper"},YG={key:0,class:"timeline-item-timestamp timeline-item-top"},qG={class:"timeline-item-content"},QG={key:1,class:"timeline-item-timestamp timeline-item-bottom"};function XG(s,e,t,i,n,o){const r=we("icon");return U(),te("li",zG,[M("div",{class:Re(["timeline-item-tail",{"timeline-item-tail__hide":s.hide}])},null,2),M("div",{class:Re(["timeline-item-node",[`timeline-item-node__${s.size}`,{"timeline-item-node__active":s.active},{"timeline-item-node__hide":s.hide}]]),style:ii({backgroundColor:s.color})},[s.icon?(U(),ot(r,{key:0,class:"timeline-item-icon",classes:s.icon,color:s.iconColor,size:s.iconSize},null,8,["classes","color","size"])):Ne("",!0)],6),M("div",KG,[!s.hideTimestamp&&s.placement==="top"?(U(),te("div",YG,Ve(s.timestamp),1)):Ne("",!0),M("div",qG,[it(s.$slots,"default",{},void 0,!0)]),!s.hideTimestamp&&s.placement==="bottom"?(U(),te("div",QG,Ve(s.timestamp),1)):Ne("",!0)])])}const Eh=Ge(jG,[["render",XG],["__scopeId","data-v-0795e39c"]]);bh.install=s=>s.component(bh.name,bh);Eh.install=s=>s.component(Eh.name,Eh);const JG=Ae({components:{Button:Ii},name:"Discussion",props:{type:{type:Number}},setup(){const s=rf();return{jumpToPage:()=>{s.push("/notes")},setupMeeting:()=>{s.push("/setup")},actionItem:()=>{s.push("/action-page")},jumpToSoft:()=>{window.open("https://dbschenker.talent-soft.com/")}}}});const ZG=s=>(Ds("data-v-f62b2095"),s=s(),Os(),s),e1=ZG(()=>M("div",{class:"title"},"Discuss how to resolve this problem",-1)),t1={class:"btn-list"};function i1(s,e,t,i,n,o){const r=we("Button");return U(),te(Ue,null,[e1,M("div",t1,[le(r,{onClick:s.setupMeeting},{default:qe(()=>[ct("Setup a meeting")]),_:1},8,["onClick"]),le(r,{type:"blank",onClick:s.jumpToPage},{default:qe(()=>[ct("Meeting Notes")]),_:1},8,["onClick"]),s.type!==1?(U(),ot(r,{key:0,onClick:s.actionItem},{default:qe(()=>[ct("Action Item")]),_:1},8,["onClick"])):Ne("",!0),le(r,{onClick:s.jumpToSoft},{default:qe(()=>[ct("Talent Soft")]),_:1},8,["onClick"])])],64)}const Qy=Ge(JG,[["render",i1],["__scopeId","data-v-f62b2095"]]);function Hn(s){return s==null||s===""?null:s}function Q(s,e=!1){return s!=null&&(s!==""||e)}function Le(s){return!Q(s)}function Ai(s){return s==null||s.length===0}function Jl(s){return s!=null&&typeof s.toString=="function"?s.toString():null}function Qi(s){if(s===void 0)return;if(s===null||s==="")return null;if(typeof s=="number")return isNaN(s)?void 0:s;const e=parseInt(s,10);return isNaN(e)?void 0:e}function Is(s){if(s!==void 0)return s===null||s===""?!1:typeof s=="boolean"?s:/true/i.test(s)}function s1(s){if(!(s==null||s===""))return s}function n1(s,e){return s==null&&e==null?!0:s==null&&e!=null||s!=null&&e==null?!1:s===e}function o1(s,e){const t=s?JSON.stringify(s):null,i=e?JSON.stringify(e):null;return t===i}function r1(s,e,t=!1){const i=s==null,n=e==null;if(s&&s.toNumber&&(s=s.toNumber()),e&&e.toNumber&&(e=e.toNumber()),i&&n)return 0;if(i)return-1;if(n)return 1;function o(r,l){return r>l?1:r<l?-1:0}if(typeof s!="string"||!t)return o(s,e);try{return s.localeCompare(e)}catch{return o(s,e)}}function bo(s){if(s instanceof Set||s instanceof Map){const e=[];return s.forEach(t=>e.push(t)),e}return Object.values(s)}const l1=Object.freeze(Object.defineProperty({__proto__:null,attrToBoolean:Is,attrToNumber:Qi,attrToString:s1,defaultComparator:r1,exists:Q,jsonEquals:o1,makeNull:Hn,missing:Le,missingOrEmpty:Ai,referenceCompare:n1,toStringOrNull:Jl,values:bo},Symbol.toStringTag,{value:"Module"}));class a1{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=Jl(e);let i=0;for(;;){let n;if(e?(n=e,i!==0&&(n+="_"+i)):t?(n=t,i!==0&&(n+="_"+i)):n=""+i,!this.existingKeys[n])return this.existingKeys[n]=!0,n;i++}}}function Rt(s,e){s!=null&&(Array.isArray(s)?s.forEach((t,i)=>e(`${i}`,t)):Object.keys(s).forEach(t=>e(t,s[t])))}function Ef(s){const e={},t=Object.keys(s);for(let i=0;i<t.length;i++){const n=t[i],o=s[n];e[n]=o}return e}function c1(s){return JSON.parse(JSON.stringify(s))}function ld(s,e){if(!s)return;const t=s,i={};return Object.keys(t).forEach(n=>{if(e&&e.indexOf(n)>=0)return;const o=t[n];ad(o)&&o.constructor===Object?i[n]=ld(o):i[n]=o}),i}function Xy(s,e){return s[e]}function Jy(s,e,t){s[e]=t}function d1(s,e,...t){t.forEach(i=>Zy(s,e,i))}function Zy(s,e,t,i){const n=Xy(s,t);n!==void 0&&Jy(e,t,i?i(n):n)}function ew(s){const e={};return s.filter(t=>t!=null).forEach(t=>{Object.keys(t).forEach(i=>e[i]=null)}),Object.keys(e)}function Us(s){if(!s)return[];const e=Object;if(typeof e.values=="function")return e.values(s);const t=[];for(const i in s)s.hasOwnProperty(i)&&s.propertyIsEnumerable(i)&&t.push(s[i]);return t}function Mi(s,e,t=!0,i=!1){Q(e)&&Rt(e,(n,o)=>{let r=s[n];r!==o&&(i&&r==null&&o!=null&&typeof o=="object"&&o.constructor===Object&&(r={},s[n]=r),ad(o)&&ad(r)&&!Array.isArray(r)?Mi(r,o,t,i):(t||o!==void 0)&&(s[n]=o))})}function u1(s){return Le(s)||Object.keys(s).length===0}function h1(s,e,t){if(s==null)return t;const i=e.split(".");let n=s;for(;i.length>1;)if(n=n[i.shift()],n==null)return t;const o=n[i[0]];return o??t}function p1(s,e,t){if(s==null)return;const i=e.split(".");let n=s;i.forEach((o,r)=>{n[o]||(n[o]={}),r<i.length-1&&(n=n[o])}),n[i[i.length-1]]=t}function rr(s,e,t){if(!e||!s)return;if(!t)return s[e];const i=e.split(".");let n=s;for(let o=0;o<i.length;o++){if(n==null)return;n=n[i[o]]}return n}function tw(s,e){Object.keys(s).forEach(n=>{typeof s[n]=="object"&&(s[n]=void 0)});const t=Object.getPrototypeOf(s),i={};Object.keys(t).forEach(n=>{if(typeof t[n]=="function"){const r=()=>{console.warn(`AG Grid: ${e} function ${n}() cannot be called as the grid has been destroyed.
                     Please don't call grid API functions on destroyed grids - as a matter of fact you shouldn't
                     be keeping the API reference, your application has a memory leak! Remove the API reference
                     when the grid is destroyed.`)};i[n]={value:r,writable:!0}}}),Object.defineProperties(s,i)}function ad(s){return typeof s=="object"&&s!==null}const f1=Object.freeze(Object.defineProperty({__proto__:null,cloneObject:Ef,copyPropertiesIfPresent:d1,copyPropertyIfPresent:Zy,deepCloneDefinition:ld,deepCloneObject:c1,get:h1,getAllKeysInObjects:ew,getAllValuesInObject:Us,getProperty:Xy,getValueUsingField:rr,isNonNullObject:ad,iterateObject:Rt,mergeDeep:Mi,missingOrEmptyObject:u1,removeAllReferences:tw,set:p1,setProperty:Jy},Symbol.toStringTag,{value:"Module"})),Fv={};function st(s,e){Fv[e]||(s(),Fv[e]=!0)}function eu(s){if(s.name)return s.name;const e=/function\s+([^\(]+)/.exec(s.toString());return e&&e.length===2?e[1].trim():null}function tu(s){return!!(s&&s.constructor&&s.call&&s.apply)}function iw(s){sw(s,400)}const Rh=[];let Th=!1;function pp(s){Rh.push(s),!Th&&(Th=!0,window.setTimeout(()=>{const e=Rh.slice();Rh.length=0,Th=!1,e.forEach(t=>t())},0))}function sw(s,e=0){s.length>0&&window.setTimeout(()=>s.forEach(t=>t()),e)}function Vs(s,e){let t;return function(...i){const n=this;window.clearTimeout(t),t=window.setTimeout(function(){s.apply(n,i)},e)}}function fp(s,e){let t=0;return function(...i){const n=this,o=new Date().getTime();o-t<e||(t=o,s.apply(n,i))}}function Rf(s,e,t=100,i){const n=new Date().getTime();let o=null,r=!1;const l=()=>{const a=new Date().getTime()-n>t;(s()||a)&&(e(),r=!0,o!=null&&(window.clearInterval(o),o=null),a&&i&&console.warn(i))};l(),r||(o=window.setInterval(l,10))}function g1(...s){return e=>s.reduce((t,i)=>i(t),e)}function nw(s){s&&s()}const m1=()=>{},v1=Object.freeze(Object.defineProperty({__proto__:null,callIfPresent:nw,compose:g1,debounce:Vs,doOnce:st,executeAfter:sw,executeInAWhile:iw,executeNextVMTurn:pp,getFunctionName:eu,isFunction:tu,noop:m1,throttle:fp,waitUntil:Rf},Symbol.toStringTag,{value:"Module"}));var Ee;(function(s){s.CommunityCoreModule="@ag-grid-community/core",s.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",s.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",s.CsvExportModule="@ag-grid-community/csv-export",s.EnterpriseCoreModule="@ag-grid-enterprise/core",s.RowGroupingModule="@ag-grid-enterprise/row-grouping",s.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",s.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",s.MenuModule="@ag-grid-enterprise/menu",s.SetFilterModule="@ag-grid-enterprise/set-filter",s.MultiFilterModule="@ag-grid-enterprise/multi-filter",s.StatusBarModule="@ag-grid-enterprise/status-bar",s.SideBarModule="@ag-grid-enterprise/side-bar",s.RangeSelectionModule="@ag-grid-enterprise/range-selection",s.MasterDetailModule="@ag-grid-enterprise/master-detail",s.RichSelectModule="@ag-grid-enterprise/rich-select",s.GridChartsModule="@ag-grid-enterprise/charts",s.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",s.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",s.ExcelExportModule="@ag-grid-enterprise/excel-export",s.ClipboardModule="@ag-grid-enterprise/clipboard",s.SparklinesModule="@ag-grid-enterprise/sparklines",s.AngularModule="@ag-grid-community/angular",s.ReactModule="@ag-grid-community/react",s.VueModule="@ag-grid-community/vue"})(Ee||(Ee={}));class me{static register(e){me.__register(e,!0,void 0)}static registerModules(e){me.__registerModules(e,!0,void 0)}static __register(e,t,i){me.runVersionChecks(e),i!==void 0?(me.areGridScopedModules=!0,me.gridModulesMap[i]===void 0&&(me.gridModulesMap[i]={}),me.gridModulesMap[i][e.moduleName]=e):me.globalModulesMap[e.moduleName]=e,me.setModuleBased(t)}static __unRegisterGridModules(e){delete me.gridModulesMap[e]}static __registerModules(e,t,i){me.setModuleBased(t),e&&e.forEach(n=>me.__register(n,t,i))}static isValidModuleVersion(e){const[t,i]=e.version.split(".")||[],[n,o]=me.currentModuleVersion.split(".")||[];return t===n&&i===o}static runVersionChecks(e){if(me.currentModuleVersion||(me.currentModuleVersion=e.version),e.version?me.isValidModuleVersion(e)||console.error(`AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '${e.moduleName}' is version ${e.version} but the other modules are version ${this.currentModuleVersion}. Please update all modules to the same version.`):console.error(`AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '${e.moduleName}' is incompatible. Please update all modules to the same version.`),e.validate){const t=e.validate();t.isValid||console.error(`AG Grid: ${t.message}`)}}static setModuleBased(e){me.moduleBased===void 0?me.moduleBased=e:me.moduleBased!==e&&st(()=>{console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")}static __setIsBundled(){me.isBundled=!0}static __assertRegistered(e,t,i){var n;if(this.__isRegistered(e,i))return!0;const o=t+e;let r;if(me.isBundled)r=`AG Grid: unable to use ${t} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:
        
        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>
        
For more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(me.moduleBased||me.moduleBased===void 0){let l=(n=Object.entries(Ee).find(([a,c])=>c===e))===null||n===void 0?void 0:n[0];r=`AG Grid: unable to use ${t} as the ${l} is not registered${me.areGridScopedModules?` for gridId: ${i}`:""}. Check if you have registered the module:
           
    import { ModuleRegistry } from '@ag-grid-community/core';
    import { ${l} } from '${e}';
    
    ModuleRegistry.registerModules([ ${l} ]);

For more info see: https://www.ag-grid.com/javascript-grid/modules/`}else r=`AG Grid: unable to use ${t} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:
            
    import 'ag-grid-enterprise';
            
For more info see: https://www.ag-grid.com/javascript-grid/packages/`;return st(()=>{console.warn(r)},o),!1}static __isRegistered(e,t){var i;return!!me.globalModulesMap[e]||!!(!((i=me.gridModulesMap[t])===null||i===void 0)&&i[e])}static __getRegisteredModules(e){return[...bo(me.globalModulesMap),...bo(me.gridModulesMap[e]||{})]}static __getGridRegisteredModules(e){var t;return bo((t=me.gridModulesMap[e])!==null&&t!==void 0?t:{})||[]}static __isPackageBased(){return!me.moduleBased}}me.globalModulesMap={};me.gridModulesMap={};me.areGridScopedModules=!1;class C1{constructor(e,t){if(this.beanWrappers={},this.destroyed=!1,!e||!e.beanClasses)return;this.contextParams=e,this.logger=t,this.logger.log(">> creating ag-Application Context"),this.createBeans();const i=this.getBeanInstances();this.wireBeans(i),this.logger.log(">> ag-Application Context ready - component is alive")}getBeanInstances(){return bo(this.beanWrappers).map(e=>e.beanInstance)}createBean(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.wireBeans([e],t),e}wireBeans(e,t){this.autoWireBeans(e),this.methodWireBeans(e),this.callLifeCycleMethods(e,"preConstructMethods"),Q(t)&&e.forEach(t),this.callLifeCycleMethods(e,"postConstructMethods")}createBeans(){this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),Rt(this.beanWrappers,(t,i)=>{let n;i.bean.__agBeanMetaData&&i.bean.__agBeanMetaData.autowireMethods&&i.bean.__agBeanMetaData.autowireMethods.agConstructor&&(n=i.bean.__agBeanMetaData.autowireMethods.agConstructor);const o=this.getBeansForParameters(n,i.bean.name),r=new(i.bean.bind.apply(i.bean,[null,...o]));i.beanInstance=r});const e=Object.keys(this.beanWrappers).join(", ");this.logger.log(`created beans: ${e}`)}createBeanWrapper(e){const t=e.__agBeanMetaData;if(!t){let n;e.prototype.constructor?n=eu(e.prototype.constructor):n=""+e,console.error(`Context item ${n} is not a bean`);return}const i={bean:e,beanInstance:null,beanName:t.beanName};this.beanWrappers[t.beanName]=i}autoWireBeans(e){e.forEach(t=>{this.forEachMetaDataInHierarchy(t,(i,n)=>{const o=i.agClassAttributes;o&&o.forEach(r=>{const l=this.lookupBeanInstance(n,r.beanName,r.optional);t[r.attributeName]=l})})})}methodWireBeans(e){e.forEach(t=>{this.forEachMetaDataInHierarchy(t,(i,n)=>{Rt(i.autowireMethods,(o,r)=>{if(o==="agConstructor")return;const l=this.getBeansForParameters(r,n);t[o].apply(t,l)})})})}forEachMetaDataInHierarchy(e,t){let i=Object.getPrototypeOf(e);for(;i!=null;){const n=i.constructor;if(n.hasOwnProperty("__agBeanMetaData")){const o=n.__agBeanMetaData,r=this.getBeanName(n);t(o,r)}i=Object.getPrototypeOf(i)}}getBeanName(e){if(e.__agBeanMetaData&&e.__agBeanMetaData.beanName)return e.__agBeanMetaData.beanName;const t=e.toString();return t.substring(9,t.indexOf("("))}getBeansForParameters(e,t){const i=[];return e&&Rt(e,(n,o)=>{const r=this.lookupBeanInstance(t,o);i[Number(n)]=r}),i}lookupBeanInstance(e,t,i=!1){if(this.destroyed)return this.logger.log(`AG Grid: bean reference ${t} is used after the grid is destroyed!`),null;if(t==="context")return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(t))return this.contextParams.providedBeanInstances[t];const n=this.beanWrappers[t];return n?n.beanInstance:(i||console.error(`AG Grid: unable to find bean reference ${t} while initialising ${e}`),null)}callLifeCycleMethods(e,t){e.forEach(i=>this.callLifeCycleMethodsOnBean(i,t))}callLifeCycleMethodsOnBean(e,t,i){const n={};this.forEachMetaDataInHierarchy(e,r=>{const l=r[t];l&&l.forEach(a=>{a!=i&&(n[a]=!0)})}),Object.keys(n).forEach(r=>e[r]())}getBean(e){return this.lookupBeanInstance("getBean",e,!0)}destroy(){if(this.destroyed)return;this.logger.log(">> Shutting down ag-Application Context");const e=this.getBeanInstances();this.destroyBeans(e),this.contextParams.providedBeanInstances=null,me.__unRegisterGridModules(this.contextParams.gridId),this.destroyed=!0,this.logger.log(">> ag-Application Context shut down - component is dead")}destroyBean(e){e&&this.destroyBeans([e])}destroyBeans(e){return e?(e.forEach(t=>{this.callLifeCycleMethodsOnBean(t,"preDestroyMethods","destroy");const i=t;typeof i.destroy=="function"&&i.destroy()}),[]):[]}isDestroyed(){return this.destroyed}getGridId(){return this.contextParams.gridId}}function ow(s,e,t){const i=Oo(s.constructor);i.preConstructMethods||(i.preConstructMethods=[]),i.preConstructMethods.push(e)}function de(s,e,t){const i=Oo(s.constructor);i.postConstructMethods||(i.postConstructMethods=[]),i.postConstructMethods.push(e)}function hi(s,e,t){const i=Oo(s.constructor);i.preDestroyMethods||(i.preDestroyMethods=[]),i.preDestroyMethods.push(e)}function Se(s){return e=>{const t=Oo(e);t.beanName=s}}function y(s){return(e,t,i)=>{rw(e,s,!1,e,t,null)}}function ht(s){return(e,t,i)=>{rw(e,s,!0,e,t,null)}}function rw(s,e,t,i,n,o){if(e===null){console.error("AG Grid: Autowired name should not be null");return}if(typeof o=="number"){console.error("AG Grid: Autowired should be on an attribute");return}const r=Oo(s.constructor);r.agClassAttributes||(r.agClassAttributes=[]),r.agClassAttributes.push({attributeName:n,beanName:e,optional:t})}function mi(s){return(e,t,i)=>{const n=typeof e=="function"?e:e.constructor;let o;if(typeof i=="number"){let r;t?(o=Oo(n),r=t):(o=Oo(n),r="agConstructor"),o.autowireMethods||(o.autowireMethods={}),o.autowireMethods[r]||(o.autowireMethods[r]={}),o.autowireMethods[r][i]=s}}}function Oo(s){return s.hasOwnProperty("__agBeanMetaData")||(s.__agBeanMetaData={}),s.__agBeanMetaData}var lw=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Ac=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};let Es=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setBeans(e,t,i,n=null){if(this.frameworkOverrides=i,this.gridOptionsService=t,n){const o=t.useAsyncEvents();this.addGlobalListener(n,o)}}getListeners(e,t,i){const n=t?this.allAsyncListeners:this.allSyncListeners;let o=n.get(e);return!o&&i&&(o=new Set,n.set(e,o)),o}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,i=!1){this.getListeners(e,i,!0).add(t)}removeEventListener(e,t,i=!1){const n=this.getListeners(e,i,!1);n&&(n.delete(t),n.size===0&&(i?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){let t=e;if(this.gridOptionsService){const{api:i,columnApi:n,context:o}=this.gridOptionsService;t.api=i,t.columnApi=n,t.context=o}this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const i=e.type;if(t&&"event"in e){const l=e.event;l instanceof Event&&(e.eventPath=l.composedPath())}const n=l=>l.forEach(a=>{t?this.dispatchAsync(()=>a(e)):a(e)}),o=new Set(this.getListeners(i,t,!1));o&&n(o),new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(l=>{t?this.dispatchAsync(()=>this.frameworkOverrides.dispatchEvent(i,()=>l(i,e),!0)):this.frameworkOverrides.dispatchEvent(i,()=>l(i,e),!0)})}dispatchAsync(e){this.asyncFunctionsQueue.push(e),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}};lw([Ac(0,mi("loggerFactory")),Ac(1,mi("gridOptionsService")),Ac(2,mi("frameworkOverrides")),Ac(3,mi("globalEventListener"))],Es.prototype,"setBeans",null);Es=lw([Se("eventService")],Es);var iu=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let y1=0;function aw(){return y1++}class He{constructor(e,t,i,n){this.instanceId=aw(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.filterActive=!1,this.eventService=new Es,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=t,this.colId=i,this.primary=n,this.setState(e)}getInstanceId(){return this.instanceId}setState(e){e.sort!==void 0?(e.sort==="asc"||e.sort==="desc")&&(this.sort=e.sort):(e.initialSort==="asc"||e.initialSort==="desc")&&(this.sort=e.initialSort);const t=Qi(e.sortIndex),i=Qi(e.initialSortIndex);t!==void 0?t!==null&&(this.sortIndex=t):i!==null&&(this.sortIndex=i);const n=Is(e.hide),o=Is(e.initialHide);n!==void 0?this.visible=!n:this.visible=!o,e.pinned!==void 0?this.setPinned(e.pinned):this.setPinned(e.initialPinned);const r=Qi(e.flex),l=Qi(e.initialFlex);r!==void 0?this.flex=r:l!==void 0&&(this.flex=l)}setColDef(e,t){this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged","api"))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(e){this.parent=e}getParent(){return this.parent}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}initialise(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.validate()}initDotNotation(){const e=this.gridOptionsService.is("suppressFieldDotNotation");this.fieldContainsDots=Q(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=Q(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(e),this.maxWidth=this.columnUtils.calculateColMaxWidth(e)}initTooltip(){this.tooltipEnabled=Q(this.colDef.tooltipField)||Q(this.colDef.tooltipValueGetter)||Q(this.colDef.tooltipComponent)}resetActualWidth(e="api"){const t=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){if(Le(this.colDef)||Le(this.colDef.showRowGroup))return!1;const t=this.colDef.showRowGroup===!0,i=this.colDef.showRowGroup===e;return t||i}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}validate(){const e=this.colDef;function t(n,o,r){st(()=>{r?console.warn(n,r):st(()=>console.warn(n),o)},o)}if(this.gridOptionsService.isRowModelType("clientSide")&&!me.__isRegistered(Ee.RowGroupingModule,this.gridOptionsService.getGridId())){const o=["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"].filter(r=>Q(e[r]));o.length>0&&me.__assertRegistered(Ee.RowGroupingModule,o.map(r=>"colDef."+r).join(", "),this.gridOptionsService.getGridId())}if((this.colDef.cellEditor==="agRichSelect"||this.colDef.cellEditor==="agRichSelectCellEditor")&&me.__assertRegistered(Ee.RichSelectModule,this.colDef.cellEditor,this.gridOptionsService.getGridId()),this.gridOptionsService.isTreeData()){const o=["rowGroup","rowGroupIndex","pivot","pivotIndex"].filter(r=>Q(e[r]));o.length>0&&t(`AG Grid: ${o.join()} is not possible when doing tree data, your column definition should not have ${o.join()}`,"TreeDataCannotRowGroup")}if(Q(e.menuTabs))if(Array.isArray(e.menuTabs)){const n=["filterMenuTab"],o=["columnsMenuTab","generalMenuTab"],r=o.filter(l=>e.menuTabs.includes(l));r.length>0&&me.__assertRegistered(Ee.MenuModule,`menuTab(s): ${r.map(l=>`'${l}'`).join()}`,this.gridOptionsService.getGridId()),e.menuTabs.forEach(l=>{!o.includes(l)&&!n.includes(l)&&t(`AG Grid: '${l}' is not valid for 'colDef.menuTabs'. Valid values are: ${[...n,...o].map(a=>`'${a}'`).join()}.`,"wrongValue_menuTabs_"+l)})}else t("AG Grid: The typeof 'colDef.menuTabs' should be an array not:"+typeof e.menuTabs,"wrongType_menuTabs");Q(e.columnsMenuParams)&&me.__assertRegistered(Ee.MenuModule,"columnsMenuParams",this.gridOptionsService.getGridId()),Q(e.columnsMenuParams)&&me.__assertRegistered(Ee.ColumnsToolPanelModule,"columnsMenuParams",this.gridOptionsService.getGridId()),Q(this.colDef.width)&&typeof this.colDef.width!="number"&&t("AG Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck"),Q(e.columnGroupShow)&&e.columnGroupShow!=="closed"&&e.columnGroupShow!=="open"&&t(`AG Grid: '${e.columnGroupShow}' is not valid for columnGroupShow. Valid values are 'open', 'closed', undefined, null`,"columnGroupShow_invalid")}addEventListener(e,t){this.eventService.addEventListener(e,t)}removeEventListener(e,t){this.eventService.removeEventListener(e,t)}createColumnFunctionCallbackParams(e){return{node:e,data:e.data,column:this,colDef:this.colDef,context:this.gridOptionsService.context,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi}}isSuppressNavigable(e){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){const t=this.createColumnFunctionCallbackParams(e),i=this.colDef.suppressNavigable;return i(t)}return!1}isCellEditable(e){return e.group&&!this.gridOptionsService.is("enableGroupEdit")?!1:this.isColumnFunc(e,this.colDef.editable)}isSuppressFillHandle(){return!!Is(this.colDef.suppressFillHandle)}isAutoHeight(){return!!Is(this.colDef.autoHeight)}isAutoHeaderHeight(){return!!Is(this.colDef.autoHeaderHeight)}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){return this.isColumnFunc(e,this.colDef.checkboxSelection)}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!Is(this.colDef.resizable)}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){const i=this.createColumnFunctionCallbackParams(e);return t(i)}return!1}setMoving(e,t="api"){this.moving=e,this.eventService.dispatchEvent(this.createColumnEvent("movingChanged",t))}createColumnEvent(e,t){return{type:e,column:this,columns:[this],source:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}}isMoving(){return this.moving}getSort(){return this.sort}setSort(e,t="api"){this.sort!==e&&(this.sort=e,this.eventService.dispatchEvent(this.createColumnEvent("sortChanged",t))),this.dispatchStateUpdatedEvent("sort")}setMenuVisible(e,t="api"){this.menuVisible!==e&&(this.menuVisible=e,this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",t)))}isMenuVisible(){return this.menuVisible}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return Le(this.sort)}isSorting(){return Q(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(e){this.sortIndex=e,this.dispatchStateUpdatedEvent("sortIndex")}setAggFunc(e){this.aggFunc=e,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t="api"){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.eventService.dispatchEvent(this.createColumnEvent("leftChanged",t)))}isFilterActive(){return this.filterActive}setFilterActive(e,t="api",i){this.filterActive!==e&&(this.filterActive=e,this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",t)));const n=this.createColumnEvent("filterChanged",t);i&&Mi(n,i),this.eventService.dispatchEvent(n)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(e){e===!0||e==="left"?this.pinned="left":e==="right"?this.pinned="right":this.pinned=null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(e,t="api"){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",t)))}setLastLeftPinned(e,t="api"){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",t)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t="api"){const i=e===!0;this.visible!==i&&(this.visible=i,this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged",t))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){const e=this.getColDef();return!e.suppressSpanHeaderHeight&&!e.autoHeaderHeight}getColDef(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getDefinition(){return this.colDef}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return{node:e,data:e.data,colDef:this.colDef,column:this,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}}getColSpan(e){if(Le(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),i=this.colDef.colSpan(t);return Math.max(i,1)}getRowSpan(e){if(Le(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),i=this.colDef.rowSpan(t);return Math.max(i,1)}setActualWidth(e,t="api",i=!1){this.minWidth!=null&&(e=Math.max(e,this.minWidth)),this.maxWidth!=null&&(e=Math.min(e,this.maxWidth)),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),i||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.eventService.dispatchEvent(this.createColumnEvent("widthChanged",e))}isGreaterThanMax(e){return this.maxWidth!=null?e>this.maxWidth:!1}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(e){this.flex!==e&&(this.flex=e),this.dispatchStateUpdatedEvent("flex")}setMinimum(e="api"){Q(this.minWidth)&&this.setActualWidth(this.minWidth,e)}setRowGroupActive(e,t="api"){this.rowGroupActive!==e&&(this.rowGroupActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",t))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(e,t="api"){this.pivotActive!==e&&(this.pivotActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",t))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(e,t="api"){this.aggregationActive!==e&&(this.aggregationActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged",t)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}getMenuTabs(e){let t=this.getColDef().menuTabs;return t==null&&(t=e),t}dispatchStateUpdatedEvent(e){this.eventService.dispatchEvent({type:He.EVENT_STATE_UPDATED,key:e})}}He.EVENT_MOVING_CHANGED="movingChanged";He.EVENT_LEFT_CHANGED="leftChanged";He.EVENT_WIDTH_CHANGED="widthChanged";He.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged";He.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged";He.EVENT_VISIBLE_CHANGED="visibleChanged";He.EVENT_FILTER_CHANGED="filterChanged";He.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged";He.EVENT_SORT_CHANGED="sortChanged";He.EVENT_COL_DEF_CHANGED="colDefChanged";He.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged";He.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged";He.EVENT_PIVOT_CHANGED="columnPivotChanged";He.EVENT_VALUE_CHANGED="columnValueChanged";He.EVENT_STATE_UPDATED="columnStateUpdated";iu([y("gridOptionsService")],He.prototype,"gridOptionsService",void 0);iu([y("columnUtils")],He.prototype,"columnUtils",void 0);iu([y("columnHoverService")],He.prototype,"columnHoverService",void 0);iu([de],He.prototype,"initialise",null);var w1=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class gt{constructor(e,t,i,n){this.localEventService=new Es,this.expandable=!1,this.instanceId=aw(),this.expandableListenerRemoveCallback=null,this.colGroupDef=e,this.groupId=t,this.expanded=!!e&&!!e.openByDefault,this.padding=i,this.level=n}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0)}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e;const t={type:gt.EVENT_EXPANDED_CHANGED};this.localEventService.dispatchEvent(t)}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach(t=>{t instanceof He?e.push(t):t instanceof gt&&t.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,i=!1;const n=this.findChildrenRemovingPadding();for(let r=0,l=n.length;r<l;r++){const a=n[r];if(!a.isVisible())continue;const c=a.getColumnGroupShow();c==="open"?(e=!0,i=!0):c==="closed"?(t=!0,i=!0):(e=!0,t=!0)}const o=e&&t&&i;if(this.expandable!==o){this.expandable=o;const r={type:gt.EVENT_EXPANDABLE_CHANGED};this.localEventService.dispatchEvent(r)}}findChildrenRemovingPadding(){const e=[],t=i=>{i.forEach(n=>{n instanceof gt&&n.isPadding()?t(n.children):e.push(n)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}}gt.EVENT_EXPANDED_CHANGED="expandedChanged";gt.EVENT_EXPANDABLE_CHANGED="expandableChanged";w1([hi],gt.prototype,"destroy",null);const S1={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function cw(...s){for(let e=0;e<s.length;e++){const t=s[e];if(Q(t))return t}return null}function b1(s){return s!=null&&s.length>0}function ft(s){if(!(!s||!s.length))return s[s.length-1]}function In(s,e,t){return s==null&&e==null?!0:s!=null&&e!=null&&s.length===e.length&&s.every((i,n)=>t?t(i,e[n]):e[n]===i)}function E1(s,e){return In(s,e)}function dw(s){return s.sort((e,t)=>e-t)}function R1(s,e){if(s)for(let t=s.length-2;t>=0;t--){const i=s[t]===e,n=s[t+1]===e;i&&n&&s.splice(t+1,1)}}function Xt(s,e){const t=s.indexOf(e);t>=0&&s.splice(t,1)}function Tf(s,e){e.forEach(t=>Xt(s,t))}function Zl(s,e,t){s.splice(t,0,e)}function T1(s,e,t){if(!(s==null||e==null))for(let i=e.length-1;i>=0;i--){const n=e[i];Zl(s,n,t)}}function gp(s,e,t){Tf(s,e),e.slice().reverse().forEach(i=>Zl(s,i,t))}function Zi(s,e){return s.indexOf(e)>-1}function uw(s){return[].concat.apply([],s)}function mp(s,e){e==null||s==null||e.forEach(t=>s.push(t))}function D1(s){return s.map(Jl)}function O1(s,e){if(s!=null)for(let t=s.length-1;t>=0;t--)e(s[t],t)}const _1=Object.freeze(Object.defineProperty({__proto__:null,areEqual:In,existsAndNotEmpty:b1,firstExistingValue:cw,flatten:uw,forEachReverse:O1,includes:Zi,insertArrayIntoArray:T1,insertIntoArray:Zl,last:ft,moveInArray:gp,pushAll:mp,removeAllFromArray:Tf,removeFromArray:Xt,removeRepeatsFromArray:R1,shallowCompare:E1,sortNumerically:dw,toStrings:D1},Symbol.toStringTag,{value:"Module"})),hw="__ag_Grid_Stop_Propagation",P1=["touchstart","touchend","touchmove","touchcancel","scroll"],Dh={};function gn(s){s[hw]=!0}function ks(s){return s[hw]===!0}const Df=(()=>{const s={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return t=>{if(typeof Dh[t]=="boolean")return Dh[t];const i=document.createElement(s[t]||"div");return t="on"+t,Dh[t]=t in i}})();function cd(s,e,t){let i=e;for(;i;){const n=s.getDomData(i,t);if(n)return n;i=i.parentElement}return null}function dd(s,e){return!e||!s?!1:fw(e).indexOf(s)>=0}function pw(s){const e=[];let t=s.target;for(;t;)e.push(t),t=t.parentElement;return e}function fw(s){const e=s;return e.path?e.path:e.composedPath?e.composedPath():pw(e)}function gw(s,e,t,i){const o=Zi(P1,t)?{passive:!0}:void 0;s&&s.addEventListener&&s.addEventListener(e,t,i,o)}const A1=Object.freeze(Object.defineProperty({__proto__:null,addSafePassiveEventListener:gw,createEventPath:pw,getCtrlForEventTarget:cd,getEventPath:fw,isElementInEventPath:dd,isEventSupported:Df,isStopPropagationForAgGrid:ks,stopPropagationForAgGrid:gn},Symbol.toStringTag,{value:"Module"}));var Io=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class ee{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.isAlive=()=>!this.destroyed}getFrameworkOverrides(){return this.frameworkOverrides}getContext(){return this.context}destroy(){this.destroyFunctions.forEach(e=>e()),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:ee.EVENT_DESTROYED})}addEventListener(e,t){this.localEventService||(this.localEventService=new Es),this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService&&this.localEventService.removeEventListener(e,t)}dispatchEventAsync(e){window.setTimeout(()=>this.dispatchEvent(e),0)}dispatchEvent(e){this.localEventService&&this.localEventService.dispatchEvent(e)}addManagedListener(e,t,i){if(this.destroyed)return;e instanceof HTMLElement?gw(this.getFrameworkOverrides(),e,t,i):e.addEventListener(t,i);const n=()=>(e.removeEventListener(t,i),this.destroyFunctions=this.destroyFunctions.filter(o=>o!==n),null);return this.destroyFunctions.push(n),n}addManagedPropertyListener(e,t){if(this.destroyed)return;this.gridOptionsService.addEventListener(e,t);const i=()=>(this.gridOptionsService.removeEventListener(e,t),this.destroyFunctions=this.destroyFunctions.filter(n=>n!==i),null);return this.destroyFunctions.push(i),i}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createManagedBean(e,t){const i=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),i}createBean(e,t,i){return(t||this.getContext()).createBean(e,i)}destroyBean(e,t){return(t||this.getContext()).destroyBean(e)}destroyBeans(e,t){return e&&e.forEach(i=>this.destroyBean(i,t)),[]}}ee.EVENT_DESTROYED="destroyed";Io([y("frameworkOverrides")],ee.prototype,"frameworkOverrides",void 0);Io([y("context")],ee.prototype,"context",void 0);Io([y("eventService")],ee.prototype,"eventService",void 0);Io([y("gridOptionsService")],ee.prototype,"gridOptionsService",void 0);Io([y("localeService")],ee.prototype,"localeService",void 0);Io([y("environment")],ee.prototype,"environment",void 0);Io([hi],ee.prototype,"destroy",null);var su=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},F1=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};let br=class extends ee{setBeans(e){this.logger=e.create("ColumnFactory")}createColumnTree(e,t,i){const n=new a1,{existingCols:o,existingGroups:r,existingColKeys:l}=this.extractExistingTreeData(i);n.addExistingKeys(l);const a=this.recursivelyCreateColumns(e,0,t,o,n,r),c=this.findMaxDept(a,0);this.logger.log("Number of levels for grouped columns is "+c);const d=this.balanceColumnTree(a,0,c,n),u=(h,p)=>{h instanceof gt&&h.setupExpandable(),h.setOriginalParent(p)};return this.columnUtils.depthFirstOriginalTreeSearch(null,d,u),{columnTree:d,treeDept:c}}extractExistingTreeData(e){const t=[],i=[],n=[];return e&&this.columnUtils.depthFirstOriginalTreeSearch(null,e,o=>{if(o instanceof gt){const r=o;i.push(r)}else{const r=o;n.push(r.getId()),t.push(r)}}),{existingCols:t,existingGroups:i,existingColKeys:n}}createForAutoGroups(e,t){return e.map(i=>this.createAutoGroupTreeItem(t,i))}createAutoGroupTreeItem(e,t){const i=this.findDepth(e);let n=t;for(let o=i-1;o>=0;o--){const r=new gt(null,`FAKE_PATH_${t.getId()}}_${o}`,!0,o);this.createBean(r),r.setChildren([n]),n.setOriginalParent(r),n=r}return n}findDepth(e){let t=0,i=e;for(;i&&i[0]&&i[0]instanceof gt;)t++,i=i[0].getChildren();return t}balanceColumnTree(e,t,i,n){const o=[];for(let r=0;r<e.length;r++){const l=e[r];if(l instanceof gt){const a=l,c=this.balanceColumnTree(a.getChildren(),t+1,i,n);a.setChildren(c),o.push(a)}else{let a,c;for(let d=i-1;d>=t;d--){const u=n.getUniqueKey(null,null),h=this.createMergedColGroupDef(null),p=new gt(h,u,!0,t);this.createBean(p),c&&c.setChildren([p]),c=p,a||(a=c)}if(a&&c)if(o.push(a),e.some(u=>u instanceof gt)){c.setChildren([l]);continue}else{c.setChildren(e);break}o.push(l)}}return o}findMaxDept(e,t){let i=t;for(let n=0;n<e.length;n++){const o=e[n];if(o instanceof gt){const r=o,l=this.findMaxDept(r.getChildren(),t+1);i<l&&(i=l)}}return i}recursivelyCreateColumns(e,t,i,n,o,r){return(e||[]).map(l=>this.isColumnGroup(l)?this.createColumnGroup(i,l,t,n,o,r):this.createColumn(i,l,n,o))}createColumnGroup(e,t,i,n,o,r){const l=this.createMergedColGroupDef(t),a=o.getUniqueKey(l.groupId||null,null),c=new gt(l,a,!1,i);this.createBean(c);const d=this.findExistingGroup(t,r);d&&Xt(r,d),d&&d.isExpanded()&&c.setExpanded(!0);const u=this.recursivelyCreateColumns(l.children,i+1,e,n,o,r);return c.setChildren(u),c}createMergedColGroupDef(e){const t={};return Object.assign(t,this.gridOptionsService.get("defaultColGroupDef")),Object.assign(t,e),t}createColumn(e,t,i,n){let o=this.findExistingColumn(t,i);if(i&&o&&Xt(i,o),o){const r=this.mergeColDefs(t,o.getColId());o.setColDef(r,t),this.applyColumnState(o,r)}else{const r=n.getUniqueKey(t.colId,t.field),l=this.mergeColDefs(t,r);o=new He(l,t,r,e),this.context.createBean(o)}return this.dataTypeService.addColumnListeners(o),o}applyColumnState(e,t){const i=Qi(t.flex);if(i!==void 0&&e.setFlex(i),e.getFlex()<=0){const l=Qi(t.width);if(l!=null)e.setActualWidth(l);else{const a=e.getActualWidth();e.setActualWidth(a)}}t.sort!==void 0&&(t.sort=="asc"||t.sort=="desc"?e.setSort(t.sort):e.setSort(void 0));const o=Qi(t.sortIndex);o!==void 0&&e.setSortIndex(o);const r=Is(t.hide);r!==void 0&&e.setVisible(!r),t.pinned!==void 0&&e.setPinned(t.pinned)}findExistingColumn(e,t){return(t||[]).find(i=>{const n=i.getUserProvidedColDef();if(!n)return!1;const o=e.colId!=null,r=e.field!=null;return o?i.getId()===e.colId:r?n.field===e.field:n===e})}findExistingGroup(e,t){return t.find(i=>i.getColGroupDef()&&e.groupId!=null?i.getId()===e.groupId:!1)}mergeColDefs(e,t){const i={},n=this.gridOptionsService.get("defaultColDef");Mi(i,n,!1,!0);const o=this.dataTypeService.updateColDefAndGetColumnType(i,e,t);o&&this.assignColumnTypes(o,i),Mi(i,e,!1,!0);const r=this.gridOptionsService.get("autoGroupColumnDef"),l=this.gridOptionsService.isColumnsSortingCoupledToGroup();return e.rowGroup&&r&&l&&Mi(i,{sort:r.sort,initialSort:r.initialSort},!1,!0),this.dataTypeService.validateColDef(i),i}assignColumnTypes(e,t){if(!e.length)return;const i=Object.assign({},S1),n=this.gridOptionsService.get("columnTypes")||{};Rt(n,(o,r)=>{o in i?console.warn(`AG Grid: the column type '${o}' is a default column type and cannot be overridden.`):i[o]=r}),e.forEach(o=>{const r=i[o.trim()];r?Mi(t,r,!1,!0):console.warn("AG Grid: colDef.type '"+o+"' does not correspond to defined gridOptions.columnTypes")})}isColumnGroup(e){return e.children!==void 0}};su([y("columnUtils")],br.prototype,"columnUtils",void 0);su([y("dataTypeService")],br.prototype,"dataTypeService",void 0);su([F1(0,mi("loggerFactory"))],br.prototype,"setBeans",null);br=su([Se("columnFactory")],br);var M1=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class wt{constructor(e,t,i,n){this.displayedChildren=[],this.localEventService=new Es,this.groupId=t,this.partId=i,this.providedColumnGroup=e,this.pinned=n}static createUniqueId(e,t){return e+"_"+t}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(e){this.parent=e}getUniqueId(){return wt.createUniqueId(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{e instanceof wt&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsService.is("enableRtl")){const t=ft(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=e,this.left!==e&&(this.left=e,this.localEventService.dispatchEvent(this.createAgEvent(wt.EVENT_LEFT_CHANGED)))}getPinned(){return this.pinned}createAgEvent(e){return{type:e}}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}getGroupId(){return this.groupId}getPartId(){return this.partId}isChildInThisGroupDeepSearch(e){let t=!1;return this.children.forEach(i=>{e===i&&(t=!0),i instanceof wt&&i.isChildInThisGroupDeepSearch(e)&&(t=!0)}),t}getActualWidth(){let e=0;return this.displayedChildren&&this.displayedChildren.forEach(t=>{e+=t.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()||0}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{t instanceof He?e.push(t):t instanceof wt&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{t instanceof He?e.push(t):t instanceof wt&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.providedColumnGroup.isExpandable():!1)){this.displayedChildren=this.children,this.localEventService.dispatchEvent(this.createAgEvent(wt.EVENT_DISPLAYED_CHILDREN_CHANGED));return}this.children.forEach(i=>{if(i instanceof wt&&(!i.displayedChildren||!i.displayedChildren.length))return;switch(i.getColumnGroupShow()){case"open":e.providedColumnGroup.isExpanded()&&this.displayedChildren.push(i);break;case"closed":e.providedColumnGroup.isExpanded()||this.displayedChildren.push(i);break;default:this.displayedChildren.push(i);break}}),this.localEventService.dispatchEvent(this.createAgEvent(wt.EVENT_DISPLAYED_CHILDREN_CHANGED))}}wt.EVENT_LEFT_CHANGED="leftChanged";wt.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged";M1([y("gridOptionsService")],wt.prototype,"gridOptionsService",void 0);class m{}m.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged";m.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded";m.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged";m.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged";m.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll";m.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged";m.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged";m.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged";m.EVENT_COLUMN_MOVED="columnMoved";m.EVENT_COLUMN_VISIBLE="columnVisible";m.EVENT_COLUMN_PINNED="columnPinned";m.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened";m.EVENT_COLUMN_RESIZED="columnResized";m.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged";m.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged";m.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed";m.EVENT_ROW_GROUP_OPENED="rowGroupOpened";m.EVENT_ROW_DATA_CHANGED="rowDataChanged";m.EVENT_ROW_DATA_UPDATED="rowDataUpdated";m.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged";m.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged";m.EVENT_CHART_CREATED="chartCreated";m.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged";m.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged";m.EVENT_CHART_DESTROYED="chartDestroyed";m.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged";m.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged";m.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart";m.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd";m.EVENT_MODEL_UPDATED="modelUpdated";m.EVENT_CUT_START="cutStart";m.EVENT_CUT_END="cutEnd";m.EVENT_PASTE_START="pasteStart";m.EVENT_PASTE_END="pasteEnd";m.EVENT_FILL_START="fillStart";m.EVENT_FILL_END="fillEnd";m.EVENT_RANGE_DELETE_START="rangeDeleteStart";m.EVENT_RANGE_DELETE_END="rangeDeleteEnd";m.EVENT_UNDO_STARTED="undoStarted";m.EVENT_UNDO_ENDED="undoEnded";m.EVENT_REDO_STARTED="redoStarted";m.EVENT_REDO_ENDED="redoEnded";m.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart";m.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd";m.EVENT_CELL_CLICKED="cellClicked";m.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked";m.EVENT_CELL_MOUSE_DOWN="cellMouseDown";m.EVENT_CELL_CONTEXT_MENU="cellContextMenu";m.EVENT_CELL_VALUE_CHANGED="cellValueChanged";m.EVENT_CELL_EDIT_REQUEST="cellEditRequest";m.EVENT_ROW_VALUE_CHANGED="rowValueChanged";m.EVENT_CELL_FOCUSED="cellFocused";m.EVENT_CELL_FOCUS_CLEARED="cellFocusCleared";m.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused";m.EVENT_ROW_SELECTED="rowSelected";m.EVENT_SELECTION_CHANGED="selectionChanged";m.EVENT_CELL_KEY_DOWN="cellKeyDown";m.EVENT_CELL_MOUSE_OVER="cellMouseOver";m.EVENT_CELL_MOUSE_OUT="cellMouseOut";m.EVENT_FILTER_CHANGED="filterChanged";m.EVENT_FILTER_MODIFIED="filterModified";m.EVENT_FILTER_OPENED="filterOpened";m.EVENT_SORT_CHANGED="sortChanged";m.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved";m.EVENT_ROW_CLICKED="rowClicked";m.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked";m.EVENT_GRID_READY="gridReady";m.EVENT_GRID_SIZE_CHANGED="gridSizeChanged";m.EVENT_VIEWPORT_CHANGED="viewportChanged";m.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged";m.EVENT_FIRST_DATA_RENDERED="firstDataRendered";m.EVENT_DRAG_STARTED="dragStarted";m.EVENT_DRAG_STOPPED="dragStopped";m.EVENT_CHECKBOX_CHANGED="checkboxChanged";m.EVENT_ROW_EDITING_STARTED="rowEditingStarted";m.EVENT_ROW_EDITING_STOPPED="rowEditingStopped";m.EVENT_CELL_EDITING_STARTED="cellEditingStarted";m.EVENT_CELL_EDITING_STOPPED="cellEditingStopped";m.EVENT_BODY_SCROLL="bodyScroll";m.EVENT_BODY_SCROLL_END="bodyScrollEnd";m.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged";m.EVENT_PAGINATION_CHANGED="paginationChanged";m.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged";m.EVENT_STORE_REFRESHED="storeRefreshed";m.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged";m.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged";m.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged";m.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged";m.EVENT_FLASH_CELLS="flashCells";m.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged";m.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged";m.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged";m.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged";m.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged";m.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged";m.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged";m.EVENT_ROW_DRAG_ENTER="rowDragEnter";m.EVENT_ROW_DRAG_MOVE="rowDragMove";m.EVENT_ROW_DRAG_LEAVE="rowDragLeave";m.EVENT_ROW_DRAG_END="rowDragEnd";m.EVENT_GRID_STYLES_CHANGED="gridStylesChanged";m.EVENT_POPUP_TO_FRONT="popupToFront";m.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest";m.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest";m.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest";m.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest";m.EVENT_KEYBOARD_FOCUS="keyboardFocus";m.EVENT_MOUSE_FOCUS="mouseFocus";m.EVENT_STORE_UPDATED="storeUpdated";m.EVENT_FILTER_DESTROYED="filterDestroyed";m.EVENT_ROW_DATA_UPDATE_STARTED="rowDataUpdateStarted";class L1{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let i;return typeof t!="number"?i=0:i=t+1,this.existingIds[e]=i,i}}var Of=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};const ea="ag-Grid-AutoColumn";let ta=class extends ee{createAutoGroupColumns(e,t){const i=[],n=this.gridOptionsService.isTreeData();let o=this.gridOptionsService.isGroupMultiAutoColumn();return n&&o&&(console.warn('AG Grid: you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data'),o=!1),o?t.forEach((r,l)=>{i.push(this.createOneAutoGroupColumn(e,r,l))}):i.push(this.createOneAutoGroupColumn(e)),i}createOneAutoGroupColumn(e,t,i){let n=this.generateDefaultColDef(t),o;t?o=`${ea}-${t.getId()}`:o=ea;const r=this.gridOptionsService.get("autoGroupColumnDef");Mi(n,r),n=this.columnFactory.mergeColDefs(n,o),n.colId=o,this.gridOptionsService.isTreeData()||Le(n.field)&&Le(n.valueGetter)&&Le(n.filterValueGetter)&&n.filter!=="agGroupColumnFilter"&&(n.filter=!1),i&&i>0&&(n.headerCheckboxSelection=!1);const l=e.find(d=>d.getId()==o),a=this.gridOptionsService.isColumnsSortingCoupledToGroup();if(l)return a&&(n.sort=void 0,n.sortIndex=void 0),l.setColDef(n,null),this.columnFactory.applyColumnState(l,n),l;a&&(n.sort||n.initialSort||"sortIndex"in n)&&!n.field&&(n.sort=null,n.sortIndex=null,n.initialSort=null);const c=new He(n,null,o,!0);return this.context.createBean(c),c}generateDefaultColDef(e){const t=this.gridOptionsService.get("autoGroupColumnDef"),n={headerName:this.localeService.getLocaleTextFunc()("group","Group")};if(t&&(t.cellRenderer||t.cellRendererSelector)||(n.cellRenderer="agGroupCellRenderer"),e){const r=e.getColDef();Object.assign(n,{headerName:this.columnModel.getDisplayNameForColumn(e,"header"),headerValueGetter:r.headerValueGetter}),r.cellRenderer&&Object.assign(n,{cellRendererParams:{innerRenderer:r.cellRenderer,innerRendererParams:r.cellRendererParams}}),n.showRowGroup=e.getColId()}else n.showRowGroup=!0;return n}};Of([y("columnModel")],ta.prototype,"columnModel",void 0);Of([y("columnFactory")],ta.prototype,"columnFactory",void 0);ta=Of([Se("autoGroupColService")],ta);const I1=/[&<>"']/g,N1={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function x1(s){const e=String.fromCharCode;function t(u){const h=[];if(!u)return[];const p=u.length;let g=0,f,v;for(;g<p;)f=u.charCodeAt(g++),f>=55296&&f<=56319&&g<p?(v=u.charCodeAt(g++),(v&64512)==56320?h.push(((f&1023)<<10)+(v&1023)+65536):(h.push(f),g--)):h.push(f);return h}function i(u){if(u>=55296&&u<=57343)throw Error("Lone surrogate U+"+u.toString(16).toUpperCase()+" is not a scalar value")}function n(u,h){return e(u>>h&63|128)}function o(u){if(u>=0&&u<=31&&u!==10)return`_x${u.toString(16).toUpperCase().padStart(4,"0")}_`;if(!(u&4294967168))return e(u);let h="";return u&4294965248?u&4294901760?u&4292870144||(h=e(u>>18&7|240),h+=n(u,12),h+=n(u,6)):(i(u),h=e(u>>12&15|224),h+=n(u,6)):h=e(u>>6&31|192),h+=e(u&63|128),h}const r=t(s),l=r.length;let a=-1,c,d="";for(;++a<l;)c=r[a],d+=o(c);return d}function mw(s){return s[0].toUpperCase()+s.substr(1).toLowerCase()}function js(s,e){if(s==null)return null;const t=s.toString().toString();return e?t:t.replace(I1,i=>N1[i])}function vw(s){if(!s||s==null)return null;const e=/([a-z])([A-Z])/g,t=/([A-Z]+)([A-Z])([a-z])/g;return s.replace(e,"$1 $2").replace(t,"$1 $2$3").replace(/\./g," ").split(" ").map(n=>n.substring(0,1).toUpperCase()+(n.length>1?n.substring(1,n.length):"")).join(" ")}function Cw(s){return s.replace(/[A-Z]/g,e=>`-${e.toLocaleLowerCase()}`)}const G1=Object.freeze(Object.defineProperty({__proto__:null,camelCaseToHumanText:vw,camelCaseToHyphenated:Cw,capitalise:mw,escapeString:js,utf8_encode:x1},Symbol.toStringTag,{value:"Module"}));function an(s){const e=new Map;return s.forEach(t=>e.set(t[0],t[1])),e}function V1(s,e){const t=new Map;return s.forEach(i=>t.set(e(i),i)),t}function H1(s){const e=[];return s.forEach((t,i)=>e.push(i)),e}const k1=Object.freeze(Object.defineProperty({__proto__:null,convertToMap:an,keys:H1,mapById:V1},Symbol.toStringTag,{value:"Module"}));class ud{}ud.ColDefPropertyMap={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0};ud.ALL_PROPERTIES=Object.keys(ud.ColDefPropertyMap);class St{}St.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","serverSideStoreType","groupDisplayType","treeDataDisplayType","colResizeDefault"];St.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions"];St.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass"];St.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"];St.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHorizontalScroll","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSelectsChildren","groupIncludeFooter","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","excludeHiddenColumnsFromQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDown","enterMovesDownAfterEdit","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","enableChartToolPanelsButton","suppressChartToolPanelsButton","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilteringAlwaysResets","serverSideFilterAllLevels","serverSideSortingAlwaysResets","serverSideSortAllLevels","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","suppressReactUi","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","suppressCutToClipboard"];St.FUNCTIONAL_PROPERTIES=["doesExternalFilterPass","processSecondaryColDef","processSecondaryColGroupDef","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer"];St.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideStoreParams","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","groupAggFiltering"];St.FUNCTION_PROPERTIES=[...St.FUNCTIONAL_PROPERTIES,...St.CALLBACK_PROPERTIES];St.ALL_PROPERTIES=[...St.ARRAY_PROPERTIES,...St.OBJECT_PROPERTIES,...St.STRING_PROPERTIES,...St.NUMBER_PROPERTIES,...St.FUNCTION_PROPERTIES,...St.BOOLEAN_PROPERTIES];class Ke{static getCallbackForEvent(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substr(1)}static getCoercionLookup(){let e={};return[...Ke.ARRAY_PROPERTIES,...Ke.OBJECT_PROPERTIES,...Ke.STRING_PROPERTIES,...Ke.FUNCTION_PROPERTIES,...Ke.EVENT_CALLBACKS].forEach(t=>e[t]="none"),Ke.BOOLEAN_PROPERTIES.forEach(t=>e[t]="boolean"),Ke.NUMBER_PROPERTIES.forEach(t=>e[t]="number"),e}static getValue(e,t){const i=Ke.coercionLookup[e];if(i){let n=t;switch(i){case"number":{n=Ke.toNumber(t);break}case"boolean":{n=Ke.toBoolean(t);break}case"none":{e==="groupAggFiltering"&&typeof t!="function"&&(n=Ke.toBoolean(t));break}}return n}}static getGridOptionKeys(e,t){return Object.keys(t?Ke.coercionLookup:e)}static copyAttributesToGridOptions(e,t,i=!1){typeof e!="object"&&(e={});const n=e;return Ke.getGridOptionKeys(t,i).forEach(r=>{const l=t[r];if(typeof l<"u"){const a=Ke.getValue(r,l);a!==void 0&&(n[r]=a)}}),e}static processOnChange(e,t){if(!e||Object.keys(e).length===0)return;const i=Object.assign({},e);i.columnTypes&&(t.setColumnTypes(i.columnTypes.currentValue,"gridOptionsChanged"),delete i.columnTypes),i.autoGroupColumnDef&&(t.setAutoGroupColumnDef(i.autoGroupColumnDef.currentValue,"gridOptionsChanged"),delete i.autoGroupColumnDef),i.defaultColDef&&(t.setDefaultColDef(i.defaultColDef.currentValue,"gridOptionsChanged"),delete i.defaultColDef),i.columnDefs&&(t.setColumnDefs(i.columnDefs.currentValue,"gridOptionsChanged"),delete i.columnDefs),Object.keys(i).forEach(o=>{const r=o,l=Ke.getValue(r,i[r].currentValue);t.__setProperty(r,l)});const n={type:m.EVENT_COMPONENT_STATE_CHANGED};Rt(e,(o,r)=>{n[o]=r}),t.dispatchEvent(n)}static toBoolean(e){return typeof e=="boolean"?e:typeof e=="string"?e.toUpperCase()==="TRUE"||e=="":!1}static toNumber(e){if(typeof e=="number")return e;if(typeof e=="string")return Number(e)}}Ke.EVENTS=bo(m);Ke.EXCLUDED_INTERNAL_EVENTS=[m.EVENT_SCROLLBAR_WIDTH_CHANGED,m.EVENT_CHECKBOX_CHANGED,m.EVENT_HEIGHT_SCALE_CHANGED,m.EVENT_BODY_HEIGHT_CHANGED,m.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,m.EVENT_SCROLL_VISIBILITY_CHANGED,m.EVENT_COLUMN_HOVER_CHANGED,m.EVENT_FLASH_CELLS,m.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,m.EVENT_DISPLAYED_ROWS_CHANGED,m.EVENT_LEFT_PINNED_WIDTH_CHANGED,m.EVENT_RIGHT_PINNED_WIDTH_CHANGED,m.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,m.EVENT_POPUP_TO_FRONT,m.EVENT_KEYBOARD_FOCUS,m.EVENT_MOUSE_FOCUS,m.EVENT_STORE_UPDATED,m.EVENT_COLUMN_PANEL_ITEM_DRAG_START,m.EVENT_COLUMN_PANEL_ITEM_DRAG_END,m.EVENT_FILL_START,m.EVENT_FILL_END,m.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,m.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,m.EVENT_FULL_WIDTH_ROW_FOCUSED,m.EVENT_HEADER_HEIGHT_CHANGED,m.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,m.EVENT_CELL_FOCUS_CLEARED,m.EVENT_GRID_STYLES_CHANGED,m.EVENT_FILTER_DESTROYED,m.EVENT_ROW_DATA_UPDATE_STARTED];Ke.PUBLIC_EVENTS=Ke.EVENTS.filter(s=>!Zi(Ke.EXCLUDED_INTERNAL_EVENTS,s));Ke.EVENT_CALLBACKS=Ke.EVENTS.map(s=>Ke.getCallbackForEvent(s));Ke.STRING_PROPERTIES=St.STRING_PROPERTIES;Ke.OBJECT_PROPERTIES=St.OBJECT_PROPERTIES;Ke.ARRAY_PROPERTIES=St.ARRAY_PROPERTIES;Ke.NUMBER_PROPERTIES=St.NUMBER_PROPERTIES;Ke.BOOLEAN_PROPERTIES=St.BOOLEAN_PROPERTIES;Ke.FUNCTION_PROPERTIES=St.FUNCTION_PROPERTIES;Ke.ALL_PROPERTIES=St.ALL_PROPERTIES;Ke.ALL_PROPERTIES_SET=new Set(St.ALL_PROPERTIES);Ke.coercionLookup=Ke.getCoercionLookup();function yw(s,e,t){const i={},n=s.filter(o=>!e.some(r=>r===o));return n.length>0&&n.forEach(o=>i[o]=_f(o,t)),i}function _f(s,e,t,i){let n=e.map(o=>({value:o,relevance:B1(s.toLowerCase(),o.toLocaleLowerCase())}));if(n.sort((o,r)=>r.relevance-o.relevance),t&&(n=n.filter(o=>o.relevance!==0)),i&&i>0){const r=n[0].relevance*i;n=n.filter(l=>r-l.relevance<0)}return n.map(o=>o.value)}function B1(s,e){const t=s.replace(/\s/g,""),i=e.replace(/\s/g,"");let n=0,o=-1;for(let r=0;r<t.length;r++){const l=i.indexOf(t[r],o+1);l!==-1&&(o=l,n+=100-o*100/1e4*100)}return n}const $1=Object.freeze(Object.defineProperty({__proto__:null,fuzzyCheckStrings:yw,fuzzySuggestions:_f},Symbol.toStringTag,{value:"Module"}));var nu=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};function qi(s,e,t,i){const n=t?`Please use '${t}' instead. `:"";st(()=>console.warn(`AG Grid: since v${s}, '${e}' is deprecated. ${n}${i??""}`),`Deprecated_${e}`)}const Mv=["__ob__","__v_skip","__metadata__"];let Er=class{constructor(){this.deprecatedProperties={rememberGroupStateWhenNewData:{version:"24",message:"Now that transaction updates are possible and they keep group state, this feature is no longer needed."},serverSideFilteringAlwaysResets:{version:"28.0",newProp:"serverSideOnlyRefreshFilteredGroups",copyToNewProp:!0},serverSideSortingAlwaysResets:{version:"28.0",newProp:"serverSideSortAllLevels",copyToNewProp:!0},suppressReactUi:{version:"28",message:"The legacy React rendering engine is deprecated and will be removed in the next major version of the grid."},processSecondaryColDef:{version:"28",newProp:"processPivotResultColDef",copyToNewProp:!0},processSecondaryColGroupDef:{version:"28",newProp:"processPivotResultColGroupDef",copyToNewProp:!0},getServerSideStoreParams:{version:"28",newProp:"getServerSideGroupLevelParams",copyToNewProp:!0},serverSideInfiniteScroll:{version:"29",message:"Infinite Scrolling is now the default behaviour. This can be suppressed with `suppressServerSideInfiniteScroll`."},enableChartToolPanelsButton:{version:"29",message:"The Chart Tool Panels button is now enabled by default. To hide the Chart Tool Panels button and display the hamburger button instead, set suppressChartToolPanelsButton=true."},functionsPassive:{version:"29.2"},onColumnRowGroupChangeRequest:{version:"29.2"},onColumnPivotChangeRequest:{version:"29.2"},onColumnValueChangeRequest:{version:"29.2"},onColumnAggFuncChangeRequest:{version:"29.2"},serverSideFilterAllLevels:{version:"30",message:"All server-side group levels are now filtered by default. This can be toggled using `serverSideOnlyRefreshFilteredGroups`."},suppressAggAtRootLevel:{version:"30",message:"The root level aggregation is now suppressed by default. This can be toggled using  `alwaysAggregateAtRootLevel`."},excludeHiddenColumnsFromQuickFilter:{version:"30",message:"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `includeHiddenColumnsInQuickFilter`."},enterMovesDown:{version:"30",newProp:"enterNavigatesVertically",copyToNewProp:!0},enterMovesDownAfterEdit:{version:"30",newProp:"enterNavigatesVerticallyAfterEdit",copyToNewProp:!0}}}pickOneWarning(e,t){console.warn(`AG Grid: ${e} and ${t} do not work with each other, you need to pick one.`)}init(){if(this.checkForDeprecated(),this.checkForViolations(),this.gridOptions.suppressPropertyNamesCheck!==!0&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),this.checkColumnDefViolations(),this.gridOptionsService.is("groupSelectsChildren")&&this.gridOptionsService.is("suppressParentsInRowNodes")&&console.warn("AG Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.gridOptionsService.is("groupSelectsChildren")&&this.gridOptionsService.get("rowSelection")!=="multiple"&&console.warn("AG Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.gridOptionsService.is("groupRemoveSingleChildren")&&this.gridOptionsService.is("groupHideOpenParents")&&this.pickOneWarning("groupRemoveSingleChildren","groupHideOpenParents"),this.gridOptionsService.isRowModelType("serverSide")){const t=(i,n)=>`AG Grid: '${i}' is not supported on the Server-Side Row Model.`+(n?` Please use ${n} instead.`:"");this.gridOptionsService.exists("groupDefaultExpanded")&&console.warn(t("groupDefaultExpanded","isServerSideGroupOpenByDefault callback")),this.gridOptionsService.exists("groupIncludeFooter")&&this.gridOptionsService.is("suppressServerSideInfiniteScroll")&&console.warn(t("groupIncludeFooter")),this.gridOptionsService.exists("groupIncludeTotalFooter")&&console.warn(t("groupIncludeTotalFooter"))}this.gridOptionsService.is("enableRangeSelection")?me.__assertRegistered(Ee.RangeSelectionModule,"enableRangeSelection",this.gridOptionsService.getGridId()):(this.gridOptionsService.is("enableRangeHandle")||this.gridOptionsService.is("enableFillHandle"))&&console.warn("AG Grid: 'enableRangeHandle' or 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true");const e=(t,i)=>this.gridOptionsService.exists(t)&&me.__assertRegistered(i,t,this.gridOptionsService.getGridId());e("sideBar",Ee.SideBarModule),e("statusBar",Ee.StatusBarModule),e("enableCharts",Ee.GridChartsModule),e("getMainMenuItems",Ee.MenuModule),e("getContextMenuItems",Ee.MenuModule),e("allowContextMenuWithControlKey",Ee.MenuModule)}checkColumnDefProperties(){if(this.gridOptions.columnDefs==null)return;const e=ud.ALL_PROPERTIES,t=(i,n)=>{const o=Object.getOwnPropertyNames(i);this.checkProperties(o,[...e,...Mv],e,n,"https://www.ag-grid.com/javascript-data-grid/column-properties/"),i.children&&i.children.forEach(r=>t(r,"columnDefs.children"))};this.gridOptions.columnDefs.forEach(i=>t(i,"columnDefs")),this.gridOptions.defaultColDef&&t(this.gridOptions.defaultColDef,"defaultColDef")}checkColumnDefViolations(){var e;const t=(e=this.gridOptionsService.get("rowModelType"))!==null&&e!==void 0?e:"clientSide",n={infinite:["headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],viewport:["headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],serverSide:["headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],clientSide:[]}[t];if(!(n!=null&&n.length))return;const o=r=>{n.forEach(l=>{l in r&&r[l]&&console.warn(`AG Grid: Column property ${l} is not supported with the row model type ${t}.`)})};this.gridOptions.columnDefs!=null&&this.gridOptions.columnDefs.forEach(r=>o(r)),this.gridOptions.autoGroupColumnDef!=null&&o(this.gridOptions.autoGroupColumnDef),this.gridOptions.defaultColDef!=null&&o(this.gridOptions.defaultColDef)}checkGridOptionsProperties(){const e=Object.getOwnPropertyNames(this.gridOptions),t=[...St.ALL_PROPERTIES,...Ke.EVENT_CALLBACKS],i=[...t,"api","columnApi",...Mv,...Object.keys(this.deprecatedProperties)];this.checkProperties(e,i,t,"gridOptions","https://www.ag-grid.com/javascript-data-grid/grid-options/")}checkProperties(e,t,i,n,o){const r=yw(e,t,i);Rt(r,(l,a)=>{st(()=>console.warn(`AG Grid: invalid ${n} property '${l}' did you mean any of these: ${a.slice(0,8).join(", ")}`),"invalidProperty"+n+l)}),Object.keys(r).length>0&&st(()=>console.warn(`AG Grid: to see all the valid ${n} properties please check: ${o}`),"invalidProperties"+n+o)}checkForDeprecated(){const e=this.gridOptions;Object.entries(this.deprecatedProperties).forEach(([t,i])=>{var n;const o=e[t];o&&(qi(i.version,t,i.newProp,i.message),i.copyToNewProp&&i.newProp&&e[i.newProp]==null&&(e[i.newProp]=(n=i.newPropValue)!==null&&n!==void 0?n:o))}),e.serverSideStoreType&&(console.warn("AG Grid: since v29.0, `serverSideStoreType` has been replaced by `suppressServerSideInfiniteScroll`. Set to false to use Partial Store, and true to use Full Store."),e.suppressServerSideInfiniteScroll=e.serverSideStoreType!=="partial")}checkForViolations(){this.gridOptionsService.is("treeData")&&this.treeDataViolations()}treeDataViolations(){this.gridOptionsService.isRowModelType("clientSide")&&(this.gridOptionsService.exists("getDataPath")||console.warn("AG Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data.")),this.gridOptionsService.isRowModelType("serverSide")&&(this.gridOptionsService.exists("isServerSideGroup")||console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),this.gridOptionsService.exists("getServerSideGroupKey")||console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))}};nu([y("gridOptions")],Er.prototype,"gridOptions",void 0);nu([y("gridOptionsService")],Er.prototype,"gridOptionsService",void 0);nu([de],Er.prototype,"init",null);Er=nu([Se("gridOptionsValidator")],Er);function vp(s,e){const t=["groupRows","multipleColumns","custom","singleColumn"];return t.indexOf(e)<0?(console.warn(`AG Grid: '${e}' is not a valid groupDisplayType value - possible values are: '${t.join("', '")}'`),!1):e===s}function W1(s,e){const t=["auto","custom"];return t.indexOf(e)<0?(console.warn(`AG Grid: '${e}' is not a valid treeDataDisplayType value - possible values are: '${t.join("', '")}'`),!1):e===s}var zt=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},U1=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},j1=globalThis&&globalThis.__rest||function(s,e){var t={};for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&e.indexOf(i)<0&&(t[i]=s[i]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(s);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(s,i[n])&&(t[i[n]]=s[i[n]]);return t};let Nt=class extends ee{constructor(){super(...arguments),this.primaryHeaderRowCount=0,this.secondaryHeaderRowCount=0,this.gridHeaderRowCount=0,this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.displayedColumnsAndGroupsMap={},this.viewportColumns=[],this.viewportColumnsHash="",this.headerViewportColumns=[],this.viewportColumnsCenter=[],this.headerViewportColumnsCenter=[],this.autoHeightActiveAtLeastOnce=!1,this.rowGroupColumns=[],this.valueColumns=[],this.pivotColumns=[],this.ready=!1,this.autoGroupsNeedBuilding=!1,this.forceRecreateAutoGroups=!1,this.pivotMode=!1,this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}init(){this.suppressColumnVirtualisation=this.gridOptionsService.is("suppressColumnVirtualisation");const e=this.gridOptionsService.is("pivotMode");this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.usingTreeData=this.gridOptionsService.isTreeData(),this.addManagedPropertyListener("groupDisplayType",()=>this.onAutoGroupColumnDefChanged()),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.onAutoGroupColumnDefChanged()),this.addManagedPropertyListener("defaultColDef",t=>this.onSharedColDefChanged(t.source)),this.addManagedPropertyListener("columnTypes",t=>this.onSharedColDefChanged(t.source))}onAutoGroupColumnDefChanged(){this.columnDefs&&(this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged"))}onSharedColDefChanged(e="api"){this.forceRecreateAutoGroups=!0,this.createColumnsFromColumnDefs(!0,e)}setColumnDefs(e,t="api"){const i=!!this.columnDefs;this.columnDefs=e,this.createColumnsFromColumnDefs(i,t)}recreateColumnDefs(e="api"){this.onSharedColDefChanged(e)}destroyOldColumns(e,t){const i={};if(!e)return;this.columnUtils.depthFirstOriginalTreeSearch(null,e,o=>{i[o.getInstanceId()]=o}),t&&this.columnUtils.depthFirstOriginalTreeSearch(null,t,o=>{i[o.getInstanceId()]=null});const n=Object.values(i).filter(o=>o!=null);this.destroyBeans(n)}destroyColumns(){this.destroyOldColumns(this.primaryColumnTree),this.destroyOldColumns(this.secondaryBalancedTree),this.destroyOldColumns(this.groupAutoColsBalancedTree)}createColumnsFromColumnDefs(e,t="api"){const i=e?this.compareColumnStatesAndDispatchEvents(t):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;const n=this.primaryColumns,o=this.primaryColumnTree,r=this.columnFactory.createColumnTree(this.columnDefs,!0,o);this.destroyOldColumns(this.primaryColumnTree,r.columnTree),this.primaryColumnTree=r.columnTree,this.primaryHeaderRowCount=r.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(c=>this.primaryColumnsMap[c.getId()]=c),this.extractRowGroupColumns(t,n),this.extractPivotColumns(t,n),this.extractValueColumns(t,n),this.ready=!0;const l=this.gridColsArePrimary===void 0;(this.gridColsArePrimary||l)&&(this.updateGridColumns(),e&&!this.gridOptionsService.is("maintainColumnOrder")&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(t),this.checkViewportColumns()),this.dispatchEverythingChanged(t),i&&i(),this.dispatchNewColumnsLoaded()}dispatchNewColumnsLoaded(){const e={type:m.EVENT_NEW_COLUMNS_LOADED};this.eventService.dispatchEvent(e)}dispatchEverythingChanged(e="api"){const t={type:m.EVENT_COLUMN_EVERYTHING_CHANGED,source:e};this.eventService.dispatchEvent(t)}orderGridColumnsLikePrimary(){const e=this.primaryColumns;e&&(this.gridColumns.sort((t,i)=>{const n=e.indexOf(t),o=e.indexOf(i),r=n>=0,l=o>=0;if(r&&l)return n-o;if(r)return 1;if(l)return-1;const a=this.gridColumns.indexOf(t),c=this.gridColumns.indexOf(i);return a-c}),this.gridColumns=this.placeLockedColumns(this.gridColumns))}getAllDisplayedAutoHeightCols(){return this.displayedAutoHeightCols}setViewport(){this.gridOptionsService.is("enableRtl")?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)}getDisplayedColumnsStartingAt(e){let t=e;const i=[];for(;t!=null;)i.push(t),t=this.getDisplayedColAfter(t);return i}checkViewportColumns(){if(this.displayedColumnsCenter==null||!this.extractViewport())return;const t={type:m.EVENT_VIRTUAL_COLUMNS_CHANGED};this.eventService.dispatchEvent(t)}setViewportPosition(e,t){(e!==this.scrollWidth||t!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=e,this.scrollPosition=t,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns())}isPivotMode(){return this.pivotMode}isPivotSettingAllowed(e){return e&&this.gridOptionsService.isTreeData()?(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1):!0}setPivotMode(e,t="api"){if(e===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode))return;this.pivotMode=e,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(t);const i={type:m.EVENT_COLUMN_PIVOT_MODE_CHANGED};this.eventService.dispatchEvent(i)}getSecondaryPivotColumn(e,t){if(Le(this.secondaryColumns))return null;const i=this.getPrimaryColumn(t);let n=null;return this.secondaryColumns.forEach(o=>{const r=o.getColDef().pivotKeys,l=o.getColDef().pivotValueColumn;In(r,e)&&l===i&&(n=o)}),n}setBeans(e){this.logger=e.create("columnModel")}setFirstRightAndLastLeftPinned(e){let t,i;this.gridOptionsService.is("enableRtl")?(t=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,i=this.displayedColumnsRight?ft(this.displayedColumnsRight):null):(t=this.displayedColumnsLeft?ft(this.displayedColumnsLeft):null,i=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(n=>{n.setLastLeftPinned(n===t,e),n.setFirstRightPinned(n===i,e)})}autoSizeColumns(e){if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(()=>this.autoSizeColumns(e));return}const{columns:t,skipHeader:i,skipHeaderGroups:n,stopAtGroup:o,source:r="api"}=e;this.animationFrameService.flushAllFrames();const l=[];let a=-1;const c=i??this.gridOptionsService.is("skipHeaderOnAutoSize"),d=n??c;for(;a!==0;)a=0,this.actionOnGridColumns(t,u=>{if(l.indexOf(u)>=0)return!1;const h=this.autoWidthCalculator.getPreferredWidthForColumn(u,c);if(h>0){const p=this.normaliseColumnWidth(u,h);u.setActualWidth(p,r),l.push(u),a++}return!0},r);d||this.autoSizeColumnGroupsByColumns(t,r,o),this.dispatchColumnResizedEvent(l,!0,"autosizeColumns")}dispatchColumnResizedEvent(e,t,i,n=null){if(e&&e.length){const o={type:m.EVENT_COLUMN_RESIZED,columns:e,column:e.length===1?e[0]:null,flexColumns:n,finished:t,source:i};this.eventService.dispatchEvent(o)}}dispatchColumnChangedEvent(e,t,i){const n={type:e,columns:t,column:t&&t.length==1?t[0]:null,source:i};this.eventService.dispatchEvent(n)}dispatchColumnMovedEvent(e){const{movedColumns:t,source:i,toIndex:n,finished:o}=e,r={type:m.EVENT_COLUMN_MOVED,columns:t,column:t&&t.length===1?t[0]:null,toIndex:n,finished:o,source:i};this.eventService.dispatchEvent(r)}dispatchColumnPinnedEvent(e,t){if(!e.length)return;const i=e.length===1?e[0]:null,n=this.getCommonValue(e,r=>r.getPinned()),o={type:m.EVENT_COLUMN_PINNED,pinned:n??null,columns:e,column:i,source:t};this.eventService.dispatchEvent(o)}dispatchColumnVisibleEvent(e,t){if(!e.length)return;const i=e.length===1?e[0]:null,n=this.getCommonValue(e,r=>r.isVisible()),o={type:m.EVENT_COLUMN_VISIBLE,visible:n,columns:e,column:i,source:t};this.eventService.dispatchEvent(o)}autoSizeColumn(e,t,i="api"){e&&this.autoSizeColumns({columns:[e],skipHeader:t,skipHeaderGroups:!0,source:i})}autoSizeColumnGroupsByColumns(e,t,i){const n=new Set;this.getGridColumns(e).forEach(a=>{let c=a.getParent();for(;c&&c!=i;)c.isPadding()||n.add(c),c=c.getParent()});let r;const l=[];for(const a of n){for(const c of this.ctrlsService.getHeaderRowContainerCtrls())if(r=c.getHeaderCtrlForColumn(a),r)break;r&&r.resizeLeafColumnsToFit(t)}return l}autoSizeAllColumns(e,t="api"){if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(()=>this.autoSizeAllColumns(e,t));return}const i=this.getAllDisplayedColumns();this.autoSizeColumns({columns:i,skipHeader:e,source:t})}getColumnsFromTree(e){const t=[],i=n=>{for(let o=0;o<n.length;o++){const r=n[o];r instanceof He?t.push(r):r instanceof gt&&i(r.getChildren())}};return i(e),t}getAllDisplayedTrees(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null}getPrimaryColumnTree(){return this.primaryColumnTree}getHeaderRowCount(){return this.gridHeaderRowCount}getDisplayedTreeLeft(){return this.displayedTreeLeft}getDisplayedTreeRight(){return this.displayedTreeRight}getDisplayedTreeCentre(){return this.displayedTreeCentre}isColumnDisplayed(e){return this.getAllDisplayedColumns().indexOf(e)>=0}getAllDisplayedColumns(){return this.displayedColumns}getViewportColumns(){return this.viewportColumns}getDisplayedLeftColumnsForRow(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsLeft):this.displayedColumnsLeft}getDisplayedRightColumnsForRow(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsRight):this.displayedColumnsRight}isColSpanActive(){return this.colSpanActive}getDisplayedColumnsForRow(e,t,i,n){const o=[];let r=null;for(let l=0;l<t.length;l++){const a=t[l],c=t.length-l,d=Math.min(a.getColSpan(e),c),u=[a];if(d>1){const p=d-1;for(let g=1;g<=p;g++)u.push(t[l+g]);l+=p}let h;i?(h=!1,u.forEach(p=>{i(p)&&(h=!0)})):h=!0,h&&(o.length===0&&r&&(n&&n(a))&&o.push(r),o.push(a)),r=a}return o}getViewportCenterColumnsForRow(e){if(!this.colSpanActive)return this.viewportColumnsCenter;const t=n=>{const o=n.getLeft();return Q(o)&&o>this.viewportLeft},i=this.suppressColumnVirtualisation?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(e,this.displayedColumnsCenter,i,t)}getAriaColumnIndex(e){return this.getAllGridColumns().indexOf(e)+1}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,i=t+e.getActualWidth(),n=this.viewportLeft-200,o=this.viewportRight+200,r=t<n&&i<n,l=t>o&&i>o;return!r&&!l}getDisplayedColumnsLeftWidth(){return this.getWidthOfColsInList(this.displayedColumnsLeft)}getDisplayedColumnsRightWidth(){return this.getWidthOfColsInList(this.displayedColumnsRight)}updatePrimaryColumnList(e,t,i,n,o,r="api"){if(!e||Ai(e))return;let l=!1;if(e.forEach(c=>{const d=this.getPrimaryColumn(c);if(d){if(i){if(t.indexOf(d)>=0)return;t.push(d)}else{if(t.indexOf(d)<0)return;Xt(t,d)}n(d),l=!0}}),!l)return;this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(r);const a={type:o,columns:t,column:t.length===1?t[0]:null,source:r};this.eventService.dispatchEvent(a)}setRowGroupColumns(e,t="api"){this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(e,this.rowGroupColumns,m.EVENT_COLUMN_ROW_GROUP_CHANGED,this.setRowGroupActive.bind(this),t)}setRowGroupActive(e,t,i){e!==t.isRowGroupActive()&&(t.setRowGroupActive(e,i),e&&!this.gridOptionsService.is("suppressRowGroupHidesColumns")&&this.setColumnVisible(t,!1,i),!e&&!this.gridOptionsService.is("suppressMakeColumnVisibleAfterUnGroup")&&this.setColumnVisible(t,!0,i))}addRowGroupColumn(e,t="api"){e&&this.addRowGroupColumns([e],t)}addRowGroupColumns(e,t="api"){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),m.EVENT_COLUMN_ROW_GROUP_CHANGED,t)}removeRowGroupColumns(e,t="api"){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),m.EVENT_COLUMN_ROW_GROUP_CHANGED,t)}removeRowGroupColumn(e,t="api"){e&&this.removeRowGroupColumns([e],t)}addPivotColumns(e,t="api"){this.updatePrimaryColumnList(e,this.pivotColumns,!0,i=>i.setPivotActive(!0,t),m.EVENT_COLUMN_PIVOT_CHANGED,t)}setPivotColumns(e,t="api"){this.setPrimaryColumnList(e,this.pivotColumns,m.EVENT_COLUMN_PIVOT_CHANGED,(i,n)=>{n.setPivotActive(i,t)},t)}addPivotColumn(e,t="api"){this.addPivotColumns([e],t)}removePivotColumns(e,t="api"){this.updatePrimaryColumnList(e,this.pivotColumns,!1,i=>i.setPivotActive(!1,t),m.EVENT_COLUMN_PIVOT_CHANGED,t)}removePivotColumn(e,t="api"){this.removePivotColumns([e],t)}setPrimaryColumnList(e,t,i,n,o){t.length=0,Q(e)&&e.forEach(r=>{const l=this.getPrimaryColumn(r);l&&t.push(l)}),(this.primaryColumns||[]).forEach(r=>{const l=t.indexOf(r)>=0;n(l,r)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(o),this.dispatchColumnChangedEvent(i,t,o)}setValueColumns(e,t="api"){this.setPrimaryColumnList(e,this.valueColumns,m.EVENT_COLUMN_VALUE_CHANGED,this.setValueActive.bind(this),t)}setValueActive(e,t,i){if(e!==t.isValueActive()&&(t.setValueActive(e,i),e&&!t.getAggFunc())){const n=this.aggFuncService.getDefaultAggFunc(t);t.setAggFunc(n)}}addValueColumns(e,t="api"){this.updatePrimaryColumnList(e,this.valueColumns,!0,this.setValueActive.bind(this,!0),m.EVENT_COLUMN_VALUE_CHANGED,t)}addValueColumn(e,t="api"){e&&this.addValueColumns([e],t)}removeValueColumn(e,t="api"){this.removeValueColumns([e],t)}removeValueColumns(e,t="api"){this.updatePrimaryColumnList(e,this.valueColumns,!1,this.setValueActive.bind(this,!1),m.EVENT_COLUMN_VALUE_CHANGED,t)}normaliseColumnWidth(e,t){const i=e.getMinWidth();Q(i)&&t<i&&(t=i);const n=e.getMaxWidth();return Q(n)&&e.isGreaterThanMax(t)&&(t=n),t}getPrimaryOrGridColumn(e){return this.getPrimaryColumn(e)||this.getGridColumn(e)}setColumnWidths(e,t,i,n="api"){const o=[];e.forEach(r=>{const l=this.getPrimaryOrGridColumn(r.key);if(!l)return;if(o.push({width:r.newWidth,ratios:[1],columns:[l]}),this.gridOptionsService.get("colResizeDefault")==="shift"&&(t=!t),t){const c=this.getDisplayedColAfter(l);if(!c)return;const d=l.getActualWidth()-r.newWidth,u=c.getActualWidth()+d;o.push({width:u,ratios:[1],columns:[c]})}}),o.length!==0&&this.resizeColumnSets({resizeSets:o,finished:i,source:n})}checkMinAndMaxWidthsForSet(e){const{columns:t,width:i}=e;let n=0,o=0,r=!0;t.forEach(c=>{const d=c.getMinWidth();n+=d||0;const u=c.getMaxWidth();Q(u)&&u>0?o+=u:r=!1});const l=i>=n,a=!r||i<=o;return l&&a}resizeColumnSets(e){const{resizeSets:t,finished:i,source:n}=e;if(!(!t||t.every(u=>this.checkMinAndMaxWidthsForSet(u)))){if(i){const u=t&&t.length>0?t[0].columns:null;this.dispatchColumnResizedEvent(u,i,n)}return}const r=[],l=[];t.forEach(u=>{const{width:h,columns:p,ratios:g}=u,f={},v={};p.forEach(E=>l.push(E));let w=!0,C=0;for(;w;){if(C++,C>1e3){console.error("AG Grid: infinite loop in resizeColumnSets");break}w=!1;const E=[];let b=0,S=h;p.forEach((D,_)=>{if(v[D.getId()])S-=f[D.getId()];else{E.push(D);const k=g[_];b+=k}});const T=1/b;E.forEach((D,_)=>{const G=_===E.length-1;let k;G?k=S:(k=Math.round(g[_]*h*T),S-=k);const H=D.getMinWidth(),W=D.getMaxWidth();Q(H)&&k<H?(k=H,v[D.getId()]=!0,w=!0):Q(W)&&W>0&&k>W&&(k=W,v[D.getId()]=!0,w=!0),f[D.getId()]=k})}p.forEach(E=>{const b=f[E.getId()];E.getActualWidth()!==b&&(E.setActualWidth(b,n),r.push(E))})});const a=r.length>0;let c=[];a&&(c=this.refreshFlexedColumns({resizingCols:l,skipSetLeft:!0}),this.setLeftValues(n),this.updateBodyWidths(),this.checkViewportColumns());const d=l.concat(c);(a||i)&&this.dispatchColumnResizedEvent(d,i,n,c)}setColumnAggFunc(e,t,i="api"){if(!e)return;const n=this.getPrimaryColumn(e);n&&(n.setAggFunc(t),this.dispatchColumnChangedEvent(m.EVENT_COLUMN_VALUE_CHANGED,[n],i))}moveRowGroupColumn(e,t,i="api"){const n=this.rowGroupColumns[e];this.rowGroupColumns.splice(e,1),this.rowGroupColumns.splice(t,0,n);const o={type:m.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:this.rowGroupColumns,column:this.rowGroupColumns.length===1?this.rowGroupColumns[0]:null,source:i};this.eventService.dispatchEvent(o)}moveColumns(e,t,i="api",n=!0){if(this.columnAnimationService.start(),t>this.gridColumns.length-e.length){console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+t),console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");return}const o=this.getGridColumns(e);this.doesMovePassRules(o,t)&&(gp(this.gridColumns,o,t),this.updateDisplayedColumns(i),this.dispatchColumnMovedEvent({movedColumns:o,source:i,toIndex:t,finished:n}),this.columnAnimationService.finish())}doesMovePassRules(e,t){const i=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(i)}doesOrderPassRules(e){return!(!this.doesMovePassMarryChildren(e)||!this.doesMovePassLockedPositions(e))}getProposedColumnOrder(e,t){const i=this.gridColumns.slice();return gp(i,e,t),i}sortColumnsLikeGridColumns(e){!e||e.length<=1||e.filter(i=>this.gridColumns.indexOf(i)<0).length>0||e.sort((i,n)=>{const o=this.gridColumns.indexOf(i),r=this.gridColumns.indexOf(n);return o-r})}doesMovePassLockedPositions(e){let t=0,i=!0;const n=o=>o?o===!0||o==="left"?0:2:1;return e.forEach(o=>{const r=n(o.getColDef().lockPosition);r<t&&(i=!1),t=r}),i}doesMovePassMarryChildren(e){let t=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,i=>{if(!(i instanceof gt))return;const n=i,o=n.getColGroupDef();if(!(o&&o.marryChildren))return;const l=[];n.getLeafColumns().forEach(h=>{const p=e.indexOf(h);l.push(p)});const a=Math.max.apply(Math,l),c=Math.min.apply(Math,l),d=a-c,u=n.getLeafColumns().length-1;d>u&&(t=!1)}),t}moveColumn(e,t,i="api"){this.moveColumns([e],t,i)}moveColumnByIndex(e,t,i="api"){const n=this.gridColumns[e];this.moveColumn(n,t,i)}getColumnDefs(){if(!this.primaryColumns)return;const e=this.primaryColumns.slice();return this.gridColsArePrimary?e.sort((t,i)=>this.gridColumns.indexOf(t)-this.gridColumns.indexOf(i)):this.lastPrimaryOrder&&e.sort((t,i)=>this.lastPrimaryOrder.indexOf(t)-this.lastPrimaryOrder.indexOf(i)),this.columnDefFactory.buildColumnDefs(e,this.rowGroupColumns,this.pivotColumns)}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}updateBodyWidths(){const e=this.getWidthOfColsInList(this.displayedColumnsCenter),t=this.getWidthOfColsInList(this.displayedColumnsLeft),i=this.getWidthOfColsInList(this.displayedColumnsRight);if(this.bodyWidthDirty=this.bodyWidth!==e,this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==i){this.bodyWidth=e,this.leftWidth=t,this.rightWidth=i;const o={type:m.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED};this.eventService.dispatchEvent(o)}}getValueColumns(){return this.valueColumns?this.valueColumns:[]}getPivotColumns(){return this.pivotColumns?this.pivotColumns:[]}isPivotActive(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode}getRowGroupColumns(){return this.rowGroupColumns?this.rowGroupColumns:[]}getDisplayedCenterColumns(){return this.displayedColumnsCenter}getDisplayedLeftColumns(){return this.displayedColumnsLeft}getDisplayedRightColumns(){return this.displayedColumnsRight}getDisplayedColumns(e){switch(e){case"left":return this.getDisplayedLeftColumns();case"right":return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}}getAllPrimaryColumns(){return this.primaryColumns?this.primaryColumns.slice():null}getSecondaryColumns(){return this.secondaryColumns?this.secondaryColumns.slice():null}getAllColumnsForQuickFilter(){return this.columnsForQuickFilter}getAllGridColumns(){return this.gridColumns}isEmpty(){return Ai(this.gridColumns)}isRowGroupEmpty(){return Ai(this.rowGroupColumns)}setColumnVisible(e,t,i="api"){this.setColumnsVisible([e],t,i)}setColumnsVisible(e,t=!1,i="api"){this.applyColumnState({state:e.map(n=>({colId:typeof n=="string"?n:n.getColId(),hide:!t}))},i)}setColumnPinned(e,t,i="api"){e&&this.setColumnsPinned([e],t,i)}setColumnsPinned(e,t,i="api"){if(this.gridOptionsService.isDomLayout("print")){console.warn("AG Grid: Changing the column pinning status is not allowed with domLayout='print'");return}this.columnAnimationService.start();let n;t===!0||t==="left"?n="left":t==="right"?n="right":n=null,this.actionOnGridColumns(e,o=>o.getPinned()!==n?(o.setPinned(n),!0):!1,i,()=>({type:m.EVENT_COLUMN_PINNED,pinned:n,column:null,columns:null,source:i})),this.columnAnimationService.finish()}actionOnGridColumns(e,t,i,n){if(Ai(e))return;const o=[];if(e.forEach(r=>{const l=this.getGridColumn(r);if(!l)return;t(l)!==!1&&o.push(l)}),!!o.length&&(this.updateDisplayedColumns(i),Q(n)&&n)){const r=n();r.columns=o,r.column=o.length===1?o[0]:null,this.eventService.dispatchEvent(r)}}getDisplayedColBefore(e){const t=this.getAllDisplayedColumns(),i=t.indexOf(e);return i>0?t[i-1]:null}getDisplayedColAfter(e){const t=this.getAllDisplayedColumns(),i=t.indexOf(e);return i<t.length-1?t[i+1]:null}getDisplayedGroupAfter(e){return this.getDisplayedGroupAtDirection(e,"After")}getDisplayedGroupBefore(e){return this.getDisplayedGroupAtDirection(e,"Before")}getDisplayedGroupAtDirection(e,t){const i=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),n=e.getDisplayedLeafColumns(),o=t==="After"?ft(n):n[0],r=`getDisplayedCol${t}`;for(;;){const l=this[r](o);if(!l)return null;const a=this.getColumnGroupAtLevel(l,i);if(a!==e)return a}}getColumnGroupAtLevel(e,t){let i=e.getParent(),n,o;for(;n=i.getProvidedColumnGroup().getLevel(),o=i.getPaddingLevel(),!(n+o<=t);)i=i.getParent();return i}isPinningLeft(){return this.displayedColumnsLeft.length>0}isPinningRight(){return this.displayedColumnsRight.length>0}getPrimaryAndSecondaryAndAutoColumns(){return[].concat(this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[])}createStateItemFromColumn(e){const t=e.isRowGroupActive()?this.rowGroupColumns.indexOf(e):null,i=e.isPivotActive()?this.pivotColumns.indexOf(e):null,n=e.isValueActive()?e.getAggFunc():null,o=e.getSort()!=null?e.getSort():null,r=e.getSortIndex()!=null?e.getSortIndex():null,l=e.getFlex()!=null&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:o,sortIndex:r,aggFunc:n,rowGroup:e.isRowGroupActive(),rowGroupIndex:t,pivot:e.isPivotActive(),pivotIndex:i,flex:l}}getColumnState(){if(Le(this.primaryColumns)||!this.isAlive())return[];const t=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(t),t}orderColumnStateList(e){const t=an(this.gridColumns.map((i,n)=>[i.getColId(),n]));e.sort((i,n)=>{const o=t.has(i.colId)?t.get(i.colId):-1,r=t.has(n.colId)?t.get(n.colId):-1;return o-r})}resetColumnState(e="api"){const t=this.getColumnsFromTree(this.primaryColumnTree),i=[];let n=1e3,o=1e3,r=[];this.groupAutoColumns&&(r=r.concat(this.groupAutoColumns)),t&&(r=r.concat(t)),r.forEach(l=>{const a=this.getColumnStateFromColDef(l);Le(a.rowGroupIndex)&&a.rowGroup&&(a.rowGroupIndex=n++),Le(a.pivotIndex)&&a.pivot&&(a.pivotIndex=o++),i.push(a)}),this.applyColumnState({state:i,applyOrder:!0},e)}getColumnStateFromColDef(e){const t=(f,v)=>f??v??null,i=e.getColDef(),n=t(i.sort,i.initialSort),o=t(i.sortIndex,i.initialSortIndex),r=t(i.hide,i.initialHide),l=t(i.pinned,i.initialPinned),a=t(i.width,i.initialWidth),c=t(i.flex,i.initialFlex);let d=t(i.rowGroupIndex,i.initialRowGroupIndex),u=t(i.rowGroup,i.initialRowGroup);d==null&&(u==null||u==!1)&&(d=null,u=null);let h=t(i.pivotIndex,i.initialPivotIndex),p=t(i.pivot,i.initialPivot);h==null&&(p==null||p==!1)&&(h=null,p=null);const g=t(i.aggFunc,i.initialAggFunc);return{colId:e.getColId(),sort:n,sortIndex:o,hide:r,pinned:l,width:a,flex:c,rowGroup:u,rowGroupIndex:d,pivot:p,pivotIndex:h,aggFunc:g}}applyColumnState(e,t){if(Ai(this.primaryColumns))return!1;if(e&&e.state&&!e.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;const i=(r,l,a)=>{const c=this.compareColumnStatesAndDispatchEvents(t);this.autoGroupsNeedBuilding=!0;const d=l.slice(),u={},h={},p=[],g=[];let f=0;const v=this.rowGroupColumns.slice(),w=this.pivotColumns.slice();r.forEach(S=>{const T=S.colId||"";if(T.startsWith(ea)){p.push(S),g.push(S);return}const _=a(T);_?(this.syncColumnWithStateItem(_,S,e.defaultState,u,h,!1,t),Xt(d,_)):(g.push(S),f+=1)});const C=S=>this.syncColumnWithStateItem(S,null,e.defaultState,u,h,!1,t);d.forEach(C);const E=(S,T,D,_)=>{const G=S[D.getId()],k=S[_.getId()],H=G!=null,W=k!=null;if(H&&W)return G-k;if(H)return-1;if(W)return 1;const P=T.indexOf(D),N=T.indexOf(_),F=P>=0,x=N>=0;return F&&x?P-N:F?-1:1};this.rowGroupColumns.sort(E.bind(this,u,v)),this.pivotColumns.sort(E.bind(this,h,w)),this.updateGridColumns();const b=this.groupAutoColumns?this.groupAutoColumns.slice():[];return p.forEach(S=>{const T=this.getAutoColumn(S.colId);Xt(b,T),this.syncColumnWithStateItem(T,S,e.defaultState,null,null,!0,t)}),b.forEach(C),this.applyOrderAfterApplyState(e),this.updateDisplayedColumns(t),this.dispatchEverythingChanged(t),c(),{unmatchedAndAutoStates:g,unmatchedCount:f}};this.columnAnimationService.start();let{unmatchedAndAutoStates:n,unmatchedCount:o}=i(e.state||[],this.primaryColumns||[],r=>this.getPrimaryColumn(r));return(n.length>0||Q(e.defaultState))&&(o=i(n,this.secondaryColumns||[],r=>this.getSecondaryColumn(r)).unmatchedCount),this.columnAnimationService.finish(),o===0}applyOrderAfterApplyState(e){if(!e.applyOrder||!e.state)return;let t=[];const i={};e.state.forEach(o=>{if(!o.colId||i[o.colId])return;const r=this.gridColumnsMap[o.colId];r&&(t.push(r),i[o.colId]=!0)});let n=0;if(this.gridColumns.forEach(o=>{const r=o.getColId();if(i[r]!=null)return;r.startsWith(ea)?Zl(t,o,n++):t.push(o)}),t=this.placeLockedColumns(t),!this.doesMovePassMarryChildren(t)){console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");return}this.gridColumns=t}compareColumnStatesAndDispatchEvents(e){const t={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},i=this.getColumnState(),n={};return i.forEach(o=>{n[o.colId]=o}),()=>{const o=this.getPrimaryAndSecondaryAndAutoColumns(),r=(f,v,w,C)=>{const E=v.map(C),b=w.map(C);if(In(E,b))return;const T={type:f,columns:w,column:w.length===1?w[0]:null,source:e};this.eventService.dispatchEvent(T)},l=f=>{const v=[];return o.forEach(w=>{const C=n[w.getColId()];C&&f(C,w)&&v.push(w)}),v},a=f=>f.getColId();r(m.EVENT_COLUMN_ROW_GROUP_CHANGED,t.rowGroupColumns,this.rowGroupColumns,a),r(m.EVENT_COLUMN_PIVOT_CHANGED,t.pivotColumns,this.pivotColumns,a),l((f,v)=>{const w=f.aggFunc!=null,C=w!=v.isValueActive(),E=w&&f.aggFunc!=v.getAggFunc();return C||E}).length>0&&this.dispatchColumnChangedEvent(m.EVENT_COLUMN_VALUE_CHANGED,this.valueColumns,e);const u=(f,v)=>f.width!=v.getActualWidth();this.dispatchColumnResizedEvent(l(u),!0,e);const h=(f,v)=>f.pinned!=v.getPinned();this.dispatchColumnPinnedEvent(l(h),e);const p=(f,v)=>f.hide==v.isVisible();this.dispatchColumnVisibleEvent(l(p),e),l((f,v)=>f.sort!=v.getSort()||f.sortIndex!=v.getSortIndex()).length>0&&this.sortController.dispatchSortChangedEvents(e),this.normaliseColumnMovedEventForColumnState(i,e)}}getCommonValue(e,t){if(!e||e.length==0)return;const i=t(e[0]);for(let n=1;n<e.length;n++)if(i!==t(e[n]))return;return i}normaliseColumnMovedEventForColumnState(e,t){const i=this.getColumnState(),n={};i.forEach(c=>n[c.colId]=c);const o={};e.forEach(c=>{n[c.colId]&&(o[c.colId]=!0)});const r=e.filter(c=>o[c.colId]),l=i.filter(c=>o[c.colId]),a=[];l.forEach((c,d)=>{const u=r&&r[d];if(u&&u.colId!==c.colId){const h=this.getGridColumn(u.colId);h&&a.push(h)}}),a.length&&this.dispatchColumnMovedEvent({movedColumns:a,source:t,finished:!0})}syncColumnWithStateItem(e,t,i,n,o,r,l){if(!e)return;const a=(S,T)=>{const D={value1:void 0,value2:void 0};let _=!1;return t&&(t[S]!==void 0&&(D.value1=t[S],_=!0),Q(T)&&t[T]!==void 0&&(D.value2=t[T],_=!0)),!_&&i&&(i[S]!==void 0&&(D.value1=i[S]),Q(T)&&i[T]!==void 0&&(D.value2=i[T])),D},c=a("hide").value1;c!==void 0&&e.setVisible(!c,l);const d=a("pinned").value1;d!==void 0&&e.setPinned(d);const u=this.columnUtils.calculateColMinWidth(e.getColDef()),h=a("flex").value1;if(h!==void 0&&e.setFlex(h),e.getFlex()<=0){const S=a("width").value1;S!=null&&u!=null&&S>=u&&e.setActualWidth(S,l)}const g=a("sort").value1;g!==void 0&&(g==="desc"||g==="asc"?e.setSort(g,l):e.setSort(void 0,l));const f=a("sortIndex").value1;if(f!==void 0&&e.setSortIndex(f),r||!e.isPrimary())return;const v=a("aggFunc").value1;v!==void 0&&(typeof v=="string"?(e.setAggFunc(v),e.isValueActive()||(e.setValueActive(!0,l),this.valueColumns.push(e))):(Q(v)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,l),Xt(this.valueColumns,e))));const{value1:w,value2:C}=a("rowGroup","rowGroupIndex");(w!==void 0||C!==void 0)&&(typeof C=="number"||w?(e.isRowGroupActive()||(e.setRowGroupActive(!0,l),this.rowGroupColumns.push(e)),n&&typeof C=="number"&&(n[e.getId()]=C)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,l),Xt(this.rowGroupColumns,e)));const{value1:E,value2:b}=a("pivot","pivotIndex");(E!==void 0||b!==void 0)&&(typeof b=="number"||E?(e.isPivotActive()||(e.setPivotActive(!0,l),this.pivotColumns.push(e)),o&&typeof b=="number"&&(o[e.getId()]=b)):e.isPivotActive()&&(e.setPivotActive(!1,l),Xt(this.pivotColumns,e)))}getGridColumns(e){return this.getColumns(e,this.getGridColumn.bind(this))}getColumns(e,t){const i=[];return e&&e.forEach(n=>{const o=t(n);o&&i.push(o)}),i}getColumnWithValidation(e){if(e==null)return null;const t=this.getGridColumn(e);return t||console.warn("AG Grid: could not find column "+e),t}getPrimaryColumn(e){return this.primaryColumns?this.getColumn(e,this.primaryColumns,this.primaryColumnsMap):null}getGridColumn(e){return this.getColumn(e,this.gridColumns,this.gridColumnsMap)}getSecondaryColumn(e){return this.secondaryColumns?this.getColumn(e,this.secondaryColumns,this.secondaryColumnsMap):null}getColumn(e,t,i){if(!e)return null;if(typeof e=="string"&&i[e])return i[e];for(let n=0;n<t.length;n++)if(this.columnsMatch(t[n],e))return t[n];return this.getAutoColumn(e)}getSourceColumnsForGroupColumn(e){const t=e.getColDef().showRowGroup;if(!t)return null;if(t===!0)return this.rowGroupColumns.slice(0);const i=this.getPrimaryColumn(t);return i?[i]:null}getAutoColumn(e){return!this.groupAutoColumns||!Q(this.groupAutoColumns)||Le(this.groupAutoColumns)?null:this.groupAutoColumns.find(t=>this.columnsMatch(t,e))||null}columnsMatch(e,t){const i=e===t,n=e.getColDef()===t,o=e.getColId()==t;return i||n||o}getDisplayNameForColumn(e,t,i=!1){if(!e)return null;const n=this.getHeaderName(e.getColDef(),e,null,null,t);return i?this.wrapHeaderNameWithAggFunc(e,n):n}getDisplayNameForProvidedColumnGroup(e,t,i){const n=t?t.getColGroupDef():null;return n?this.getHeaderName(n,null,e,t,i):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,i,n,o){const r=e.headerValueGetter;if(r){const l={colDef:e,column:t,columnGroup:i,providedColumnGroup:n,location:o,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};return typeof r=="function"?r(l):typeof r=="string"?this.expressionService.evaluate(r,l):(console.warn("AG Grid: headerValueGetter must be a function or a string"),"")}else{if(e.headerName!=null)return e.headerName;if(e.field)return vw(e.field)}return""}wrapHeaderNameWithAggFunc(e,t){if(this.gridOptionsService.is("suppressAggFuncInHeader"))return t;const i=e.getColDef().pivotValueColumn,n=Q(i);let o=null,r;if(n){const l=this.gridOptionsService.is("removePivotHeaderRowWhenSingleValueColumn")&&this.valueColumns.length===1,a=e.getColDef().pivotTotalColumnIds!==void 0;if(l&&!a)return t;o=i?i.getAggFunc():null,r=!0}else{const l=e.isValueActive(),a=this.pivotMode||!this.isRowGroupEmpty();l&&a?(o=e.getAggFunc(),r=!0):r=!1}if(r){const l=typeof o=="string"?o:"func";return`${this.localeService.getLocaleTextFunc()(l,l)}(${t})`}return t}getColumnGroup(e,t){if(!e)return null;if(e instanceof wt)return e;const i=this.getAllDisplayedTrees(),n=typeof t=="number";let o=null;return this.columnUtils.depthFirstAllColumnTreeSearch(i,r=>{if(r instanceof wt){const l=r;let a;n?a=e===l.getGroupId()&&t===l.getPartId():a=e===l.getGroupId(),a&&(o=l)}}),o}isReady(){return this.ready}extractValueColumns(e,t){this.valueColumns=this.extractColumns(t,this.valueColumns,(i,n)=>i.setValueActive(n,e),()=>{},()=>{},i=>{const n=i.aggFunc;if(n===null||n==="")return null;if(n!==void 0)return!!n},i=>i.initialAggFunc!=null&&i.initialAggFunc!=""),this.valueColumns.forEach(i=>{const n=i.getColDef();n.aggFunc!=null&&n.aggFunc!=""?i.setAggFunc(n.aggFunc):i.getAggFunc()||i.setAggFunc(n.initialAggFunc)})}extractRowGroupColumns(e,t){this.rowGroupColumns=this.extractColumns(t,this.rowGroupColumns,(i,n)=>i.setRowGroupActive(n,e),i=>i.rowGroupIndex,i=>i.initialRowGroupIndex,i=>i.rowGroup,i=>i.initialRowGroup)}extractColumns(e=[],t=[],i,n,o,r,l){const a=[],c=[];(this.primaryColumns||[]).forEach(h=>{const p=e.indexOf(h)<0,g=h.getColDef(),f=Is(r(g)),v=Is(l(g)),w=Qi(n(g)),C=Qi(o(g));let E;f!==void 0?E=f:w!==void 0?w===null?E=!1:E=w>=0:p?v!==void 0?E=v:C!==void 0?E=C!=null&&C>=0:E=!1:E=t.indexOf(h)>=0,E&&((p?w!=null||C!=null:w!=null)?a.push(h):c.push(h))});const d=h=>{const p=n(h.getColDef()),g=o(h.getColDef());return p??g};a.sort((h,p)=>{const g=d(h),f=d(p);return g===f?0:g<f?-1:1});const u=[].concat(a);return t.forEach(h=>{c.indexOf(h)>=0&&u.push(h)}),c.forEach(h=>{u.indexOf(h)<0&&u.push(h)}),t.forEach(h=>{u.indexOf(h)<0&&i(h,!1)}),u.forEach(h=>{t.indexOf(h)<0&&i(h,!0)}),u}extractPivotColumns(e,t){this.pivotColumns=this.extractColumns(t,this.pivotColumns,(i,n)=>i.setPivotActive(n,e),i=>i.pivotIndex,i=>i.initialPivotIndex,i=>i.pivot,i=>i.initialPivot)}resetColumnGroupState(e="api"){const t=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,i=>{if(i instanceof gt){const n=i.getColGroupDef(),o={groupId:i.getGroupId(),open:n?n.openByDefault:void 0};t.push(o)}}),this.setColumnGroupState(t,e)}getColumnGroupState(){const e=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,t=>{t instanceof gt&&e.push({groupId:t.getGroupId(),open:t.isExpanded()})}),e}setColumnGroupState(e,t="api"){this.columnAnimationService.start();const i=[];e.forEach(n=>{const o=n.groupId,r=n.open,l=this.getProvidedColumnGroup(o);l&&l.isExpanded()!==r&&(this.logger.log("columnGroupOpened("+l.getGroupId()+","+r+")"),l.setExpanded(r),i.push(l))}),this.updateGroupsAndDisplayedColumns(t),this.setFirstRightAndLastLeftPinned(t),i.forEach(n=>{const o={type:m.EVENT_COLUMN_GROUP_OPENED,columnGroup:n};this.eventService.dispatchEvent(o)}),this.columnAnimationService.finish()}setColumnGroupOpened(e,t,i="api"){let n;e instanceof gt?n=e.getId():n=e||"",this.setColumnGroupState([{groupId:n,open:t}],i)}getProvidedColumnGroup(e){typeof e!="string"&&console.error("AG Grid: group key must be a string");let t=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,i=>{i instanceof gt&&i.getId()===e&&(t=i)}),t}calculateColumnsForDisplay(){let e;return this.pivotMode&&Le(this.secondaryColumns)?e=this.gridColumns.filter(t=>{const i=this.groupAutoColumns&&Zi(this.groupAutoColumns,t),n=this.valueColumns&&Zi(this.valueColumns,t);return i||n}):e=this.gridColumns.filter(t=>this.groupAutoColumns&&Zi(this.groupAutoColumns,t)||t.isVisible()),e}checkColSpanActiveInCols(e){let t=!1;return e.forEach(i=>{Q(i.getColDef().colSpan)&&(t=!0)}),t}calculateColumnsForGroupDisplay(){this.groupDisplayColumns=[],this.groupDisplayColumnsMap={};const e=t=>{const i=t.getColDef(),n=i.showRowGroup;i&&Q(n)&&(this.groupDisplayColumns.push(t),typeof n=="string"?this.groupDisplayColumnsMap[n]=t:n===!0&&this.getRowGroupColumns().forEach(o=>{this.groupDisplayColumnsMap[o.getId()]=t}))};this.gridColumns.forEach(e)}getGroupDisplayColumns(){return this.groupDisplayColumns}getGroupDisplayColumnForGroup(e){return this.groupDisplayColumnsMap[e]}updateDisplayedColumns(e){const t=this.calculateColumnsForDisplay();this.buildDisplayedTrees(t),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e)}isSecondaryColumnsPresent(){return Q(this.secondaryColumns)}setSecondaryColumns(e,t="api"){const i=e&&e.length>0;if(!(!i&&Le(this.secondaryColumns))){if(i){this.processSecondaryColumnDefinitions(e);const n=this.columnFactory.createColumnTree(e,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0);this.destroyOldColumns(this.secondaryBalancedTree,n.columnTree),this.secondaryBalancedTree=n.columnTree,this.secondaryHeaderRowCount=n.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(o=>this.secondaryColumnsMap[o.getId()]=o),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(t)}}processSecondaryColumnDefinitions(e){const t=this.gridOptionsService.get("processPivotResultColDef")||this.gridOptionsService.get("processSecondaryColDef"),i=this.gridOptionsService.get("processPivotResultColGroupDef")||this.gridOptionsService.get("processSecondaryColGroupDef");if(!t&&!i)return;const n=o=>{o.forEach(r=>{if(Q(r.children)){const a=r;i&&i(a),n(a.children)}else t&&t(r)})};e&&n(e)}updateGridColumns(){const e=this.gridBalancedTree;this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns;let t;if(this.secondaryColumns&&this.secondaryBalancedTree){const n=this.secondaryColumns.every(o=>this.gridColumnsMap[o.getColId()]!==void 0);this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,n&&(t=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,t=this.lastPrimaryOrder);if(this.createGroupAutoColumnsIfNeeded()&&t){const n=an(this.groupAutoColumns.map(o=>[o,!0]));t=t.filter(o=>!n.has(o)),t=[...this.groupAutoColumns,...t]}if(this.addAutoGroupToGridColumns(),this.orderGridColsLike(t),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.calculateColumnsForGroupDisplay(),this.refreshQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(n=>this.gridColumnsMap[n.getId()]=n),this.setAutoHeightActive(),!In(e,this.gridBalancedTree)){const n={type:m.EVENT_GRID_COLUMNS_CHANGED};this.eventService.dispatchEvent(n)}}setAutoHeightActive(){if(this.autoHeightActive=this.gridColumns.filter(e=>e.isAutoHeight()).length>0,this.autoHeightActive&&(this.autoHeightActiveAtLeastOnce=!0,!(this.gridOptionsService.isRowModelType("clientSide")||this.gridOptionsService.isRowModelType("serverSide")))){const t="AG Grid - autoHeight columns only work with Client Side Row Model and Server Side Row Model.";st(()=>console.warn(t),"autoHeightActive.wrongRowModel")}}orderGridColsLike(e){if(Le(e))return;const t=an(e.map((c,d)=>[c,d]));let i=!0;if(this.gridColumns.forEach(c=>{t.has(c)&&(i=!1)}),i)return;const n=an(this.gridColumns.map(c=>[c,!0])),o=e.filter(c=>n.has(c)),r=an(o.map(c=>[c,!0])),l=this.gridColumns.filter(c=>!r.has(c)),a=o.slice();l.forEach(c=>{let d=c.getOriginalParent();if(!d){a.push(c);return}const u=[];for(;!u.length&&d;)d.getLeafColumns().forEach(f=>{const v=a.indexOf(f)>=0,w=u.indexOf(f)<0;v&&w&&u.push(f)}),d=d.getOriginalParent();if(!u.length){a.push(c);return}const h=u.map(g=>a.indexOf(g)),p=Math.max(...h);Zl(a,c,p+1)}),this.gridColumns=a}isPrimaryColumnGroupsPresent(){return this.primaryHeaderRowCount>1}refreshQuickFilterColumns(){var e;let t=(e=this.isPivotMode()?this.secondaryColumns:this.primaryColumns)!==null&&e!==void 0?e:[];this.groupAutoColumns&&(t=t.concat(this.groupAutoColumns)),this.columnsForQuickFilter=this.gridOptionsService.is("includeHiddenColumnsInQuickFilter")?t:t.filter(i=>i.isVisible()||i.isRowGroupActive())}placeLockedColumns(e){const t=[],i=[],n=[];return e.forEach(o=>{const r=o.getColDef().lockPosition;r==="right"?n.push(o):r==="left"||r===!0?t.push(o):i.push(o)}),[...t,...i,...n]}addAutoGroupToGridColumns(){if(Le(this.groupAutoColumns)){this.destroyOldColumns(this.groupAutoColsBalancedTree),this.groupAutoColsBalancedTree=null;return}this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;const e=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.destroyOldColumns(this.groupAutoColsBalancedTree,e),this.groupAutoColsBalancedTree=e,this.gridBalancedTree=e.concat(this.gridBalancedTree)}clearDisplayedAndViewportColumns(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""}updateGroupsAndDisplayedColumns(e){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(e),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths();const t={type:m.EVENT_DISPLAYED_COLUMNS_CHANGED};this.eventService.dispatchEvent(t)}deriveDisplayedColumns(e){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(e),this.displayedAutoHeightCols=this.displayedColumns.filter(t=>t.isAutoHeight())}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}joinDisplayedColumns(){this.gridOptionsService.is("enableRtl")?this.displayedColumns=this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumns=this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)}setLeftValues(e){this.setLeftValuesOfColumns(e),this.setLeftValuesOfGroups()}setLeftValuesOfColumns(e){if(!this.primaryColumns)return;const t=this.primaryColumns.slice(0),i=this.gridOptionsService.is("enableRtl");[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(n=>{if(i){let o=this.getWidthOfColsInList(n);n.forEach(r=>{o-=r.getActualWidth(),r.setLeft(o,e)})}else{let o=0;n.forEach(r=>{r.setLeft(o,e),o+=r.getActualWidth()})}Tf(t,n)}),t.forEach(n=>{n.setLeft(null,e)})}setLeftValuesOfGroups(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(e=>{e.forEach(t=>{t instanceof wt&&t.checkLeft()})})}derivedDisplayedColumnsFromDisplayedTree(e,t){t.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(e,i=>{i instanceof He&&t.push(i)})}extractViewportColumns(){this.suppressColumnVirtualisation?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)}getVirtualHeaderGroupRow(e,t){let i;switch(e){case"left":i=this.viewportRowLeft[t];break;case"right":i=this.viewportRowRight[t];break;default:i=this.viewportRowCenter[t];break}return Le(i)&&(i=[]),i}calculateHeaderRows(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};const e={};this.headerViewportColumns.forEach(i=>e[i.getId()]=!0);const t=(i,n,o)=>{let r=!1;for(let l=0;l<i.length;l++){const a=i[l];let c=!1;if(a instanceof He)c=e[a.getId()]===!0;else{const u=a.getDisplayedChildren();u&&(c=t(u,n,o+1))}c&&(r=!0,n[o]||(n[o]=[]),n[o].push(a))}return r};t(this.displayedTreeLeft,this.viewportRowLeft,0),t(this.displayedTreeRight,this.viewportRowRight,0),t(this.displayedTreeCentre,this.viewportRowCenter,0)}extractViewport(){const e=n=>`${n.getId()}-${n.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.viewportColumns.map(e).join("#"),i=this.viewportColumnsHash!==t;return i&&(this.viewportColumnsHash=t,this.calculateHeaderRows()),i}refreshFlexedColumns(e={}){const t=e.source?e.source:"flex";if(e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];let i=-1;e.resizingCols&&e.resizingCols.forEach(u=>{const h=this.displayedColumnsCenter.indexOf(u);i<h&&(i=h)});const n=u=>{const h=this.displayedColumnsCenter.indexOf(u)>i;return u.getFlex()&&h},o=this.displayedColumnsCenter.filter(u=>!n(u)),r=this.displayedColumnsCenter.filter(u=>n(u)),l=[];if(!r.length)return[];const a=[];let c;e:for(;;){const u=r.reduce((h,p)=>h+p.getFlex(),0);c=this.flexViewportWidth-this.getWidthOfColsInList(o);for(let h=0;h<r.length;h++){const p=r[h],g=c*p.getFlex()/u;let f=0;const v=p.getMinWidth(),w=p.getMaxWidth();if(Q(v)&&g<v?f=v:Q(w)&&g>w&&(f=w),f){p.setActualWidth(f,t),Xt(r,p),l.push(p),o.push(p);continue e}a[h]=Math.round(g)}break}let d=c;return r.forEach((u,h)=>{u.setActualWidth(Math.min(a[h],d),t),l.push(u),d-=a[h]}),e.skipSetLeft||this.setLeftValues(t),e.updateBodyWidths&&this.updateBodyWidths(),e.fireResizedEvent&&this.dispatchColumnResizedEvent(l,!0,t,r),r}sizeColumnsToFit(e,t="sizeColumnsToFit",i,n){var o,r,l,a,c;if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(()=>this.sizeColumnsToFit(e,t,i,n));return}const d={};n&&((o=n==null?void 0:n.columnLimits)===null||o===void 0||o.forEach(C=>{var{key:E}=C,b=j1(C,["key"]);d[typeof E=="string"?E:E.getColId()]=b}));const u=this.getAllDisplayedColumns(),h=e===this.getWidthOfColsInList(u);if(e<=0||!u.length||h)return;const p=[],g=[];u.forEach(C=>{C.getColDef().suppressSizeToFit===!0?g.push(C):p.push(C)});const f=p.slice(0);let v=!1;const w=C=>{Xt(p,C),g.push(C)};for(p.forEach(C=>C.resetActualWidth(t));!v;){v=!0;const C=e-this.getWidthOfColsInList(g);if(C<=0)p.forEach(E=>{var b,S;const T=(S=(b=d==null?void 0:d[E.getId()])===null||b===void 0?void 0:b.minWidth)!==null&&S!==void 0?S:n==null?void 0:n.defaultMinWidth;if(typeof T=="number"){E.setActualWidth(T);return}E.setMinimum(t)});else{const E=C/this.getWidthOfColsInList(p);let b=C;for(let S=p.length-1;S>=0;S--){const T=p[S],D=d==null?void 0:d[T.getId()],_=(r=D==null?void 0:D.minWidth)!==null&&r!==void 0?r:n==null?void 0:n.defaultMinWidth,G=(l=D==null?void 0:D.maxWidth)!==null&&l!==void 0?l:n==null?void 0:n.defaultMaxWidth,k=(a=T.getMinWidth())!==null&&a!==void 0?a:0,H=(c=T.getMaxWidth())!==null&&c!==void 0?c:Number.MAX_VALUE,W=typeof _=="number"&&_>k?_:T.getMinWidth(),P=typeof G=="number"&&G<H?G:T.getMaxWidth();let N=Math.round(T.getActualWidth()*E);Q(W)&&N<W?(N=W,w(T),v=!1):Q(P)&&N>P?(N=P,w(T),v=!1):S===0&&(N=b),T.setActualWidth(N,t,!0),b-=N}}}f.forEach(C=>{C.fireColumnWidthChangedEvent(t)}),this.setLeftValues(t),this.updateBodyWidths(),!i&&this.dispatchColumnResizedEvent(f,!0,t)}buildDisplayedTrees(e){const t=[],i=[],n=[];e.forEach(r=>{switch(r.getPinned()){case"left":t.push(r);break;case"right":i.push(r);break;default:n.push(r);break}});const o=new L1;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(t,this.gridBalancedTree,o,"left",this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(i,this.gridBalancedTree,o,"right",this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(n,this.gridBalancedTree,o,null,this.displayedTreeCentre),this.updateDisplayedMap()}updateDisplayedMap(){this.displayedColumnsAndGroupsMap={};const e=t=>{this.displayedColumnsAndGroupsMap[t.getUniqueId()]=t};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,e),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,e),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,e)}isDisplayed(e){return this.displayedColumnsAndGroupsMap[e.getUniqueId()]===e}updateOpenClosedVisibilityInColumnGroups(){const e=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(e,t=>{t instanceof wt&&t.calculateDisplayedColumns()})}getGroupAutoColumns(){return this.groupAutoColumns}createGroupAutoColumnsIfNeeded(){const e=this.forceRecreateAutoGroups;if(this.forceRecreateAutoGroups=!1,!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;const t=this.gridOptionsService.isGroupUseEntireRow(this.pivotMode),i=this.pivotMode?this.gridOptionsService.is("pivotSuppressAutoColumn"):this.isGroupSuppressAutoColumn();if((this.rowGroupColumns.length>0||this.usingTreeData)&&!i&&!t){const r=this.groupAutoColumns||[],l=this.autoGroupColService.createAutoGroupColumns(r,this.rowGroupColumns);if(!this.autoColsEqual(l,this.groupAutoColumns)||e)return this.groupAutoColumns=l,!0}else this.groupAutoColumns=null;return!1}isGroupSuppressAutoColumn(){const e=this.gridOptionsService.get("groupDisplayType");if(e?vp("custom",e):!1)return!0;const i=this.gridOptionsService.get("treeDataDisplayType");return i?W1("custom",i):!1}autoColsEqual(e,t){return In(e,t,(i,n)=>i.getColId()===n.getColId())}getWidthOfColsInList(e){return e.reduce((t,i)=>t+i.getActualWidth(),0)}getGridBalancedTree(){return this.gridBalancedTree}hasFloatingFilters(){return this.gridColumns?this.gridColumns.some(t=>t.getColDef().floatingFilter):!1}getFirstDisplayedColumn(){const e=this.gridOptionsService.is("enableRtl"),t=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];e&&t.reverse();for(let i=0;i<t.length;i++){const n=this[t[i]]();if(n.length)return e?ft(n):n[0]}return null}setColumnHeaderHeight(e,t){if(e.setAutoHeaderHeight(t)){const n={type:m.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:e,columns:[e],source:"autosizeColumnHeaderHeight"};this.eventService.dispatchEvent(n)}}getColumnGroupHeaderRowHeight(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()}getColumnHeaderRowHeight(){const e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),t=this.getAllDisplayedColumns().filter(i=>i.isAutoHeaderHeight()).map(i=>i.getAutoHeaderHeight()||0);return Math.max(e,...t)}getHeaderHeight(){var e;return(e=this.gridOptionsService.getNum("headerHeight"))!==null&&e!==void 0?e:this.environment.getFromTheme(25,"headerHeight")}getFloatingFiltersHeight(){var e;return(e=this.gridOptionsService.getNum("floatingFiltersHeight"))!==null&&e!==void 0?e:this.getHeaderHeight()}getGroupHeaderHeight(){var e;return(e=this.gridOptionsService.getNum("groupHeaderHeight"))!==null&&e!==void 0?e:this.getHeaderHeight()}getPivotHeaderHeight(){var e;return(e=this.gridOptionsService.getNum("pivotHeaderHeight"))!==null&&e!==void 0?e:this.getHeaderHeight()}getPivotGroupHeaderHeight(){var e;return(e=this.gridOptionsService.getNum("pivotGroupHeaderHeight"))!==null&&e!==void 0?e:this.getGroupHeaderHeight()}queueResizeOperations(){this.shouldQueueResizeOperations=!0}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}resetColumnDefIntoColumn(e){const t=e.getUserProvidedColDef();if(!t)return!1;const i=this.columnFactory.mergeColDefs(t,e.getColId());return e.setColDef(i,t),!0}generateColumnStateForRowGroupAndPivotIndexes(e,t){let i={};const n=(o,r,l,a,c,d)=>{if(!r.length||!this.primaryColumns)return[];const u=Object.keys(o),h=new Set(u),p=new Set(u),g=new Set(r.map(T=>{const D=T.getColId();return p.delete(D),D}).concat(u)),f=[],v={};let w=0;for(let T=0;T<this.primaryColumns.length;T++){const D=this.primaryColumns[T].getColId();g.has(D)&&(f.push(D),v[D]=w++)}let C=1e3,E=!1,b=0;const S=T=>{const D=v[T];for(let _=b;_<D;_++){const G=f[_];p.has(G)&&(o[G][c]=C++,p.delete(G))}b=D};r.forEach(T=>{const D=T.getColId();if(h.has(D))S(D),o[D][c]=C++;else{const _=T.getColDef();(_[c]===null||_[c]===void 0&&_[d]==null)&&(E||(_[l]||_[l]===void 0&&_[a]?S(D):(p.forEach(H=>{o[H][c]=C+v[H]}),C+=f.length,E=!0)),i[D]||(i[D]={colId:D}),i[D][c]=C++)}})};return n(e,this.rowGroupColumns,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),n(t,this.pivotColumns,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(i)}};zt([y("expressionService")],Nt.prototype,"expressionService",void 0);zt([y("columnFactory")],Nt.prototype,"columnFactory",void 0);zt([y("displayedGroupCreator")],Nt.prototype,"displayedGroupCreator",void 0);zt([y("ctrlsService")],Nt.prototype,"ctrlsService",void 0);zt([y("autoWidthCalculator")],Nt.prototype,"autoWidthCalculator",void 0);zt([y("columnUtils")],Nt.prototype,"columnUtils",void 0);zt([y("columnAnimationService")],Nt.prototype,"columnAnimationService",void 0);zt([y("autoGroupColService")],Nt.prototype,"autoGroupColService",void 0);zt([ht("aggFuncService")],Nt.prototype,"aggFuncService",void 0);zt([ht("valueCache")],Nt.prototype,"valueCache",void 0);zt([ht("animationFrameService")],Nt.prototype,"animationFrameService",void 0);zt([y("sortController")],Nt.prototype,"sortController",void 0);zt([y("columnDefFactory")],Nt.prototype,"columnDefFactory",void 0);zt([de],Nt.prototype,"init",null);zt([hi],Nt.prototype,"destroyColumns",null);zt([U1(0,mi("loggerFactory"))],Nt.prototype,"setBeans",null);Nt=zt([Se("columnModel")],Nt);var z1=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let Cp=class extends ee{calculateColMinWidth(e){return e.minWidth!=null?e.minWidth:this.environment.getMinColWidth()}calculateColMaxWidth(e){return e.maxWidth!=null?e.maxWidth:Number.MAX_SAFE_INTEGER}calculateColInitialWidth(e){const t=this.calculateColMinWidth(e),i=this.calculateColMaxWidth(e);let n;const o=Qi(e.width),r=Qi(e.initialWidth);return o!=null?n=o:r!=null?n=r:n=200,Math.max(Math.min(n,i),t)}getOriginalPathForColumn(e,t){const i=[];let n=!1;const o=(r,l)=>{for(let a=0;a<r.length;a++){if(n)return;const c=r[a];c instanceof gt?(o(c.getChildren(),l+1),i[l]=c):c===e&&(n=!0)}};return o(t,0),n?i:null}depthFirstOriginalTreeSearch(e,t,i){t&&t.forEach(n=>{n instanceof gt&&this.depthFirstOriginalTreeSearch(n,n.getChildren(),i),i(n,e)})}depthFirstAllColumnTreeSearch(e,t){e&&e.forEach(i=>{i instanceof wt&&this.depthFirstAllColumnTreeSearch(i.getChildren(),t),t(i)})}depthFirstDisplayedColumnTreeSearch(e,t){e&&e.forEach(i=>{i instanceof wt&&this.depthFirstDisplayedColumnTreeSearch(i.getDisplayedChildren(),t),t(i)})}};Cp=z1([Se("columnUtils")],Cp);var K1=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let yp=class extends ee{createDisplayedGroups(e,t,i,n,o){const r=[];let l,a;const c=this.mapOldGroupsById(o);return e.forEach(d=>{const u=this.getOriginalPathForColumn(t,d),h=[],p=!a;for(let f=0;f<u.length;f++)if(p||u[f]!==a[f]){const v=this.createColumnGroup(u[f],i,c,n);h[f]=v,f==0?r.push(v):h[f-1].addChild(v)}else h[f]=l[f];h.length===0?r.push(d):ft(h).addChild(d),l=h,a=u}),this.setupParentsIntoColumns(r,null),r}createColumnGroup(e,t,i,n){const o=e.getGroupId(),r=t.getInstanceIdForKey(o),l=wt.createUniqueId(o,r);let a=i[l];return a&&a.getProvidedColumnGroup()!==e&&(a=null),Q(a)?a.reset():(a=new wt(e,o,r,n),this.context.createBean(a)),a}mapOldGroupsById(e){const t={},i=n=>{n.forEach(o=>{if(o instanceof wt){const r=o;t[o.getUniqueId()]=r,i(r.getChildren())}})};return e&&i(e),t}setupParentsIntoColumns(e,t){e.forEach(i=>{if(i.setParent(t),i instanceof wt){const n=i;this.setupParentsIntoColumns(n.getChildren(),n)}})}getOriginalPathForColumn(e,t){const i=[];let n=!1;const o=(r,l)=>{for(let a=0;a<r.length;a++){if(n)return;const c=r[a];c instanceof gt?(o(c.getChildren(),l+1),i[l]=c):c===t&&(n=!0)}};return o(e,0),n?i:(console.warn("AG Grid: could not get path"),null)}};yp=K1([Se("displayedGroupCreator")],yp);var Y1=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let wp=class extends ee{constructor(){super(...arguments),this.componentsMappedByName={}}setupComponents(e){e&&e.forEach(t=>this.addComponent(t))}addComponent(e){const i=e.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[i]=e.componentClass}getComponentClass(e){return this.componentsMappedByName[e]}};wp=Y1([Se("agStackComponentsRegistry")],wp);function Xs(s,e,t){t==null||t==""?Pf(s,e):rs(s,e,t)}function rs(s,e,t){s.setAttribute(ww(e),t.toString())}function Pf(s,e){s.removeAttribute(ww(e))}function ww(s){return`aria-${s}`}function Ht(s,e){e?s.setAttribute("role",e):s.removeAttribute("role")}function Sw(s){let e;return s==="asc"?e="ascending":s==="desc"?e="descending":s==="mixed"?e="other":e="none",e}function bw(s){return parseInt(s.getAttribute("aria-level"),10)}function Ew(s){return parseInt(s.getAttribute("aria-posinset"),10)}function q1(s){return s.getAttribute("aria-describedby")||""}function Qn(s,e){Xs(s,"label",e)}function ou(s,e){Xs(s,"labelledby",e)}function Rw(s,e){Xs(s,"description",e)}function Tw(s,e){Xs(s,"describedby",e)}function Dw(s,e){Xs(s,"live",e)}function Ow(s,e){Xs(s,"level",e)}function Af(s,e){Xs(s,"disabled",e)}function ru(s,e){Xs(s,"hidden",e)}function fs(s,e){rs(s,"expanded",e)}function _w(s){Pf(s,"expanded")}function Ff(s,e){rs(s,"setsize",e)}function Mf(s,e){rs(s,"posinset",e)}function Pw(s,e){rs(s,"multiselectable",e)}function Aw(s,e){rs(s,"rowcount",e)}function Lf(s,e){rs(s,"rowindex",e)}function Fw(s,e){rs(s,"colcount",e)}function If(s,e){rs(s,"colindex",e)}function Mw(s,e){rs(s,"colspan",e)}function Lw(s,e){rs(s,"sort",e)}function Iw(s){Pf(s,"sort")}function Rr(s,e){Xs(s,"selected",e)}function Nw(s,e){rs(s,"checked",e===void 0?"mixed":e)}function Q1(s,e){Xs(s,"controls",e.id),ou(e,s.id)}function lu(s,e){return e===void 0?s("ariaIndeterminate","indeterminate"):e===!0?s("ariaChecked","checked"):s("ariaUnchecked","unchecked")}const X1=Object.freeze(Object.defineProperty({__proto__:null,getAriaCheckboxStateName:lu,getAriaDescribedBy:q1,getAriaLevel:bw,getAriaPosInSet:Ew,getAriaSortState:Sw,removeAriaExpanded:_w,removeAriaSort:Iw,setAriaChecked:Nw,setAriaColCount:Fw,setAriaColIndex:If,setAriaColSpan:Mw,setAriaControls:Q1,setAriaDescribedBy:Tw,setAriaDescription:Rw,setAriaDisabled:Af,setAriaExpanded:fs,setAriaHidden:ru,setAriaLabel:Qn,setAriaLabelledBy:ou,setAriaLevel:Ow,setAriaLive:Dw,setAriaMultiSelectable:Pw,setAriaPosInSet:Mf,setAriaRole:Ht,setAriaRowCount:Aw,setAriaRowIndex:Lf,setAriaSelected:Rr,setAriaSetSize:Ff,setAriaSort:Lw},Symbol.toStringTag,{value:"Module"}));let Oh,Fc,_h,Ph,Ah,Fh,Sp,bp;function ns(){return Oh===void 0&&(Oh=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),Oh}function Nf(){if(Fc===void 0)if(ns()){const s=navigator.userAgent.match(/version\/(\d+)/i);s&&(Fc=s[1]!=null?parseFloat(s[1]):0)}else Fc=0;return Fc}function au(){if(_h===void 0){const s=window;_h=!!s.chrome&&(!!s.chrome.webstore||!!s.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return _h}function xf(){return Ph===void 0&&(Ph=/(firefox)/i.test(navigator.userAgent)),Ph}function Gf(){return Ah===void 0&&(Ah=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),Ah}function Xn(){return Fh===void 0&&(Fh=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),Fh}function cu(){return!ns()||Nf()>=15}function hd(s){if(!s)return null;const e=s.tabIndex,t=s.getAttribute("tabIndex");return e===-1&&(t===null||t===""&&!xf())?null:e.toString()}function xw(){if(!document.body)return-1;let s=1e6;const e=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,t=document.createElement("div");for(document.body.appendChild(t);;){const i=s*2;if(t.style.height=i+"px",i>e||t.clientHeight!==i)break;s=i}return document.body.removeChild(t),s}function Gw(){var s,e,t;return(e=(s=document.body)===null||s===void 0?void 0:s.clientWidth)!==null&&e!==void 0?e:window.innerHeight||((t=document.documentElement)===null||t===void 0?void 0:t.clientWidth)||-1}function Vw(){var s,e,t;return(e=(s=document.body)===null||s===void 0?void 0:s.clientHeight)!==null&&e!==void 0?e:window.innerHeight||((t=document.documentElement)===null||t===void 0?void 0:t.clientHeight)||-1}function Hw(){return bp==null&&kw(),bp}function kw(){const s=document.body,e=document.createElement("div");e.style.width=e.style.height="100px",e.style.opacity="0",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",e.style.position="absolute",s.appendChild(e);let t=e.offsetWidth-e.clientWidth;t===0&&e.clientWidth===0&&(t=null),e.parentNode&&e.parentNode.removeChild(e),t!=null&&(bp=t,Sp=t===0)}function lr(){return Sp==null&&kw(),Sp}const J1=Object.freeze(Object.defineProperty({__proto__:null,browserSupportsPreventScroll:cu,getBodyHeight:Vw,getBodyWidth:Gw,getMaxDivHeight:xw,getSafariVersion:Nf,getScrollbarWidth:Hw,getTabIndex:hd,isBrowserChrome:au,isBrowserFirefox:xf,isBrowserSafari:ns,isIOSUserAgent:Xn,isInvisibleScrollbar:lr,isMacOsUserAgent:Gf},Symbol.toStringTag,{value:"Module"}));function ar(s,e){return s.toString().padStart(e,"0")}function Bw(s,e){const t=[];for(let i=s;i<=e;i++)t.push(i);return t}function Z1(s){return typeof s=="string"&&(s=parseInt(s,10)),typeof s=="number"?Math.floor(s):null}function eV(s,e){let t="";for(let i=0;i<e;i++)t+=String.fromCharCode(s&255),s>>>=8;return t}function tV(s,e,t){return typeof s!="number"?"":Vf(Math.round(s*100)/100,e,t)}function Vf(s,e,t){return typeof s!="number"?"":s.toString().replace(".",t).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${e}`)}function iV(s){return s==null?null:s.reduce((e,t)=>e+t,0)}function sV(s,e){return s>=0?s:e}function nV(s,e){const t=parseInt(s,10);return!isNaN(t)&&isFinite(t)&&t>0?t:e}const oV=Object.freeze(Object.defineProperty({__proto__:null,cleanNumber:Z1,createArrayOfNumbers:Bw,decToHex:eV,formatNumberCommas:Vf,formatNumberTwoDecimalPlacesAndCommas:tV,oneOrGreater:nV,padStartWidthZeros:ar,sum:iV,zeroOrGreater:sV},Symbol.toStringTag,{value:"Module"}));function es(s,e=!0,t="-"){if(!s)return null;let i=[s.getFullYear(),s.getMonth()+1,s.getDate()].map(n=>ar(n,2)).join(t);return e&&(i+=" "+[s.getHours(),s.getMinutes(),s.getSeconds()].map(n=>ar(n,2)).join(":")),i}const Mh=s=>{if(s>3&&s<21)return"th";switch(s%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function jc(s,e="YYYY-MM-DD"){const t=ar(s.getFullYear(),4),i=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o={YYYY:()=>t.slice(t.length-4,t.length),YY:()=>t.slice(t.length-2,t.length),Y:()=>`${s.getFullYear()}`,MMMM:()=>i[s.getMonth()],MMM:()=>i[s.getMonth()].slice(0,3),MM:()=>ar(s.getMonth()+1,2),Mo:()=>`${s.getMonth()+1}${Mh(s.getMonth()+1)}`,M:()=>`${s.getMonth()+1}`,Do:()=>`${s.getDate()}${Mh(s.getDate())}`,DD:()=>ar(s.getDate(),2),D:()=>`${s.getDate()}`,dddd:()=>n[s.getDay()],ddd:()=>n[s.getDay()].slice(0,3),dd:()=>n[s.getDay()].slice(0,2),do:()=>`${s.getDay()}${Mh(s.getDay())}`,d:()=>`${s.getDay()}`},r=new RegExp(Object.keys(o).join("|"),"g");return e.replace(r,l=>l in o?o[l]():l)}function Rs(s){if(!s)return null;const[e,t]=s.split(" ");if(!e)return null;const i=e.split("-").map(u=>parseInt(u,10));if(i.filter(u=>!isNaN(u)).length!==3)return null;const[n,o,r]=i,l=new Date(n,o-1,r);if(l.getFullYear()!==n||l.getMonth()!==o-1||l.getDate()!==r)return null;if(!t||t==="00:00:00")return l;const[a,c,d]=t.split(":").map(u=>parseInt(u,10));return a>=0&&a<24&&l.setHours(a),c>=0&&c<60&&l.setMinutes(c),d>=0&&d<60&&l.setSeconds(d),l}const rV=Object.freeze(Object.defineProperty({__proto__:null,dateToFormattedString:jc,parseDateTimeFromString:Rs,serialiseDate:es},Symbol.toStringTag,{value:"Module"}));let Mc;function lV(s,e,t){const i=s.parentElement;let n=i&&i.firstChild;for(;n;)e&&n.classList.toggle(e,n===s),t&&n.classList.toggle(t,n!==s),n=n.nextSibling}const $w="[tabindex], input, select, button, textarea, [href]",Hf=".ag-hidden, .ag-hidden *, [disabled], .ag-disabled:not(.ag-button), .ag-disabled *.mjs";function kf(s){const e=Element.prototype.matches||Element.prototype.msMatchesSelector,t="input, select, button, textarea",i=e.call(s,t),n=e.call(s,Hf),o=yn(s);return i&&!n&&o}function Je(s,e,t={}){const{skipAriaHidden:i}=t;s.classList.toggle("ag-hidden",!e),i||ru(s,!e)}function Ww(s,e,t={}){const{skipAriaHidden:i}=t;s.classList.toggle("ag-invisible",!e),i||ru(s,!e)}function Tr(s,e){const t="disabled",i=e?n=>n.setAttribute(t,""):n=>n.removeAttribute(t);i(s),Kf(s.querySelectorAll("input"),n=>i(n))}function Eo(s,e,t){let i=0;for(;s;){if(s.classList.contains(e))return!0;if(s=s.parentElement,typeof t=="number"){if(++i>t)break}else if(s===t)break}return!1}function Jn(s){const{height:e,width:t,borderTopWidth:i,borderRightWidth:n,borderBottomWidth:o,borderLeftWidth:r,paddingTop:l,paddingRight:a,paddingBottom:c,paddingLeft:d,marginTop:u,marginRight:h,marginBottom:p,marginLeft:g,boxSizing:f}=window.getComputedStyle(s);return{height:parseFloat(e),width:parseFloat(t),borderTopWidth:parseFloat(i),borderRightWidth:parseFloat(n),borderBottomWidth:parseFloat(o),borderLeftWidth:parseFloat(r),paddingTop:parseFloat(l),paddingRight:parseFloat(a),paddingBottom:parseFloat(c),paddingLeft:parseFloat(d),marginTop:parseFloat(u),marginRight:parseFloat(h),marginBottom:parseFloat(p),marginLeft:parseFloat(g),boxSizing:f}}function Ma(s){const e=Jn(s);return e.boxSizing==="border-box"?e.height-e.paddingTop-e.paddingBottom:e.height}function du(s){const e=Jn(s);return e.boxSizing==="border-box"?e.width-e.paddingLeft-e.paddingRight:e.width}function Bf(s){const e=Jn(s),t=e.marginBottom+e.marginTop;return Math.ceil(s.offsetHeight+t)}function uu(s){const e=Jn(s),t=e.marginLeft+e.marginRight;return Math.ceil(s.offsetWidth+t)}function $f(s){const e=s.getBoundingClientRect(),{borderTopWidth:t,borderLeftWidth:i,borderRightWidth:n,borderBottomWidth:o}=Jn(s);return{top:e.top+(t||0),left:e.left+(i||0),right:e.right+(n||0),bottom:e.bottom+(o||0)}}function ia(){if(typeof Mc=="boolean")return Mc;const s=document.createElement("div");return s.style.direction="rtl",s.style.width="1px",s.style.height="1px",s.style.position="fixed",s.style.top="0px",s.style.overflow="hidden",s.dir="rtl",s.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(s),s.scrollLeft=1,Mc=Math.floor(s.scrollLeft)===0,document.body.removeChild(s),Mc}function sa(s,e){let t=s.scrollLeft;return e&&(t=Math.abs(t),au()&&!ia()&&(t=s.scrollWidth-s.clientWidth-t)),t}function na(s,e,t){t&&(ia()?e*=-1:(ns()||au())&&(e=s.scrollWidth-s.clientWidth-e)),s.scrollLeft=e}function Ni(s){for(;s&&s.firstChild;)s.removeChild(s.firstChild)}function aV(s,e){cn(s.querySelector(e))}function cn(s){s&&s.parentNode&&s.parentNode.removeChild(s)}function yn(s){return s.offsetParent!==null}function $t(s){const e=document.createElement("div");return e.innerHTML=(s||"").trim(),e.firstChild}function cV(s,e){s.lastChild?s.insertAdjacentHTML("afterbegin",e):s.innerHTML=e}function dV(s,e){return s.attributes&&s.attributes[e]?s.attributes[e].value:null}function Ep(s){return s&&s.clientHeight?s.clientHeight:0}function Rp(s){return s&&s.clientWidth?s.clientWidth:0}function Wf(s,e,t){if(t&&t.nextSibling===e)return;const i=document.activeElement,n=e.contains(i);t?t.nextSibling?s.insertBefore(e,t.nextSibling):s.appendChild(e):s.firstChild&&s.firstChild!==e&&s.insertAdjacentElement("afterbegin",e),n&&i&&cu()&&i.focus({preventScroll:!0})}function Uf(s,e){for(let t=0;t<e.length;t++){const i=e[t],n=s.children[t];n!==i&&s.insertBefore(i,n)}}function Uw(s,e,t){t?t.insertAdjacentElement("afterend",e):s.firstChild?s.insertAdjacentElement("afterbegin",e):s.appendChild(e)}function uV(s,e){Q(s.firstChild)?s.insertBefore(e,s.firstChild):s.appendChild(e)}function jf(s,e){if(e)for(const[t,i]of Object.entries(e)){if(!t||!t.length||i==null)continue;const n=Cw(t),o=i.toString(),r=o.replace(/\s*!important/g,""),l=r.length!=o.length?"important":void 0;s.style.setProperty(n,r,l)}}function jw(s){return s.clientWidth<s.scrollWidth}function zw(s){return s.clientHeight<s.scrollHeight}function La(s,e){e==="flex"?(s.style.removeProperty("width"),s.style.removeProperty("minWidth"),s.style.removeProperty("maxWidth"),s.style.flex="1 1 auto"):ts(s,e)}function ts(s,e){e=zf(e),s.style.width=e.toString(),s.style.maxWidth=e.toString(),s.style.minWidth=e.toString()}function hV(s,e){e==="flex"?(s.style.removeProperty("height"),s.style.removeProperty("minHeight"),s.style.removeProperty("maxHeight"),s.style.flex="1 1 auto"):Ro(s,e)}function Ro(s,e){e=zf(e),s.style.height=e.toString(),s.style.maxHeight=e.toString(),s.style.minHeight=e.toString()}function zf(s){return typeof s=="number"?`${s}px`:s}function Ia(s){return s instanceof Node||s instanceof HTMLElement}function Kw(s){if(s==null)return[];const e=[];return Kf(s,t=>e.push(t)),e}function Yw(s,e){if(s)for(let t=0;t<s.length;t++){const i=s[t];e(i.name,i.value)}}function kn(s,e,t){t==null?s.removeAttribute(e):s.setAttribute(e,t.toString())}function Kf(s,e){if(s!=null)for(let t=0;t<s.length;t++)e(s[t])}const pV=Object.freeze(Object.defineProperty({__proto__:null,FOCUSABLE_EXCLUDE:Hf,FOCUSABLE_SELECTOR:$w,addOrRemoveAttribute:kn,addStylesToElement:jf,appendHtml:cV,clearElement:Ni,copyNodeList:Kw,ensureDomOrder:Wf,formatSize:zf,getAbsoluteHeight:Bf,getAbsoluteWidth:uu,getElementAttribute:dV,getElementRectWithOffset:$f,getElementSize:Jn,getInnerHeight:Ma,getInnerWidth:du,getScrollLeft:sa,insertWithDomOrder:Uw,isElementChildOfClass:Eo,isFocusableFormField:kf,isHorizontalScrollShowing:jw,isNodeOrElement:Ia,isRtlNegativeScroll:ia,isVerticalScrollShowing:zw,isVisible:yn,iterateNamedNodeMap:Yw,loadTemplate:$t,nodeListForEach:Kf,offsetHeight:Ep,offsetWidth:Rp,prependDC:uV,radioCssClass:lV,removeElement:aV,removeFromParent:cn,setDisabled:Tr,setDisplayed:Je,setDomChildOrder:Uf,setElementHeight:hV,setElementWidth:La,setFixedHeight:Ro,setFixedWidth:ts,setScrollLeft:na,setVisible:Ww},Symbol.toStringTag,{value:"Module"})),qw={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"};function Yi(s,e,t){const i=_t(s,e,t);if(i){const{className:o}=i;if(typeof o=="string"&&o.indexOf("ag-icon")>-1||typeof o=="object"&&o["ag-icon"])return i}const n=document.createElement("span");return n.appendChild(i),n}function _t(s,e,t,i){let n=null;const o=t&&t.getColDef().icons;if(o&&(n=o[s]),e&&!n){const r=e.get("icons");r&&(n=r[s])}if(n){let r;if(typeof n=="function")r=n();else if(typeof n=="string")r=n;else throw new Error("icon from grid options needs to be a string or a function");if(typeof r=="string")return $t(r);if(Ia(r))return r;console.warn("AG Grid: iconRenderer should return back a string or a dom object")}else{const r=document.createElement("span");let l=qw[s];return l||(i?l=s:(console.warn(`AG Grid: Did not find icon ${s}`),l="")),r.setAttribute("class",`ag-icon ag-icon-${l}`),r.setAttribute("unselectable","on"),Ht(r,"presentation"),r}}const fV=Object.freeze(Object.defineProperty({__proto__:null,createIcon:Yi,createIconNoSpan:_t,iconNameClassMap:qw},Symbol.toStringTag,{value:"Module"}));class ${}$.BACKSPACE="Backspace";$.TAB="Tab";$.ENTER="Enter";$.ESCAPE="Escape";$.SPACE=" ";$.LEFT="ArrowLeft";$.UP="ArrowUp";$.RIGHT="ArrowRight";$.DOWN="ArrowDown";$.DELETE="Delete";$.F2="F2";$.PAGE_UP="PageUp";$.PAGE_DOWN="PageDown";$.PAGE_HOME="Home";$.PAGE_END="End";$.A="KeyA";$.C="KeyC";$.D="KeyD";$.V="KeyV";$.X="KeyX";$.Y="KeyY";$.Z="KeyZ";const gV=65,mV=67,vV=86,CV=68,yV=90,wV=89;function Yf(s){return s.altKey||s.ctrlKey||s.metaKey?!1:s.key.length===1}function pd(s,e,t,i,n){const o=i?i.getColDef().suppressKeyboardEvent:void 0;if(!o)return!1;const r={event:e,editing:n,column:i,api:s.api,node:t,data:t.data,colDef:i.getColDef(),context:s.context,columnApi:s.columnApi};return!!(o&&o(r))}function Qw(s,e,t,i){const n=i.getDefinition(),o=n&&n.suppressHeaderKeyboardEvent;if(!Q(o))return!1;const r={api:s.api,columnApi:s.columnApi,context:s.context,colDef:n,column:i,headerRowIndex:t,event:e};return!!o(r)}function Xw(s){const{keyCode:e}=s;let t;switch(e){case gV:t=$.A;break;case mV:t=$.C;break;case vV:t=$.V;break;case CV:t=$.D;break;case yV:t=$.Z;break;case wV:t=$.Y;break;default:t=s.code}return t}function Jw(s,e=!1){return s===$.DELETE?!0:!e&&s===$.BACKSPACE?Gf():!1}const SV=Object.freeze(Object.defineProperty({__proto__:null,isDeleteKey:Jw,isEventFromPrintableCharacter:Yf,isUserSuppressingHeaderKeyboardEvent:Qw,isUserSuppressingKeyboardEvent:pd,normaliseQwertyAzerty:Xw},Symbol.toStringTag,{value:"Module"}));function qf(s,e,t){if(t===0)return!1;const i=Math.abs(s.clientX-e.clientX),n=Math.abs(s.clientY-e.clientY);return Math.max(i,n)<=t}const bV=Object.freeze(Object.defineProperty({__proto__:null,areEventsNear:qf},Symbol.toStringTag,{value:"Module"}));function EV(s,e){if(!s)return!1;const t=(r,l)=>{const a=e[r.id],c=e[l.id],d=a!==void 0,u=c!==void 0,h=d&&u,p=!d&&!u;return h?a-c:p?r.__objectId-l.__objectId:d?1:-1};let i,n,o=!1;for(let r=0;r<s.length-1;r++)if(i=s[r],n=s[r+1],t(i,n)>0){o=!0;break}return o?(s.sort(t),!0):!1}function RV(s,e){const t=[];i(s);function i(n){n&&n.forEach(o=>{if(o.group||o.hasChildren()){t.push(o.key);const r=t.join("|");e(o,r),i(o.childrenAfterGroup),t.pop()}})}}const TV=Object.freeze(Object.defineProperty({__proto__:null,sortRowNodesByOrder:EV,traverseNodesWithKey:RV},Symbol.toStringTag,{value:"Module"}));function Qf(s){const e=new Set;return s.forEach(t=>e.add(t)),e}const DV=Object.freeze(Object.defineProperty({__proto__:null,convertToSet:Qf},Symbol.toStringTag,{value:"Module"})),OV=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},X1),_1),J1),rV),pV),A1),v1),$1),l1),fV),SV),k1),bV),oV),f1),TV),DV),G1),Qe=OV;class Xf{constructor(e=0,t=1){this.nextValue=e,this.step=t}next(){const e=this.nextValue;return this.nextValue+=this.step,e}peek(){return this.nextValue}skip(e){this.nextValue+=e}}var Xo;(function(s){s[s.IN_PROGRESS=0]="IN_PROGRESS",s[s.RESOLVED=1]="RESOLVED"})(Xo||(Xo={}));class ai{constructor(e){this.status=Xo.IN_PROGRESS,this.resolution=null,this.waiters=[],e(t=>this.onDone(t),t=>this.onReject(t))}static all(e){return new ai(t=>{let i=e.length;const n=new Array(i);e.forEach((o,r)=>{o.then(l=>{n[r]=l,i--,i===0&&t(n)})})})}static resolve(e=null){return new ai(t=>t(e))}then(e){return new ai(t=>{this.status===Xo.RESOLVED?t(e(this.resolution)):this.waiters.push(i=>t(e(i)))})}resolveNow(e,t){return this.status===Xo.RESOLVED?t(this.resolution):e}onDone(e){this.status=Xo.RESOLVED,this.resolution=e,this.waiters.forEach(t=>t(e))}onReject(e){console.warn("TBI")}}var Jf=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},ds;(function(s){s[s.NOTHING=0]="NOTHING",s[s.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",s[s.SHOWING=2]="SHOWING"})(ds||(ds={}));class mn extends ee{constructor(e){super(),this.DEFAULT_SHOW_TOOLTIP_DELAY=2e3,this.DEFAULT_HIDE_TOOLTIP_DELAY=1e4,this.SHOW_QUICK_TOOLTIP_DIFF=1e3,this.FADE_OUT_TOOLTIP_TIMEOUT=1e3,this.state=ds.NOTHING,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1,this.parentComp=e}postConstruct(){this.tooltipShowDelay=this.getTooltipDelay("show")||this.DEFAULT_SHOW_TOOLTIP_DELAY,this.tooltipHideDelay=this.getTooltipDelay("hide")||this.DEFAULT_HIDE_TOOLTIP_DELAY,this.tooltipMouseTrack=this.gridOptionsService.is("tooltipMouseTrack");const e=this.parentComp.getGui();this.addManagedListener(e,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(e,"mouseleave",this.onMouseLeave.bind(this)),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(e,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(e,"keydown",this.onKeyDown.bind(this))}destroy(){this.setToDoNothing(),super.destroy()}onMouseEnter(e){if(Xn()||this.state!=ds.NOTHING)return;const t=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay;this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.lastMouseEvent=e,this.state=ds.WAITING_TO_SHOW}onMouseLeave(){this.setToDoNothing()}onKeyDown(){this.setToDoNothing()}setToDoNothing(){this.state===ds.SHOWING&&this.hideTooltip(),this.clearTimeouts(),this.state=ds.NOTHING}onMouseMove(e){this.lastMouseEvent=e,this.tooltipMouseTrack&&this.state===ds.SHOWING&&this.tooltipComp&&this.positionTooltipUnderLastMouseEvent()}onMouseDown(){this.setToDoNothing()}getTooltipDelay(e){const t=this.gridOptionsService.getNum("tooltipShowDelay"),i=this.gridOptionsService.getNum("tooltipHideDelay"),n=e==="show"?t:i,o=mw(e);return Q(n)?(n<0&&st(()=>console.warn(`AG Grid: tooltip${o}Delay should not be lower than 0`),`tooltip${o}DelayWarn`),Math.max(200,n)):null}hideTooltip(){this.tooltipComp&&(this.destroyTooltipComp(),mn.lastTooltipHideTime=new Date().getTime()),this.state=ds.NOTHING}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,t=this.tooltipComp;window.setTimeout(()=>{e(),this.getContext().destroyBean(t)},this.FADE_OUT_TOOLTIP_TIMEOUT),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}isLastTooltipHiddenRecently(){const e=new Date().getTime(),t=mn.lastTooltipHideTime;return e-t<this.SHOW_QUICK_TOOLTIP_DIFF}showTooltip(){const e=Object.assign({},this.parentComp.getTooltipParams());if(!Q(e.value)){this.setToDoNothing();return}this.state=ds.SHOWING,this.tooltipInstanceCount++;const t=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(e).newAgStackInstance().then(t)}newTooltipComponentCallback(e,t){if(this.state!==ds.SHOWING||this.tooltipInstanceCount!==e){this.getContext().destroyBean(t);return}const n=t.getGui();this.tooltipComp=t,n.classList.contains("ag-tooltip")||n.classList.add("ag-tooltip-custom");const o=this.localeService.getLocaleTextFunc(),r=this.popupService.addPopup({eChild:n,ariaLabel:o("ariaLabelTooltip","Tooltip")});r&&(this.tooltipPopupDestroyFunc=r.hideFunc),this.positionTooltipUnderLastMouseEvent(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.tooltipHideDelay)}positionTooltipUnderLastMouseEvent(){this.popupService.positionPopupUnderMouseEvent({type:"tooltip",mouseEvent:this.lastMouseEvent,ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack})}clearTimeouts(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0),this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}}Jf([y("popupService")],mn.prototype,"popupService",void 0);Jf([y("userComponentFactory")],mn.prototype,"userComponentFactory",void 0);Jf([de],mn.prototype,"postConstruct",null);class _V{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){const t=(e||"").split(" ");if(t.length>1){t.forEach(n=>this.addCssClass(n));return}if(this.cssClassStates[e]!==!0&&e.length){const n=this.getGui();n&&n.classList.add(e),this.cssClassStates[e]=!0}}removeCssClass(e){const t=(e||"").split(" ");if(t.length>1){t.forEach(n=>this.removeCssClass(n));return}if(this.cssClassStates[e]!==!1&&e.length){const n=this.getGui();n&&n.classList.remove(e),this.cssClassStates[e]=!1}}containsCssClass(e){const t=this.getGui();return t?t.classList.contains(e):!1}addOrRemoveCssClass(e,t){if(!e)return;if(e.indexOf(" ")>=0){const n=(e||"").split(" ");if(n.length>1){n.forEach(o=>this.addOrRemoveCssClass(o,t));return}}if(this.cssClassStates[e]!==t&&e.length){const n=this.getGui();n&&n.classList.toggle(e,t),this.cssClassStates[e]=t}}}var Zf=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};const PV=new Xf;class ke extends ee{constructor(e){super(),this.displayed=!0,this.visible=!0,this.compId=PV.next(),this.cssClassManager=new _V(()=>this.eGui),e&&this.setTemplate(e)}preConstructOnComponent(){this.usingBrowserTooltips=this.gridOptionsService.is("enableBrowserTooltips")}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(e){const t=()=>{this.usingBrowserTooltips?this.getGui().removeAttribute("title"):this.tooltipFeature=this.destroyBean(this.tooltipFeature)},i=()=>{this.usingBrowserTooltips?this.getGui().setAttribute("title",this.tooltipText):this.tooltipFeature=this.createBean(new mn(this))};this.tooltipText!=e&&(this.tooltipText&&t(),e!=null&&(this.tooltipText=e,this.tooltipText&&i()))}createChildComponentsFromTags(e,t){Kw(e.childNodes).forEach(n=>{if(!(n instanceof HTMLElement))return;const o=this.createComponentFromElement(n,r=>{r.getGui()&&this.copyAttributesFromNode(n,r.getGui())},t);if(o){if(o.addItems&&n.children.length){this.createChildComponentsFromTags(n,t);const r=Array.prototype.slice.call(n.children);o.addItems(r)}this.swapComponentForNode(o,e,n)}else n.childNodes&&this.createChildComponentsFromTags(n,t)})}createComponentFromElement(e,t,i){const n=e.nodeName,o=i?i[e.getAttribute("ref")]:void 0,r=this.agStackComponentsRegistry.getComponentClass(n);if(r){ke.elementGettingCreated=e;const l=new r(o);return l.setParentComponent(this),this.createBean(l,null,t),l}return null}copyAttributesFromNode(e,t){Yw(e.attributes,(i,n)=>t.setAttribute(i,n))}swapComponentForNode(e,t,i){const n=e.getGui();t.replaceChild(n,i),t.insertBefore(document.createComment(i.nodeName),n),this.addDestroyFunc(this.destroyBean.bind(this,e)),this.swapInComponentForQuerySelectors(e,i)}swapInComponentForQuerySelectors(e,t){const i=this;this.iterateOverQuerySelectors(n=>{i[n.attributeName]===t&&(i[n.attributeName]=e)})}iterateOverQuerySelectors(e){let t=Object.getPrototypeOf(this);for(;t!=null;){const i=t.__agComponentMetaData,n=eu(t.constructor);i&&i[n]&&i[n].querySelectors&&i[n].querySelectors.forEach(o=>e(o)),t=Object.getPrototypeOf(t)}}activateTabIndex(e){const t=this.gridOptionsService.getNum("tabIndex")||0;e||(e=[]),e.length||e.push(this.getGui()),e.forEach(i=>i.setAttribute("tabindex",t.toString()))}setTemplate(e,t){const i=$t(e);this.setTemplateFromElement(i,t)}setTemplateFromElement(e,t){this.eGui=e,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),t)}createChildComponentsPreConstruct(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())}wireQuerySelectors(){if(!this.eGui)return;const e=this;this.iterateOverQuerySelectors(t=>{const i=o=>e[t.attributeName]=o;if(t.refSelector&&this.getAttribute("ref")===t.refSelector)i(this.eGui);else{const o=this.eGui.querySelector(t.querySelector);o&&i(o.__agComponent||o)}})}getGui(){return this.eGui}getFocusableElement(){return this.eGui}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}queryForHtmlInputElement(e){return this.eGui.querySelector(e)}appendChild(e,t){if(e!=null)if(t||(t=this.eGui),Ia(e))t.appendChild(e);else{const i=e;t.appendChild(i.getGui())}}isDisplayed(){return this.displayed}setVisible(e,t={}){if(e!==this.visible){this.visible=e;const{skipAriaHidden:i}=t;Ww(this.eGui,e,{skipAriaHidden:i})}}setDisplayed(e,t={}){if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:i}=t;Je(this.eGui,e,{skipAriaHidden:i});const n={type:ke.EVENT_DISPLAYED_CHANGED,visible:this.displayed};this.dispatchEvent(n)}}destroy(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.parentComponent&&(this.parentComponent=void 0);const e=this.eGui;e&&e.__agComponent&&(e.__agComponent=void 0),super.destroy()}addGuiEventListener(e,t,i){this.eGui.addEventListener(e,t,i),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCssClass(e){this.cssClassManager.addCssClass(e)}removeCssClass(e){this.cssClassManager.removeCssClass(e)}containsCssClass(e){return this.cssClassManager.containsCssClass(e)}addOrRemoveCssClass(e,t){this.cssClassManager.addOrRemoveCssClass(e,t)}getAttribute(e){const{eGui:t}=this;return t?t.getAttribute(e):null}getRefElement(e){return this.queryForHtmlElement(`[ref="${e}"]`)}}ke.EVENT_DISPLAYED_CHANGED="displayedChanged";Zf([y("agStackComponentsRegistry")],ke.prototype,"agStackComponentsRegistry",void 0);Zf([ow],ke.prototype,"preConstructOnComponent",null);Zf([ow],ke.prototype,"createChildComponentsPreConstruct",null);function ue(s){return AV.bind(this,`[ref=${s}]`,s)}function AV(s,e,t,i,n){if(s===null){console.error("AG Grid: QuerySelector selector should not be null");return}if(typeof n=="number"){console.error("AG Grid: QuerySelector should be on an attribute");return}FV(t,"querySelectors",{attributeName:i,querySelector:s,refSelector:e})}function FV(s,e,t){const i=MV(s,eu(s.constructor));i[e]||(i[e]=[]),i[e].push(t)}function MV(s,e){return s.__agComponentMetaData||(s.__agComponentMetaData={}),s.__agComponentMetaData[e]||(s.__agComponentMetaData[e]={}),s.__agComponentMetaData[e]}var Zw=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class eg extends ke{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>
            </div>`)}destroy(){super.destroy()}init(e){this.params=e;const t=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),i=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${i("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){if(!e){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){const i=t.getModelAsString(e);this.eFloatingFilterText.setValue(i)}})}}Zw([ue("eFloatingFilterText")],eg.prototype,"eFloatingFilterText",void 0);Zw([y("columnModel")],eg.prototype,"columnModel",void 0);class eS{constructor(e,t,i,n){this.alive=!0,this.context=e,this.eParent=n,t.getDateCompDetails(i).newAgStackInstance().then(l=>{if(!this.alive){e.destroyBean(l);return}this.dateComp=l,l&&(n.appendChild(l.getGui()),l.afterGuiAttached&&l.afterGuiAttached(),this.tempValue&&l.setDate(this.tempValue),this.disabled!=null&&this.setDateCompDisabled(this.disabled))})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e}setDisabled(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e}setDisplayed(e){Je(this.eParent,e)}setInputPlaceholder(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)}setInputAriaLabel(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)}afterGuiAttached(e){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(e)}setDateCompDisabled(e){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(e)}}class tS{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach(e=>{if(typeof e=="string")return;const t=[["displayKey"],["displayName"],["predicate","test"]],i=n=>n.some(o=>e[o]!=null)?!0:(console.warn(`AG Grid: ignoring FilterOptionDef as it doesn't contain one of '${n}'`),!1);if(!t.every(i)){this.filterOptions=this.filterOptions.filter(n=>n===e)||[];return}this.customFilterOptions[e.displayKey]=e})}selectDefaultItem(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){const t=this.filterOptions[0];typeof t=="string"?this.defaultOption=t:t.displayKey?this.defaultOption=t.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(e){return this.customFilterOptions[e]}}const iS={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};var sS=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class Hi extends ee{constructor(e,t={}){super(),this.eFocusableElement=e,this.callbacks=t,this.callbacks=Object.assign({shouldStopEventPropagation:()=>!1,onTabKeyDown:i=>{if(i.defaultPrevented)return;const n=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,i.shiftKey);n&&(n.focus(),i.preventDefault())}},t)}postConstruct(){this.eFocusableElement.classList.add(Hi.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)}addKeyDownListeners(e){this.addManagedListener(e,"keydown",t=>{if(!(t.defaultPrevented||ks(t))){if(this.callbacks.shouldStopEventPropagation(t)){gn(t);return}t.key===$.TAB?this.callbacks.onTabKeyDown(t):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(t)}})}}Hi.FOCUS_MANAGED_CLASS="ag-focus-managed";sS([y("focusService")],Hi.prototype,"focusService",void 0);sS([de],Hi.prototype,"postConstruct",null);var tg=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};const nS="ag-resizer-wrapper",LV=`<div class="${nS}">
        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>
        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>
        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>
        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>
        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>
        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>
        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>
        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>
    </div>`;class Na extends ee{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}center(){const{clientHeight:e,clientWidth:t}=this.offsetParent,i=t/2-this.getWidth()/2,n=e/2-this.getHeight()/2;this.offsetElement(i,n)}initialisePosition(){if(this.positioned)return;const{centered:e,forcePopupParentAsOffsetParent:t,minWidth:i,width:n,minHeight:o,height:r,x:l,y:a}=this.config;this.offsetParent||this.setOffsetParent();let c=0,d=0;const u=!!this.element.offsetParent;if(u){const h=this.findBoundaryElement(),p=window.getComputedStyle(h);if(p.minWidth!=null){const g=h.offsetWidth-this.element.offsetWidth;d=parseInt(p.minWidth,10)-g}if(p.minHeight!=null){const g=h.offsetHeight-this.element.offsetHeight;c=parseInt(p.minHeight,10)-g}}if(this.minHeight=o||c,this.minWidth=i||d,n&&this.setWidth(n),r&&this.setHeight(r),(!n||!r)&&this.refreshSize(),e)this.center();else if(l||a)this.offsetElement(l,a);else if(u&&t){let h=this.boundaryEl,p=!0;if(h||(h=this.findBoundaryElement(),p=!1),h){const g=parseFloat(h.style.top),f=parseFloat(h.style.left);p?this.offsetElement(isNaN(f)?0:f,isNaN(g)?0:g):this.setPosition(f,g)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;const i=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(i),this.moveElementDragListener=i):(this.dragService.removeDragSource(i),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{const n=!!e[t],o=this.getResizerElement(t),r={dragStartPixels:0,eElement:o,onDragStart:l=>this.onResizeStart(l,t),onDragging:this.onResize.bind(this),onDragStop:l=>this.onResizeEnd(l,t)};(n||!this.isAlive()&&!n)&&(n?(this.dragService.addDragSource(r),this.resizeListeners.push(r),o.style.pointerEvents="all"):o.style.pointerEvents="none",this.resizable[t]=n)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,i=this.element;let n=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Ro(i,e),e=Bf(i),n=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const o=this.getAvailableHeight();o&&e>o&&(e=o)}this.getHeight()!==e&&(n?(i.style.maxHeight="unset",i.style.minHeight="unset"):t?Ro(i,e):(i.style.height=`${e}px`,i.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:i}=this.offsetParent;if(!i)return null;const n=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),r=e?this.position.y:n.top,l=e?0:o.top;let a=0;if(t){const d=this.element.parentElement;if(d){const{bottom:u}=d.getBoundingClientRect();a=u-n.bottom}}return i+l-r-a}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:i}=this.config;let n=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)ts(t,e),e=uu(t),n=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:o}=this.offsetParent,r=i?this.position.x:this.element.getBoundingClientRect().left;o&&e+r>o&&(e=o-r)}this.getWidth()!==e&&(n?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?ts(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0){const{forcePopupParentAsOffsetParent:i}=this.config,n=i?this.boundaryEl:this.element;n&&(this.popupService.positionPopup({ePopup:n,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(n.style.left),parseFloat(n.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const i=this.getAvailableHeight();this.element.style.setProperty("max-height",`${i}px`)};e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),t):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:i,isTop:n,anywhereWithin:o,topBuffer:r}=e,l=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y,c=this.shouldSkipX(t,!!i,!!o,l)?0:l,d=this.shouldSkipY(t,!!n,r,a)?0:a;return{movementX:c,movementY:d}}shouldSkipX(e,t,i,n){const o=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),l=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:o.left;let c=a<=0&&r.left>=e.clientX||r.right<=e.clientX&&r.right<=l.right;return c?!0:(t?c=n<0&&e.clientX>a+r.left||n>0&&e.clientX<a+r.left:i?c=n<0&&e.clientX>l.right||n>0&&e.clientX<a+r.left:c=n<0&&e.clientX>l.right||n>0&&e.clientX<l.right,c)}shouldSkipY(e,t,i=0,n){const o=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),l=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:o.top;let c=a<=0&&r.top>=e.clientY||r.bottom<=e.clientY&&r.bottom<=l.bottom;return c?!0:(t?c=n<0&&e.clientY>a+r.top+i||n>0&&e.clientY<a+r.top:c=n<0&&e.clientY>l.bottom||n>0&&e.clientY<l.bottom,c)}createResizeMap(){const e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[ref=eTopLeftResizer]")},top:{element:e.querySelector("[ref=eTopResizer]")},topRight:{element:e.querySelector("[ref=eTopRightResizer]")},right:{element:e.querySelector("[ref=eRightResizer]")},bottomRight:{element:e.querySelector("[ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[ref=eBottomLeftResizer]")},left:{element:e.querySelector("[ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const e=this.element;if(!e)return;const i=new DOMParser().parseFromString(LV,"text/html").body;e.appendChild(i.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${nS}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:i,forcePopupParentAsOffsetParent:n}=this.config;!i&&!n&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(i=>!i.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,i=0;for(let n=0;n<e.length;n++){const o=e[n],r=!!o.style.flex&&o.style.flex!=="0 0 auto";if(o===this.element)continue;let l=this.minHeight||0,a=this.minWidth||0;if(r){const c=window.getComputedStyle(o);c.minHeight&&(l=parseInt(c.minHeight,10)),c.minWidth&&(a=parseInt(c.minWidth,10))}else l=o.offsetHeight,a=o.offsetWidth;t+=l,i+=a}return{height:t,width:i}}applySizeToSiblings(e){let t=null;const i=this.getSiblings();if(i){for(let n=0;n<i.length;n++){const o=i[n];o!==t&&(e?o.style.height=`${o.offsetHeight}px`:o.style.width=`${o.offsetWidth}px`,o.style.flex="0 0 auto",o===this.element&&(t=i[n+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:i}=this.config,{isTop:n,isRight:o,isBottom:r,isLeft:l}=this.currentResizer,a=o||l,c=r||n,{movementX:d,movementY:u}=this.calculateMouseMovement({e,isLeft:l,isTop:n}),h=this.position.x,p=this.position.y;let g=0,f=0;if(a&&d){const v=l?-1:1,w=this.getWidth(),C=w+d*v;let E=!1;l&&(g=w-C,(h+g<=0||C<=this.minWidth)&&(E=!0,g=0)),E||this.setWidth(C)}if(c&&u){const v=n?-1:1,w=this.getHeight(),C=w+u*v;let E=!1;n?(f=w-C,(p+f<=0||C<=this.minHeight)&&(E=!0,f=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&w<C&&this.getMinSizeOfSiblings().height+C>this.element.parentElement.offsetHeight&&(E=!0),E||this.setHeight(C)}this.updateDragStartPosition(e.clientX,e.clientY),((t||i)&&g||f)&&this.offsetElement(h+g,p+f)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;const i={type:"resize",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi};this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchEvent(i)}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:i}=this.position;let n;this.config.calculateTopBuffer&&(n=this.config.calculateTopBuffer());const{movementX:o,movementY:r}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:n});this.offsetElement(t+o,i+r),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}}tg([y("popupService")],Na.prototype,"popupService",void 0);tg([y("resizeObserverService")],Na.prototype,"resizeObserverService",void 0);tg([y("dragService")],Na.prototype,"dragService",void 0);var ig=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class Cs extends ke{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null}postConstruct(){this.resetTemplate(),this.createManagedBean(new Hi(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new Na(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit);const i=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" ref="eFilterBody">
                    ${this.createBodyTemplate()}
                </div>
            </form>`;this.setTemplate(i,e),t=this.getGui(),t&&t.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(e){this.providedFilterParams=e,this.applyActive=Cs.isUseApplyButton(e),this.createButtonPanel()}createButtonPanel(){const{buttons:e}=this.providedFilterParams;if(!e||e.length<1||this.isReadOnly())return;const t=document.createElement("div");t.classList.add("ag-filter-apply-panel");const i=n=>{let o,r;switch(n){case"apply":o=this.translate("applyFilter"),r=c=>this.onBtApply(!1,!1,c);break;case"clear":o=this.translate("clearFilter"),r=()=>this.onBtClear();break;case"reset":o=this.translate("resetFilter"),r=()=>this.onBtReset();break;case"cancel":o=this.translate("cancelFilter"),r=c=>{this.onBtCancel(c)};break;default:console.warn("AG Grid: Unknown button type specified");return}const a=$t(`<button
                    type="${n==="apply"?"submit":"button"}"
                    ref="${n}FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >${o}
                </button>`);t.appendChild(a),this.addManagedListener(a,"click",r)};Qf(e).forEach(n=>i(n)),this.getGui().appendChild(t)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){const e=Cs.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),t=Vs(this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(e){return(e!=null?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.providedFilterParams.closeOnApply&&this.close(e)}resetUiToActiveModel(e,t){const i=()=>{this.onUiChanged(!1,"prevent"),t==null||t()};e!=null?this.setModelIntoUi(e).then(i):this.resetUiToDefaults().then(i)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){const t=this.getModelFromUi();if(!this.isModelValid(t))return!1;const i=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(i,t)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,t=!1,i){i&&i.preventDefault(),this.applyModel(t?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t});const{closeOnApply:n}=this.providedFilterParams;n&&this.applyActive&&!e&&!t&&this.close(i)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const t=e,i=t&&t.key;let n;(i==="Enter"||i==="Space")&&(n={keyboardEvent:t}),this.hidePopup(n),this.hidePopup=null}onUiChanged(e=!1,t){if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const i=this.isModelValid(this.getModelFromUi());Tr(this.getRefElement("applyFilterButton"),!i)}e&&!t||t==="immediately"?this.onBtApply(e):(!this.applyActive&&!t||t==="debounce")&&this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e==null?void 0:e.container)}refreshFilterResizer(e){if(!this.positionableFeature||e==="toolPanel")return;const t=e==="floatingFilter",{positionableFeature:i,gridOptionsService:n}=this;t?(i.restoreLastSize(),i.setResizable(n.is("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}static getDebounceMs(e,t){return Cs.isUseApplyButton(e)?(e.debounceMs!=null&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):e.debounceMs!=null?e.debounceMs:t}static isUseApplyButton(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0}destroy(){const e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),super.destroy()}translate(e){return this.localeService.getLocaleTextFunc()(e,iS[e])}getCellValue(e){const{api:t,colDef:i,column:n,columnApi:o,context:r}=this.providedFilterParams;return this.providedFilterParams.valueGetter({api:t,colDef:i,column:n,columnApi:o,context:r,data:e.data,getValue:l=>e.data[l],node:e})}getPositionableElement(){return this.eFilterBody}}ig([y("rowModel")],Cs.prototype,"rowModel",void 0);ig([ue("eFilterBody")],Cs.prototype,"eFilterBody",void 0);ig([de],Cs.prototype,"postConstruct",null);var IV=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class sg extends ke{constructor(e,t){super(t),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:i,labelAlignment:n}=this.config;e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),i!=null&&this.setLabelWidth(i),this.setLabelAlignment(n||this.labelAlignment),this.refreshLabel()}refreshLabel(){Ni(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?(Je(this.eLabel,!1),Ht(this.eLabel,"presentation")):(Je(this.eLabel,!0),Ht(this.eLabel,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const i=this.getGui().classList;return i.toggle("ag-label-align-left",e==="left"),i.toggle("ag-label-align-right",e==="right"),i.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(La(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return Tr(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}}IV([de],sg.prototype,"postConstruct",null);class zs extends sg{constructor(e,t,i){super(e,t),this.className=i}postConstruct(){super.postConstruct(),this.className&&this.addCssClass(this.className)}onValueChange(e){return this.addManagedListener(this,zs.EVENT_CHANGED,()=>e(this.getValue())),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return ts(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchEvent({type:zs.EVENT_CHANGED}),this)}}zs.EVENT_CHANGED="valueChange";var hu=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class xa extends zs{constructor(e,t,i,n){super(e,`<div class="ag-picker-field" role="presentation">
                <div ref="eLabel"></div>
                <div ref="eWrapper"
                    class="ag-wrapper ag-picker-field-wrapper"
                    tabIndex="-1"
                    aria-expanded="false"
                    ${n?`role="${n}"`:""}
                >
                    <div ref="eDisplayField" class="ag-picker-field-display"></div>
                    <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
                </div>
            </div>`,t),this.pickerIcon=i,this.isPickerDisplayed=!1,this.isDestroyingPicker=!1,this.skipClick=!1}postConstruct(){super.postConstruct();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e),Tw(this.eWrapper,e);const t=()=>{if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.pickerComponent=this.showPicker())},i=this.getGui();if(this.addManagedListener(i,"mousedown",n=>{!this.skipClick&&this.pickerComponent&&this.pickerComponent.isAlive()&&yn(this.pickerComponent.getGui())&&i.contains(n.target)&&(this.skipClick=!0)}),this.addManagedListener(i,"keydown",n=>{switch(n.key){case $.UP:case $.DOWN:case $.ENTER:case $.SPACE:t();case $.ESCAPE:this.isPickerDisplayed&&n.preventDefault();break}}),this.addManagedListener(this.eWrapper,"click",t),this.addManagedListener(this.eLabel,"click",t),this.pickerIcon){const n=_t(this.pickerIcon,this.gridOptionsService);n&&this.eIcon.appendChild(n)}}refreshLabel(){Q(this.getLabel())?ou(this.eWrapper,this.getLabelId()):this.eWrapper.removeAttribute("aria-labelledby"),super.refreshLabel()}setAriaLabel(e){return Qn(this.eWrapper,e),this}setInputWidth(e){return La(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}}hu([ue("eLabel")],xa.prototype,"eLabel",void 0);hu([ue("eWrapper")],xa.prototype,"eWrapper",void 0);hu([ue("eDisplayField")],xa.prototype,"eDisplayField",void 0);hu([ue("eIcon")],xa.prototype,"eIcon",void 0);var NV=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class dn extends ke{constructor(e="default"){super(`<div class="ag-list ag-${e}-list" role="listbox"></div>`),this.cssIdentifier=e,this.options=[],this.itemEls=[]}init(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))}handleKeyDown(e){const t=e.key;switch(t){case $.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const o=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(o)}break;case $.DOWN:case $.UP:const i=t===$.DOWN;let n;if(e.preventDefault(),!this.highlightedEl)n=this.itemEls[i?0:this.itemEls.length-1];else{let r=this.itemEls.indexOf(this.highlightedEl)+(i?1:-1);r=Math.min(Math.max(r,0),this.itemEls.length-1),n=this.itemEls[r]}this.highlightItem(n);break}}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){const{value:t,text:i}=e,n=js(i||t);return this.options.push({value:t,text:n}),this.renderOption(t,n),this.updateIndices(),this}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");e.forEach((t,i)=>{Mf(t,i+1),Ff(t,e.length)})}renderOption(e,t){const i=document.createElement("div");Ht(i,"option"),i.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`),i.innerHTML=`<span>${t}</span>`,i.tabIndex=-1,this.itemEls.push(i),this.addManagedListener(i,"mouseover",()=>this.highlightItem(i)),this.addManagedListener(i,"mouseleave",()=>this.clearHighlighted()),this.addManagedListener(i,"click",()=>this.setValue(e)),this.getGui().appendChild(i)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(),this;const i=this.options.findIndex(n=>n.value===e);if(i!==-1){const n=this.options[i];this.value=n.value,this.displayValue=n.text!=null?n.text:n.value,this.highlightItem(this.itemEls[i]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()}highlightItem(e){e.offsetParent&&(this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(dn.ACTIVE_CLASS),Rr(this.highlightedEl,!0),this.highlightedEl.focus())}clearHighlighted(){!this.highlightedEl||!this.highlightedEl.offsetParent||(this.highlightedEl.classList.remove(dn.ACTIVE_CLASS),Rr(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchEvent({type:zs.EVENT_CHANGED}),this.fireItemSelected()}fireItemSelected(){this.dispatchEvent({type:dn.EVENT_ITEM_SELECTED})}}dn.EVENT_ITEM_SELECTED="selectedItem";dn.ACTIVE_CLASS="ag-active-item";NV([de],dn.prototype,"init",null);var oS=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class Zn extends xa{constructor(e){super(e,"ag-select","smallDown","listbox")}init(){this.listComponent=this.createBean(new dn("select")),this.listComponent.setParentComponent(this),this.eWrapper.tabIndex=0,this.listComponent.addManagedListener(this.listComponent,dn.EVENT_ITEM_SELECTED,()=>{this.hideList&&this.hideList(),this.dispatchEvent({type:Zn.EVENT_ITEM_SELECTED})}),this.listComponent.addManagedListener(this.listComponent,zs.EVENT_CHANGED,()=>{this.setValue(this.listComponent.getValue(),!1,!0),this.hideList&&this.hideList()})}showPicker(){const e=this.listComponent.getGui(),t=this.gridOptionsService.getDocument(),i=this.addManagedListener(t.body,"wheel",l=>{!e.contains(l.target)&&this.hideList&&this.hideList()}),n=this.addManagedListener(e,"focusout",l=>{!e.contains(l.relatedTarget)&&this.hideList&&this.hideList()}),o=this.localeService.getLocaleTextFunc(),r=this.popupService.addPopup({modal:!0,eChild:e,closeOnEsc:!0,closedCallback:()=>{this.hideList=null,this.isPickerDisplayed=!1,n(),i(),this.isAlive()&&(fs(this.eWrapper,!1),this.getFocusableElement().focus())},ariaLabel:o("ariaLabelSelectField","Select Field")});return r&&(this.hideList=r.hideFunc),this.isPickerDisplayed=!0,La(e,uu(this.eWrapper)),fs(this.eWrapper,!0),e.style.maxHeight=Ma(this.popupService.getPopupParent())+"px",e.style.position="absolute",this.popupService.positionPopupByComponent({type:"ag-list",eventSource:this.eWrapper,ePopup:e,position:"under",keepWithinBounds:!0}),this.listComponent.refreshHighlighted(),this.listComponent}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}setValue(e,t,i){return this.value===e?this:(i||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),super.setValue(e,t)))}destroy(){this.hideList&&this.hideList(),this.destroyBean(this.listComponent),super.destroy()}}Zn.EVENT_ITEM_SELECTED="selectedItem";oS([y("popupService")],Zn.prototype,"popupService",void 0);oS([de],Zn.prototype,"init",null);var ng=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class gs extends zs{constructor(e,t,i="text",n="input"){super(e,`
            <div role="presentation">
                <div ref="eLabel" class="ag-input-field-label"></div>
                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <${n} ref="eInput" class="ag-input-field-input"></${n}>
                </div>
            </div>`,t),this.inputType=i,this.displayFieldTag=n}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;const{width:e,value:t}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),this.addInputListeners(),this.activateTabIndex([this.eInput])}refreshLabel(){Q(this.getLabel())?ou(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),super.refreshLabel()}addInputListeners(){this.addManagedListener(this.eInput,"input",e=>this.setValue(e.target.value))}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return La(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return kn(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return Qn(this.eInput,e),this}setDisabled(e){return Tr(this.eInput,e),super.setDisabled(e)}}ng([ue("eLabel")],gs.prototype,"eLabel",void 0);ng([ue("eWrapper")],gs.prototype,"eWrapper",void 0);ng([ue("eInput")],gs.prototype,"eInput",void 0);class Wn extends gs{constructor(e,t="ag-checkbox",i="checkbox"){super(e,t,i),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}addInputListeners(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(e,t,i){this.dispatchEvent({type:Wn.EVENT_CHANGED,selected:e,previousValue:t,event:i});const n=this.getInputElement(),o={type:m.EVENT_CHECKBOX_CHANGED,id:n.id,name:n.name,selected:e,previousValue:t};this.eventService.dispatchEvent(o)}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),i=this.selected=e.target.checked;this.refreshSelectedClass(i),this.dispatchChange(i,t,e)}refreshSelectedClass(e){this.eWrapper.classList.toggle("ag-checked",e===!0),this.eWrapper.classList.toggle("ag-indeterminate",e==null)}}class rS extends Wn{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedListener(this.eventService,m.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))}onChange(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)}}class og{constructor(e,t){this.localeService=e,this.optionsFactory=t}getModelAsString(e){if(!e)return null;const t=e.operator!=null,i=this.localeService.getLocaleTextFunc();if(t){const n=e;let{conditions:o}=n;if(!o){const{condition1:a,condition2:c}=n;o=[a,c]}const r=o.map(a=>this.getModelAsString(a)),l=n.operator==="AND"?"andCondition":"orCondition";return r.join(` ${i(l,iS[l])} `)}else{if(e.type===je.BLANK||e.type===je.NOT_BLANK)return i(e.type,e.type);{const n=e,o=this.optionsFactory.getCustomOption(n.type),{displayKey:r,displayName:l,numberOfInputs:a}=o||{};return r&&l&&a===0?(i(r,l),l):this.conditionToString(n,o)}}}}class je extends Cs{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){const t=this.optionsFactory.getCustomOption(e);if(t){const{numberOfInputs:n}=t;return n??1}const i=[je.EMPTY,je.NOT_BLANK,je.BLANK];return e&&i.indexOf(e)>=0?0:e===je.IN_RANGE?2:1}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,i)=>{i===0?t.setValue(e,!0):t.setValue(this.optionsFactory.getDefaultOption(),!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:e[0],condition2:e[1],conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){return this.eJoinOperatorsOr.length===0?this.defaultJoinOperator:this.eJoinOperatorsOr[0].getValue()===!0?"OR":"AND"}areModelsEqual(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;const i=!e.operator,n=!t.operator;if(!i&&n||i&&!n)return!1;let r;if(i){const l=e,a=t;r=this.areSimpleModelsEqual(l,a)}else{const l=e,a=t;r=l.operator===a.operator&&In(l.conditions,a.conditions,(c,d)=>this.areSimpleModelsEqual(c,d))}return r}setModelIntoUi(e){if(e.operator){let i=e;i.conditions||(i.conditions=[i.condition1,i.condition2]);const n=this.validateAndUpdateConditions(i.conditions),o=this.getNumConditions();if(n<o)this.removeConditionsAndOperators(n);else if(n>o)for(let l=o;l<n;l++)this.createJoinOperatorPanel(),this.createOption();const r=i.operator==="OR";this.eJoinOperatorsAnd.forEach(l=>l.setValue(!r,!0)),this.eJoinOperatorsOr.forEach(l=>l.setValue(r,!0)),i.conditions.forEach((l,a)=>{this.eTypes[a].setValue(l.type,!0),this.setConditionIntoUi(l,a)})}else{const i=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(i.type,!0),this.setConditionIntoUi(i,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),ai.resolve()}validateAndUpdateConditions(e){let t=e.length;return t>this.maxNumConditions&&(e.splice(this.maxNumConditions),st(()=>console.warn('AG Grid: Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),"simpleFilterSetModelMaxNumConditions"),t=this.maxNumConditions),t}doesFilterPass(e){var t;const i=this.getModel();if(i==null)return!0;const{operator:n}=i,o=[];if(n){const l=i;o.push(...(t=l.conditions)!==null&&t!==void 0?t:[])}else o.push(i);return o[n&&n==="OR"?"some":"every"](l=>this.individualConditionPasses(e,l))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new tS,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators()}setNumConditions(e){var t,i;e.suppressAndOrCondition!=null&&st(()=>console.warn('AG Grid: Since v29.2 "filterParams.suppressAndOrCondition" is deprecated. Use "filterParams.maxNumConditions = 1" instead.'),"simpleFilterSuppressAndOrCondition"),e.alwaysShowBothConditions!=null&&st(()=>console.warn('AG Grid: Since v29.2 "filterParams.alwaysShowBothConditions" is deprecated. Use "filterParams.numAlwaysVisibleConditions = 2" instead.'),"simpleFilterAlwaysShowBothConditions"),this.maxNumConditions=(t=e.maxNumConditions)!==null&&t!==void 0?t:e.suppressAndOrCondition?1:2,this.maxNumConditions<1&&(st(()=>console.warn('AG Grid: "filterParams.maxNumConditions" must be greater than or equal to zero.'),"simpleFilterMaxNumConditions"),this.maxNumConditions=1),this.numAlwaysVisibleConditions=(i=e.numAlwaysVisibleConditions)!==null&&i!==void 0?i:e.alwaysShowBothConditions?2:1,this.numAlwaysVisibleConditions<1&&(st(()=>console.warn('AG Grid: "filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),"simpleFilterNumAlwaysVisibleConditions"),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(st(()=>console.warn('AG Grid: "filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),"simpleFilterNumAlwaysVisibleGreaterThanMaxNumConditions"),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){const e=this.createManagedBean(new Zn);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());const t=this.createValueElement();this.eConditionBodies.push(t),this.eFilterBody.appendChild(t),this.putOptionsIntoDropdown(e),this.resetType(e);const i=this.getNumConditions()-1;this.forEachPositionInput(i,n=>this.resetInput(n)),this.addChangedListeners(e,i)}createJoinOperatorPanel(){const e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");const t=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),i=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);const n=this.eJoinOperatorPanels.length-1,o=this.joinOperatorId++;this.resetJoinOperatorAnd(t,n,o),this.resetJoinOperatorOr(i,n,o),this.isReadOnly()||(t.onValueChange(this.listener),i.onValueChange(this.listener))}createJoinOperator(e,t,i){const n=this.createManagedBean(new rS);return e.push(n),n.addCssClass("ag-filter-condition-operator"),n.addCssClass(`ag-filter-condition-operator-${i}`),t.appendChild(n.getGui()),n}getDefaultJoinOperator(e){return e==="AND"||e==="OR"?e:"AND"}createFilterListOptions(){const e=this.optionsFactory.getFilterOptions();this.filterListOptions=e.map(t=>typeof t=="string"?this.createBoilerplateListOption(t):this.createCustomListOption(t))}putOptionsIntoDropdown(e){this.filterListOptions.forEach(t=>{e.addOption(t)}),e.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,i=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:i?this.localeService.getLocaleTextFunc()(i.displayKey,i.displayName):this.translate(t)}}isAllowTwoConditions(){return this.maxNumConditions>=2}createBodyTemplate(){return""}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){var e;let t=-1,i=!0;for(let n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)?t=n:i=!1;if(this.shouldAddNewConditionAtEnd(i))this.createJoinOperatorPanel(),this.createOption();else{const n=(e=this.lastUiCompletePosition)!==null&&e!==void 0?e:this.getNumConditions()-2;if(t<n){this.removeConditionsAndOperators(n+1);const o=t+1,r=n-o;r>0&&this.removeConditionsAndOperators(o,r),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=t}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((n,o)=>{const r=this.isConditionDisabled(o,e);n.setDisabled(r||this.filterListOptions.length<=1),o===1&&(Tr(this.eJoinOperatorPanels[0],r),this.eJoinOperatorsAnd[0].setDisabled(r),this.eJoinOperatorsOr[0].setDisabled(r))}),this.eConditionBodies.forEach((n,o)=>{Je(n,this.isConditionBodyVisible(o))});const i=(t??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach((n,o)=>{n.setValue(!i,!0)}),this.eJoinOperatorsOr.forEach((n,o)=>{n.setValue(i,!0)}),this.forEachInput((n,o,r,l)=>{this.setElementDisplayed(n,o<l),this.setElementDisabled(n,this.isConditionDisabled(r,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;this.removeComponents(this.eTypes,e,t),this.removeElements(this.eConditionBodies,e,t),this.removeValueElements(e,t);const i=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,i,t),this.removeComponents(this.eJoinOperatorsAnd,i,t),this.removeComponents(this.eJoinOperatorsOr,i,t)}removeElements(e,t,i){this.removeItems(e,t,i).forEach(o=>cn(o))}removeComponents(e,t,i){this.removeItems(e,t,i).forEach(o=>{cn(o.getGui()),this.destroyBean(o)})}removeItems(e,t,i){return i==null?e.splice(t):e.splice(t,i)}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!e||!e.suppressFocus&&!this.isReadOnly()){const t=this.getInputs(0)[0];if(!t)return;t instanceof gs&&t.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();const e=this.getModel();(!this.areModelsEqual(e,this.getModelFromUi())||this.hasInvalidInputs())&&this.resetUiToActiveModel(e);let t=-1,i=-1,n=!1;const o=this.getJoinOperator();for(let l=this.getNumConditions()-1;l>=0;l--)if(this.isConditionUiComplete(l))t===-1&&(t=l,i=l);else{const a=l>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(l-1),c=l<t;(a||c)&&(this.removeConditionsAndOperators(l,1),n=!0,c&&i--)}let r=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),r=!0),this.shouldAddNewConditionAtEnd(i===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),r=!0),r&&this.updateConditionStatusesAndValues(i,o),n&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=i}getPlaceholderText(e,t){let i=this.translate(e);if(tu(this.filterPlaceholder)){const n=this.filterPlaceholder,o=this.eTypes[t].getValue(),r=this.translate(o);i=n({filterOptionKey:o,filterOption:r,placeholder:i})}else typeof this.filterPlaceholder=="string"&&(i=this.filterPlaceholder);return i}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc();this.forEachInput((t,i,n,o)=>{if(!(t instanceof gs))return;const r=i===0&&o>1?"inRangeStart":i===0?"filterOoo":"inRangeEnd",l=i===0&&o>1?e("ariaFilterFromValue","Filter from value"):i===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(r,n)),t.setInputAriaLabel(l)})}setElementValue(e,t){e instanceof gs&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){e instanceof ke&&Je(e.getGui(),t)}setElementDisabled(e,t){e instanceof ke&&Tr(e.getGui(),t)}attachElementOnChange(e,t){e instanceof gs&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,i)=>{this.forEachPositionTypeInput(i,t,e)})}forEachPositionInput(e,t){const i=this.getConditionType(e);this.forEachPositionTypeInput(e,i,t)}forEachPositionTypeInput(e,t,i){const n=this.getNumberOfInputs(t),o=this.getInputs(e);for(let r=0;r<o.length;r++){const l=o[r];l!=null&&i(l,r,e,n)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return this.getNumberOfInputs(t)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)===je.EMPTY||this.getValues(e).some(i=>i==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinOperatorsAnd.forEach((t,i)=>this.resetJoinOperatorAnd(t,i,this.joinOperatorId+i)),this.eJoinOperatorsOr.forEach((t,i)=>this.resetJoinOperatorOr(t,i,this.joinOperatorId+i)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),ai.resolve()}resetType(e){const i=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(i).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,i){this.resetJoinOperator(e,t,this.isDefaultOperator("AND"),this.translate("andCondition"),i)}resetJoinOperatorOr(e,t,i){this.resetJoinOperator(e,t,this.isDefaultOperator("OR"),this.translate("orCondition"),i)}resetJoinOperator(e,t,i,n,o){this.updateJoinOperatorDisabled(e.setValue(i,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${o}`).setLabel(n),t)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach((e,t)=>this.updateJoinOperatorDisabled(e,t)),this.eJoinOperatorsOr.forEach((e,t)=>this.updateJoinOperatorDisabled(e,t))}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const i=this.mapValuesFromModel(e);this.forEachInput((n,o,r,l)=>{r===t&&this.setElementValue(n,i[o]!=null?i[o]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,i,n,o)=>{this.setElementValue(t,i===0&&n===0?e:null)})}isDefaultOperator(e){return e===this.defaultJoinOperator}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,i=>{this.attachElementOnChange(i,this.listener)}))}individualConditionPasses(e,t){const i=this.getCellValue(e.node),n=this.mapValuesFromModel(t),o=this.optionsFactory.getCustomOption(t.type),r=this.evaluateCustomFilter(o,n,i);return r??(i==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(n,i,t,e))}evaluateCustomFilter(e,t,i){if(e==null)return;const{predicate:n}=e;if(n!=null&&!t.some(o=>o==null))return n(t,i)}isBlank(e){return e==null||typeof e=="string"&&e.trim().length===0}hasInvalidInputs(){return!1}}je.EMPTY="empty";je.BLANK="blank";je.NOT_BLANK="notBlank";je.EQUALS="equals";je.NOT_EQUAL="notEqual";je.LESS_THAN="lessThan";je.LESS_THAN_OR_EQUAL="lessThanOrEqual";je.GREATER_THAN="greaterThan";je.GREATER_THAN_OR_EQUAL="greaterThanOrEqual";je.IN_RANGE="inRange";je.CONTAINS="contains";je.NOT_CONTAINS="notContains";je.STARTS_WITH="startsWith";je.ENDS_WITH="endsWith";class Xe extends je{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){switch(e){case Xe.EQUALS:case Xe.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case Xe.GREATER_THAN:case Xe.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case Xe.LESS_THAN:case Xe.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case Xe.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case Xe.BLANK:return!0;case Xe.NOT_BLANK:return!1}return!1}evaluateNonNullValue(e,t,i){const n=this.comparator(),o=e[0]!=null?n(e[0],t):0;switch(i.type){case Xe.EQUALS:return o===0;case Xe.NOT_EQUAL:return o!==0;case Xe.GREATER_THAN:return o>0;case Xe.GREATER_THAN_OR_EQUAL:return o>=0;case Xe.LESS_THAN:return o<0;case Xe.LESS_THAN_OR_EQUAL:return o<=0;case Xe.IN_RANGE:{const r=n(e[1],t);return this.scalarFilterParams.inRangeInclusive?o>=0&&r<=0:o>0&&r<0}case Xe.BLANK:return this.isBlank(t);case Xe.NOT_BLANK:return!this.isBlank(t);default:return console.warn('AG Grid: Unexpected type of filter "'+i.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}}var xV=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};const Lv=1e3,Iv=1/0;class lS extends og{constructor(e,t,i){super(t,i),this.dateFilterParams=e}conditionToString(e,t){const{type:i}=e,{numberOfInputs:n}=t||{},o=i==je.IN_RANGE||n===2,r=Rs(e.dateFrom),l=Rs(e.dateTo),a=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(o){const c=r!==null?jc(r,a):"null",d=l!==null?jc(l,a):"null";return`${c}-${d}`}return r!=null?jc(r,a):`${i}`}}class Kr extends Xe{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=Lv,this.maxValidYear=Iv}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){const{dateFrom:t,dateTo:i,type:n}=e||{};return[t&&Rs(t)||null,i&&Rs(i)||null].slice(0,this.getNumberOfInputs(n))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(e,t){const i=t;return t==null||i<e?-1:i>e?1:0}setParams(e){this.dateFilterParams=e,super.setParams(e);const t=(i,n)=>{if(e[i]!=null)if(isNaN(e[i]))console.warn(`AG Grid: DateFilter ${i} is not a number`);else return e[i]==null?n:Number(e[i]);return n};this.minValidYear=t("minValidYear",Lv),this.maxValidYear=t("maxValidYear",Iv),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),this.filterModelFormatter=new lS(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(e){const t=new eS(this.getContext(),this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},e);return this.addDestroyFunc(()=>t.destroy()),t}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}getDefaultFilterOptions(){return Kr.DEFAULT_FILTER_OPTIONS}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e}createFromToElement(e,t,i,n){const o=document.createElement("div");o.classList.add(`ag-filter-${n}`),o.classList.add(`ag-filter-date-${n}`),t.push(o),e.appendChild(o),i.push(this.createDateCompWrapper(o))}removeValueElements(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),this.removeItems(this.eConditionPanelsFrom,e,t),this.removeItems(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,i){this.removeItems(e,t,i).forEach(o=>o.destroy())}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;const t=n=>n!=null&&n.getUTCFullYear()>=this.minValidYear&&n.getUTCFullYear()<=this.maxValidYear;let i=!0;return this.forEachInput((n,o,r,l)=>{r!==e||!i||o>=l||(i=i&&t(n.getDate()))}),i}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}getFilterType(){return"date"}createCondition(e){const t=this.getConditionType(e),i={},n=this.getValues(e);return n.length>0&&(i.dateFrom=es(n[0])),n.length>1&&(i.dateTo=es(n[1])),Object.assign({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:t},i)}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),i=e("ariaFilterValue","Filter Value");this.forEachInput(n=>{n.setInputPlaceholder(t),n.setInputAriaLabel(i)})}getInputs(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(i,n,o,r)=>{n<r&&t.push(i.getDate())}),t}getModelAsString(e){var t;return(t=this.filterModelFormatter.getModelAsString(e))!==null&&t!==void 0?t:""}}Kr.DEFAULT_FILTER_OPTIONS=[Xe.EQUALS,Xe.GREATER_THAN,Xe.LESS_THAN,Xe.NOT_EQUAL,Xe.IN_RANGE,Xe.BLANK,Xe.NOT_BLANK];xV([y("userComponentFactory")],Kr.prototype,"userComponentFactory",void 0);class aS extends ke{getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(e){return e&&e.afterFloatingFilter}isEventFromDataChange(e){return e==null?void 0:e.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.getDefaultOption();return}const t=e.operator;let i;t?i=e.conditions[0]:i=e,this.lastType=i.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const i=e;return this.isTypeEditable(i.type)}init(e){this.optionsFactory=new tS,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption(),this.readOnly=!!e.filterParams.readOnly;const t=this.isTypeEditable(this.lastType);this.setEditable(t)}doesFilterHaveSingleInput(e){const t=this.optionsFactory.getCustomOption(e),{numberOfInputs:i}=t||{};return i==null||i==1}isTypeEditable(e){const t=[je.IN_RANGE,je.EMPTY,je.BLANK,je.NOT_BLANK];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&t.indexOf(e)<0}}var rg=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class pu extends aS{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>
                <div ref="eDateWrapper" style="display: flex;"></div>
            </div>`)}getDefaultFilterOptions(){return Kr.DEFAULT_FILTER_OPTIONS}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent();const t=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input")),this.filterModelFormatter=new lS(this.filterParams,this.localeService,this.optionsFactory)}setEditable(e){Je(this.eDateWrapper,e),Je(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,t){if(this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t))return;super.setLastTypeFromModel(e);const i=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(i),i){if(e){const n=e;this.dateComp.setDate(Rs(n.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}onDateChanged(){const e=this.dateComp.getDate(),t=es(e);this.params.parentFilterInstance(i=>{if(i){const n=Rs(t);i.onFloatingFilterChanged(this.getLastType()||null,n)}})}createDateComponent(){const e=Cs.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),t={onDateChanged:Vs(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams};this.dateComp=new eS(this.getContext(),this.userComponentFactory,t,this.eDateWrapper),this.addDestroyFunc(()=>this.dateComp.destroy())}getFilterModelFormatter(){return this.filterModelFormatter}}rg([y("userComponentFactory")],pu.prototype,"userComponentFactory",void 0);rg([ue("eReadOnlyText")],pu.prototype,"eReadOnlyText",void 0);rg([ue("eDateWrapper")],pu.prototype,"eDateWrapper",void 0);var GV=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class cS extends ke{constructor(){super(`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>
            </div>`)}destroy(){super.destroy()}init(e){const t=this.gridOptionsService.getDocument(),i=this.eDateInput.getInputElement(),n=this.shouldUseBrowserDatePicker(e);n&&(i.type="date");const o=n&&ns();this.addManagedListener(i,"mousedown",()=>{this.eDateInput.isDisabled()||o||i.focus()}),this.addManagedListener(i,"input",a=>{a.target===t.activeElement&&(this.eDateInput.isDisabled()||e.onDateChanged())});const{minValidYear:r,maxValidYear:l}=e.filterParams||{};r&&(i.min=`${r}-01-01`),l&&(i.max=`${l}-12-31`)}getDate(){return Rs(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(es(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(e){return e.filterParams&&e.filterParams.browserDatePicker!=null?e.filterParams.browserDatePicker:au()||xf()||ns()&&Nf()>=14.1}}GV([ue("eDateInput")],cS.prototype,"eDateInput",void 0);class No extends gs{constructor(e,t="ag-text-field",i="text"){super(e,t,i)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){const i=super.setValue(e,t);return this.eInput.value!==e&&(this.eInput.value=Q(e)?e:""),i}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=i=>{Yf(i)&&i.key&&!e.test(i.key)&&i.preventDefault()};this.addManagedListener(this.eInput,"keydown",t),this.addManagedListener(this.eInput,"paste",i=>{var n;const o=(n=i.clipboardData)===null||n===void 0?void 0:n.getData("text");o&&o.split("").some(r=>!e.test(r))&&i.preventDefault()})}}class lg extends No{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListener(this.eInput,"blur",()=>{const e=parseFloat(this.eInput.value),t=isNaN(e)?"":this.normalizeValue(e.toString());this.value!==t&&this.setValue(t)}),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any"}onWheel(e){document.activeElement===this.eInput&&e.preventDefault()}normalizeValue(e){if(e==="")return"";this.precision!=null&&(e=this.adjustPrecision(e));const t=parseFloat(e);return this.min!=null&&t<this.min?e=this.min.toString():this.max!=null&&t>this.max&&(e=this.max.toString()),e}adjustPrecision(e,t){if(this.precision==null)return e;if(t){const n=parseFloat(e).toFixed(this.precision);return parseFloat(n).toString()}const i=String(e).split(".");if(i.length>1){if(i[1].length<=this.precision)return e;if(this.precision>0)return`${i[0]}.${i[1].slice(0,this.precision)}`}return i[0]}setMin(e){return this.min===e?this:(this.min=e,kn(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,kn(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,kn(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(i=>super.setValue(i,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,i){if(Q(i)){let n=this.isScientificNotation(i);if(n&&this.eInput.validity.valid)return e(i);if(!n){i=this.adjustPrecision(i);const o=this.normalizeValue(i);n=i!=o}if(n)return t(i)}return e(i)}getValue(){if(!this.eInput.validity.valid)return;const e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}}class dS extends og{conditionToString(e,t){const{numberOfInputs:i}=t||{};return e.type==je.IN_RANGE||i===2?`${e.filter}-${e.filterTo}`:e.filter!=null?`${e.filter}`:`${e.type}`}}function uS(s){const{allowedCharPattern:e}=s??{};return e??null}class Ga extends Xe{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}mapValuesFromModel(e){const{filter:t,filterTo:i,type:n}=e||{};return[this.processValue(t),this.processValue(i)].slice(0,this.getNumberOfInputs(n))}getDefaultDebounceMs(){return 500}comparator(){return(e,t)=>e===t?0:e<t?1:-1}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new dS(this.localeService,this.optionsFactory)}getDefaultFilterOptions(){return Ga.DEFAULT_FILTER_OPTIONS}createValueElement(){const e=uS(this.numberFilterParams),t=document.createElement("div");return t.classList.add("ag-filter-body"),Ht(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,i,n){const o=this.createManagedBean(n?new No({allowedCharPattern:n}):new lg);o.addCssClass(`ag-filter-${i}`),o.addCssClass("ag-filter-filter"),t.push(o),e.appendChild(o.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}getValues(e){const t=[];return this.forEachPositionInput(e,(i,n,o,r)=>{n<r&&t.push(this.processValue(this.stringToFloat(i.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getFilterType(){return"number"}processValue(e){return e==null||isNaN(e)?null:e}stringToFloat(e){if(typeof e=="number")return e;let t=Hn(e);return t!=null&&t.trim()===""&&(t=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(t):t==null||t.trim()==="-"?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),i={filterType:this.getFilterType(),type:t},n=this.getValues(e);return n.length>0&&(i.filter=n[0]),n.length>1&&(i.filterTo=n[1]),i}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getModelAsString(e){var t;return(t=this.filterModelFormatter.getModelAsString(e))!==null&&t!==void 0?t:""}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{if(!t.getInputElement().validity.valid){e=!0;return}}),e}}Ga.DEFAULT_FILTER_OPTIONS=[Xe.EQUALS,Xe.NOT_EQUAL,Xe.LESS_THAN,Xe.LESS_THAN_OR_EQUAL,Xe.GREATER_THAN,Xe.GREATER_THAN_OR_EQUAL,Xe.IN_RANGE,Xe.BLANK,Xe.NOT_BLANK];class hS extends og{conditionToString(e,t){const{numberOfInputs:i}=t||{};return e.type==je.IN_RANGE||i===2?`${e.filter}-${e.filterTo}`:e.filter!=null?`${e.filter}`:`${e.type}`}}class Mt extends je{constructor(){super("textFilter"),this.eValuesFrom=[],this.eValuesTo=[]}static trimInput(e){const t=e&&e.trim();return t===""?e:t}getDefaultDebounceMs(){return 500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?Mt.DEFAULT_FORMATTER:Mt.DEFAULT_LOWERCASE_FORMATTER),this.filterModelFormatter=new hS(this.localeService,this.optionsFactory)}getTextMatcher(){const e=this.textFilterParams.textCustomComparator;return e?(Qe.doOnce(()=>console.warn("AG Grid - textCustomComparator is deprecated, use textMatcher instead."),"textCustomComparator.deprecated"),({filterOption:t,value:i,filterText:n})=>e(t,i,n)):this.textFilterParams.textMatcher||Mt.DEFAULT_MATCHER}createCondition(e){const t=this.getConditionType(e),i={filterType:this.getFilterType(),type:t},n=this.getValues(e);return n.length>0&&(i.filter=n[0]),n.length>1&&(i.filterTo=n[1]),i}getFilterType(){return"text"}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(i,n,o,r)=>{if(n<r){const l=Hn(i.getValue()),a=(this.textFilterParams.trimInput?Mt.trimInput(l):l)||null;t.push(a),i.setValue(a,!0)}}),t}getDefaultFilterOptions(){return Mt.DEFAULT_FILTER_OPTIONS}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),Ht(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,t,i){const n=this.createManagedBean(new No);n.addCssClass(`ag-filter-${i}`),n.addCssClass("ag-filter-filter"),t.push(n),e.appendChild(n.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}mapValuesFromModel(e){const{filter:t,filterTo:i,type:n}=e||{};return[t||null,i||null].slice(0,this.getNumberOfInputs(n))}evaluateNullValue(e){const t=[je.NOT_EQUAL,je.NOT_CONTAINS,je.BLANK];return e?t.indexOf(e)>=0:!1}evaluateNonNullValue(e,t,i,n){const o=e.map(g=>this.formatter(g))||[],r=this.formatter(t),{api:l,colDef:a,column:c,columnApi:d,context:u,textFormatter:h}=this.textFilterParams;if(i.type===je.BLANK)return this.isBlank(t);if(i.type===je.NOT_BLANK)return!this.isBlank(t);const p={api:l,colDef:a,column:c,columnApi:d,context:u,node:n.node,data:n.data,filterOption:i.type,value:r,textFormatter:h};return o.some(g=>this.matcher(Object.assign(Object.assign({},p),{filterText:g})))}getModelAsString(e){var t;return(t=this.filterModelFormatter.getModelAsString(e))!==null&&t!==void 0?t:""}}Mt.DEFAULT_FILTER_OPTIONS=[je.CONTAINS,je.NOT_CONTAINS,je.EQUALS,je.NOT_EQUAL,je.STARTS_WITH,je.ENDS_WITH,je.BLANK,je.NOT_BLANK];Mt.DEFAULT_FORMATTER=s=>s;Mt.DEFAULT_LOWERCASE_FORMATTER=s=>s==null?null:s.toString().toLowerCase();Mt.DEFAULT_MATCHER=({filterOption:s,value:e,filterText:t})=>{if(t==null)return!1;switch(s){case Mt.CONTAINS:return e.indexOf(t)>=0;case Mt.NOT_CONTAINS:return e.indexOf(t)<0;case Mt.EQUALS:return e===t;case Mt.NOT_EQUAL:return e!=t;case Mt.STARTS_WITH:return e.indexOf(t)===0;case Mt.ENDS_WITH:const i=e.lastIndexOf(t);return i>=0&&i===e.length-t.length;default:return!1}};var ag=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class pS extends ee{constructor(e){super(),this.params=e}setupGui(e){this.eFloatingFilterTextInput=this.createManagedBean(new No(this.params.config)),this.eFloatingFilterTextInput.setInputAriaLabel(this.params.ariaLabel),e.appendChild(this.eFloatingFilterTextInput.getGui())}setEditable(e){this.eFloatingFilterTextInput.setDisabled(!e)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(e,t){this.eFloatingFilterTextInput.setValue(e,t)}addValueChangedListener(e){const t=this.eFloatingFilterTextInput.getGui();this.addManagedListener(t,"input",e),this.addManagedListener(t,"keydown",e)}}class Va extends aS{postConstruct(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" ref="eFloatingFilterInputContainer"></div>
        `)}getDefaultDebounceMs(){return 500}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))}init(e){this.params=e;const t=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),i=this.localeService.getLocaleTextFunc(),n=`${t} ${i("ariaFilterInput","Filter Input")}`;if(this.floatingFilterInputService=this.createFloatingFilterInputService(n),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer),super.init(e),this.applyActive=Cs.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){const o=Cs.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),r=Vs(this.syncUpWithParentFilter.bind(this),o);this.floatingFilterInputService.addValueChangedListener(r)}}syncUpWithParentFilter(e){const t=e.key===$.ENTER;if(this.applyActive&&!t)return;let i=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(i=Mt.trimInput(i),this.floatingFilterInputService.setValue(i,!0)),this.params.parentFilterInstance(n=>{n&&n.onFloatingFilterChanged(this.getLastType()||null,i||null)})}setEditable(e){this.floatingFilterInputService.setEditable(e)}}ag([y("columnModel")],Va.prototype,"columnModel",void 0);ag([ue("eFloatingFilterInputContainer")],Va.prototype,"eFloatingFilterInputContainer",void 0);ag([de],Va.prototype,"postConstruct",null);class VV extends ee{constructor(e){super(),this.params=e,this.numberInputActive=!0}setupGui(e){this.eFloatingFilterNumberInput=this.createManagedBean(new lg),this.eFloatingFilterTextInput=this.createManagedBean(new No),this.eFloatingFilterTextInput.setDisabled(!0),this.eFloatingFilterNumberInput.setInputAriaLabel(this.params.ariaLabel),this.eFloatingFilterTextInput.setInputAriaLabel(this.params.ariaLabel),e.appendChild(this.eFloatingFilterNumberInput.getGui()),e.appendChild(this.eFloatingFilterTextInput.getGui())}setEditable(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}addValueChangedListener(e){this.setupListeners(this.eFloatingFilterNumberInput.getGui(),e),this.setupListeners(this.eFloatingFilterTextInput.getGui(),e)}setupListeners(e,t){this.addManagedListener(e,"input",t),this.addManagedListener(e,"keydown",t)}}class HV extends Va{init(e){super.init(e),this.filterModelFormatter=new dS(this.localeService,this.optionsFactory)}getDefaultFilterOptions(){return Ga.DEFAULT_FILTER_OPTIONS}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(e){const t=uS(this.params.filterParams);return t?this.createManagedBean(new pS({config:{allowedCharPattern:t},ariaLabel:e})):this.createManagedBean(new VV({ariaLabel:e}))}}class kV extends Va{init(e){super.init(e),this.filterModelFormatter=new hS(this.localeService,this.optionsFactory)}getDefaultFilterOptions(){return Mt.DEFAULT_FILTER_OPTIONS}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(e){return this.createManagedBean(new pS({ariaLabel:e}))}}class Dt{constructor(e,t=!1){this.destroyFuncs=[],this.touching=!1,this.eventService=new Es,this.eElement=e,this.preventMouseClick=t;const i=this.onTouchStart.bind(this),n=this.onTouchMove.bind(this),o=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",i,{passive:!0}),this.eElement.addEventListener("touchmove",n,{passive:!0}),this.eElement.addEventListener("touchend",o,{passive:!1}),this.destroyFuncs.push(()=>{this.eElement.removeEventListener("touchstart",i,{passive:!0}),this.eElement.removeEventListener("touchmove",n,{passive:!0}),this.eElement.removeEventListener("touchend",o,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.eventService.addEventListener(e,t)}removeEventListener(e,t){this.eventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout(()=>{const i=this.touchStart===t;if(this.touching&&i&&!this.moved){this.moved=!0;const n={type:Dt.EVENT_LONG_TAP,touchStart:this.touchStart,touchEvent:e};this.eventService.dispatchEvent(n)}},500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);if(!t)return;!qf(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const t={type:Dt.EVENT_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>Dt.DOUBLE_TAP_MILLIS){const i={type:Dt.EVENT_DOUBLE_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(i),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}}Dt.EVENT_TAP="tap";Dt.EVENT_DOUBLE_TAP="doubleTap";Dt.EVENT_LONG_TAP="longTap";Dt.DOUBLE_TAP_MILLIS=500;var xo=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class ki extends ke{constructor(e){super(),e||this.setTemplate(ki.TEMPLATE)}attachCustomElements(e,t,i,n,o){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=i,this.eSortMixed=n,this.eSortNone=o}setupSort(e,t=!1){this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),this.column.getColDef().sortable&&(this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e),this.addManagedListener(this.eventService,m.EVENT_SORT_CHANGED,()=>this.onSortChanged()),this.addManagedListener(this.eventService,m.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.onSortChanged()),this.onSortChanged())}addInIcon(e,t,i){if(t==null)return;const n=_t(e,this.gridOptionsService,i);n&&t.appendChild(n)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){const t=e==="asc";Je(this.eSortAsc,t,{skipAriaHidden:!0})}if(this.eSortDesc){const t=e==="desc";Je(this.eSortDesc,t,{skipAriaHidden:!0})}if(this.eSortNone){const t=!this.column.getColDef().unSortIcon&&!this.gridOptionsService.is("unSortIcon"),i=e==null;Je(this.eSortNone,!t&&i,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);const e=this.column.getColDef().showRowGroup;this.gridOptionsService.isColumnsSortingCoupledToGroup()&&e&&(this.addManagedListener(this.eventService,m.EVENT_SORT_CHANGED,()=>this.updateMultiSortIndicator()),this.addManagedListener(this.eventService,m.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.updateMultiSortIndicator()),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){const e=this.sortController.getDisplaySortForColumn(this.column)==="mixed";Je(this.eSortMixed,e,{skipAriaHidden:!0})}}updateSortOrder(){var e;if(!this.eSortOrder)return;const t=this.sortController.getColumnsWithSortingOrdered(),i=(e=this.sortController.getDisplaySortIndexForColumn(this.column))!==null&&e!==void 0?e:-1,n=t.some(r=>{var l;return(l=this.sortController.getDisplaySortIndexForColumn(r))!==null&&l!==void 0?l:-1>=1}),o=i>=0&&n;Je(this.eSortOrder,o,{skipAriaHidden:!0}),i>=0?this.eSortOrder.innerHTML=(i+1).toString():Ni(this.eSortOrder)}}ki.TEMPLATE=`<span class="ag-sort-indicator-container">
            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>
            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>
        </span>`;xo([ue("eSortOrder")],ki.prototype,"eSortOrder",void 0);xo([ue("eSortAsc")],ki.prototype,"eSortAsc",void 0);xo([ue("eSortDesc")],ki.prototype,"eSortDesc",void 0);xo([ue("eSortMixed")],ki.prototype,"eSortMixed",void 0);xo([ue("eSortNone")],ki.prototype,"eSortNone",void 0);xo([y("columnModel")],ki.prototype,"columnModel",void 0);xo([y("sortController")],ki.prototype,"sortController",void 0);var Bi=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class Kt extends ke{constructor(){super(...arguments),this.lastMovingChanged=0}destroy(){super.destroy()}refresh(e){return this.params=e,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort?!1:(this.setDisplayName(e),!0)}workOutTemplate(){let e=cw(this.params.template,Kt.TEMPLATE);return e=e&&e.trim?e.trim():e,e}init(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(e.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(e)}setDisplayName(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;const t=js(this.currentDisplayName);this.eText&&(this.eText.innerHTML=t)}}setupIcons(e){this.addInIcon("menu",this.eMenu,e),this.addInIcon("filter",this.eFilter,e)}addInIcon(e,t,i){if(t==null)return;const n=_t(e,this.gridOptionsService,i);n&&t.appendChild(n)}setupTap(){const{gridOptionsService:e}=this;if(e.is("suppressTouch"))return;const t=new Dt(this.getGui(),!0),i=e.is("suppressMenuHide"),n=i&&Q(this.eMenu),o=n?new Dt(this.eMenu,!0):t;if(this.params.enableMenu){const r=n?"EVENT_TAP":"EVENT_LONG_TAP",l=a=>{e.api.showColumnMenuAfterMouseClick(this.params.column,a.touchStart)};this.addManagedListener(o,Dt[r],l)}if(this.params.enableSorting){const r=l=>{const a=l.touchStart.target;i&&this.eMenu.contains(a)||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")};this.addManagedListener(t,Dt.EVENT_TAP,r)}this.addDestroyFunc(()=>t.destroy()),n&&this.addDestroyFunc(()=>o.destroy())}workOutShowMenu(){const e=!this.gridOptionsService.is("suppressMenuHide"),t=Xn()&&e;return this.params.enableMenu&&!t}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){cn(this.eMenu);return}const e=this.gridOptionsService.is("suppressMenuHide");this.addManagedListener(this.eMenu,"click",()=>this.showMenu(this.eMenu)),this.eMenu.classList.toggle("ag-header-menu-always-show",e)}showMenu(e){e||(e=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,e,"columnMenu")}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new ki(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;const e=this.gridOptionsService.get("multiSortKey")==="ctrl";this.addManagedListener(this.params.column,He.EVENT_MOVING_CHANGED,()=>{this.lastMovingChanged=new Date().getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",i=>{const n=this.params.column.isMoving(),r=new Date().getTime()-this.lastMovingChanged<50;if(!(n||r)){const a=e?i.ctrlKey||i.metaKey:i.shiftKey;this.params.progressSort(a)}});const t=()=>{if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",this.params.column.isSortAscending()),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",this.params.column.isSortDescending()),this.addOrRemoveCssClass("ag-header-cell-sorted-none",this.params.column.isSortNone()),this.params.column.getColDef().showRowGroup){const i=this.columnModel.getSourceColumnsForGroupColumn(this.params.column),o=!(i==null?void 0:i.every(r=>this.params.column.getSort()==r.getSort()));this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",o)}};this.addManagedListener(this.eventService,m.EVENT_SORT_CHANGED,t),this.addManagedListener(this.eventService,m.EVENT_COLUMN_ROW_GROUP_CHANGED,t)}setupFilterIcon(){this.eFilter&&(this.addManagedListener(this.params.column,He.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())}onFilterChanged(){const e=this.params.column.isFilterActive();Je(this.eFilter,e,{skipAriaHidden:!0})}}Kt.TEMPLATE=`<div class="ag-cell-label-container" role="presentation">
            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
            <div ref="eLabel" class="ag-header-cell-label" role="presentation">
                <span ref="eText" class="ag-header-cell-text"></span>
                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>
            </div>
        </div>`;Bi([y("sortController")],Kt.prototype,"sortController",void 0);Bi([y("menuFactory")],Kt.prototype,"menuFactory",void 0);Bi([y("columnModel")],Kt.prototype,"columnModel",void 0);Bi([ue("eFilter")],Kt.prototype,"eFilter",void 0);Bi([ue("eSortIndicator")],Kt.prototype,"eSortIndicator",void 0);Bi([ue("eMenu")],Kt.prototype,"eMenu",void 0);Bi([ue("eLabel")],Kt.prototype,"eLabel",void 0);Bi([ue("eText")],Kt.prototype,"eText",void 0);Bi([ue("eSortOrder")],Kt.prototype,"eSortOrder",void 0);Bi([ue("eSortAsc")],Kt.prototype,"eSortAsc",void 0);Bi([ue("eSortDesc")],Kt.prototype,"eSortDesc",void 0);Bi([ue("eSortMixed")],Kt.prototype,"eSortMixed",void 0);Bi([ue("eSortNone")],Kt.prototype,"eSortNone",void 0);var cg=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class Go extends ke{constructor(){super(Go.TEMPLATE)}destroy(){super.destroy()}init(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){if(this.params.template){const t="AG Grid: A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)";st(()=>console.warn(t),"HeaderGroupComp.templateNotSupported")}}setupExpandIcons(){this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");const e=n=>{if(ks(n))return;const o=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),o,"uiColumnExpanded")};this.addTouchAndClickListeners(this.eCloseIcon,e),this.addTouchAndClickListeners(this.eOpenIcon,e);const t=n=>{gn(n)};this.addManagedListener(this.eCloseIcon,"dblclick",t),this.addManagedListener(this.eOpenIcon,"dblclick",t),this.addManagedListener(this.getGui(),"dblclick",e),this.updateIconVisibility();const i=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(i,gt.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(i,gt.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))}addTouchAndClickListeners(e,t){const i=new Dt(e,!0);this.addManagedListener(i,Dt.EVENT_TAP,t),this.addDestroyFunc(()=>i.destroy()),this.addManagedListener(e,"click",t)}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){const t=this.params.columnGroup.isExpanded();Je(this.eOpenIcon,t),Je(this.eCloseIcon,!t)}else Je(this.eOpenIcon,!1),Je(this.eCloseIcon,!1)}addInIcon(e,t){const i=_t(e,this.gridOptionsService,null);i&&this.getRefElement(t).appendChild(i)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable()){Je(this.eOpenIcon,!1),Je(this.eCloseIcon,!1);return}}setupLabel(){var e;const{displayName:t,columnGroup:i}=this.params;if(Q(t)){const n=js(t);this.getRefElement("agLabel").innerHTML=n}this.addOrRemoveCssClass("ag-sticky-label",!(!((e=i.getColGroupDef())===null||e===void 0)&&e.suppressStickyLabel))}}Go.TEMPLATE=`<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">
            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`;cg([y("columnModel")],Go.prototype,"columnModel",void 0);cg([ue("agOpened")],Go.prototype,"eOpenIcon",void 0);cg([ue("agClosed")],Go.prototype,"eCloseIcon",void 0);class Yr extends ke{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}}var BV=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class Ha extends Yr{constructor(){super(Ha.TEMPLATE)}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),Q(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const t=e.key;(t===$.LEFT||t===$.UP||t===$.RIGHT||t===$.DOWN||e.shiftKey&&t===$.ENTER)&&e.stopPropagation()}afterGuiAttached(){const e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const e=this.eTextArea.getValue();return!Q(e)&&!Q(this.params.value)?this.params.value:this.params.parseValue(e)}}Ha.TEMPLATE=`<div class="ag-large-text">
            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`;BV([ue("eTextArea")],Ha.prototype,"eTextArea",void 0);var fS=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class dg extends Yr{constructor(){super('<div class="ag-cell-edit-wrapper"><ag-select class="ag-cell-editor" ref="eSelect"></ag-select></div>'),this.startedByEnter=!1}init(e){if(this.focusAfterAttached=e.cellStartedEdit,Le(e.values)){console.warn("AG Grid: no values found for select cellEditor");return}this.startedByEnter=e.eventKey!=null?e.eventKey===$.ENTER:!1;let t=!1;e.values.forEach(i=>{const n={value:i},o=this.valueFormatterService.formatValue(e.column,null,i),r=o!=null;n.text=r?o:i,this.eSelect.addOption(n),t=t||e.value===i}),t?this.eSelect.setValue(e.value,!0):e.values.length&&this.eSelect.setValue(e.values[0],!0),this.gridOptionsService.get("editType")!=="fullRow"&&this.addManagedListener(this.eSelect,Zn.EVENT_ITEM_SELECTED,()=>e.stopEditing())}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&this.eSelect.showPicker()}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}}fS([y("valueFormatterService")],dg.prototype,"valueFormatterService",void 0);fS([ue("eSelect")],dg.prototype,"eSelect",void 0);var $V=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class ka extends Yr{constructor(e){super(`
            <div class="ag-cell-edit-wrapper">
                ${e.getTemplate()}
            </div>`),this.cellEditorInput=e}init(e){this.params=e;const t=this.eInput;this.cellEditorInput.init(t,e);let i;if(e.cellStartedEdit){this.focusAfterAttached=!0;const n=e.eventKey;n===$.BACKSPACE||e.eventKey===$.DELETE?i="":n&&n.length===1?i=n:(i=this.cellEditorInput.getStartValue(),n!==$.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,i=this.cellEditorInput.getStartValue();i!=null&&t.setStartValue(i),this.addManagedListener(t.getGui(),"keydown",n=>{const{key:o}=n;(o===$.PAGE_UP||o===$.PAGE_DOWN)&&n.preventDefault()})}afterGuiAttached(){var e,t;const i=this.localeService.getLocaleTextFunc(),n=this.eInput;if(n.setInputAriaLabel(i("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;ns()||n.getFocusableElement().focus();const o=n.getInputElement();this.highlightAllOnFocus?o.select():(t=(e=this.cellEditorInput).setCaret)===null||t===void 0||t.call(e)}focusIn(){const e=this.eInput,t=e.getFocusableElement(),i=e.getInputElement();t.focus(),i.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}}$V([ue("eInput")],ka.prototype,"eInput",void 0);class WV{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>'}init(e,t){this.eInput=e,this.params=t,t.maxLength!=null&&e.setMaxLength(t.maxLength)}getValue(){const e=this.eInput.getValue();return!Q(e)&&!Q(this.params.value)?this.params.value:this.params.parseValue(e)}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){const e=this.eInput.getValue(),t=Q(e)&&e.length||0;t&&this.eInput.getInputElement().setSelectionRange(t,t)}}class Nv extends ka{constructor(){super(new WV)}}var UV=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};const jV="",zV="";class Ba extends ke{constructor(){super(Ba.TEMPLATE),this.refreshCount=0}init(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e)}showDelta(e,t){const i=Math.abs(t),n=e.formatValue(i),o=Q(n)?n:i,r=t>=0;r?this.eDelta.innerHTML=jV+o:this.eDelta.innerHTML=zV+o,this.eDelta.classList.toggle("ag-value-change-delta-up",r),this.eDelta.classList.toggle("ag-value-change-delta-down",!r)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),Ni(this.eDelta)}refresh(e){const t=e.value;if(t===this.lastValue||(Q(e.valueFormatted)?this.eValue.innerHTML=e.valueFormatted:Q(e.value)?this.eValue.innerHTML=t:Ni(this.eValue),this.filterManager.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof t=="number"&&typeof this.lastValue=="number"){const i=t-this.lastValue;this.showDelta(e,i)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=t,!0}}Ba.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>';UV([y("filterManager")],Ba.prototype,"filterManager",void 0);var KV=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class $a extends ke{constructor(){super($a.TEMPLATE),this.refreshCount=0,this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}init(e){this.refresh(e)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=$t('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)}refresh(e){let t=e.value;return Le(t)&&(t=""),t===this.lastValue||this.filterManager.isSuppressFlashingCellsBecauseFiltering()?!1:(this.addSlideAnimation(),this.lastValue=t,Q(e.valueFormatted)?this.eCurrent.innerHTML=e.valueFormatted:Q(e.value)?this.eCurrent.innerHTML=t:Ni(this.eCurrent),!0)}}$a.TEMPLATE=`<span>
            <span class="ag-value-slide-current"></span>
        </span>`;KV([y("filterManager")],$a.prototype,"filterManager",void 0);class pe{constructor(e){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=pe.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){const i=this.data;this.data=e,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();const n=this.createDataChangedEvent(e,i,t);this.dispatchLocalEvent(n)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,t,i){return{type:pe.EVENT_DATA_CHANGED,node:this,oldData:t,newData:e,update:i}}createLocalRowEvent(e){return{type:e,node:this}}getRowIndexString(){return this.rowPinned==="top"?"t-"+this.rowIndex:this.rowPinned==="bottom"?"b-"+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){const e=new pe(this.beans);return e.id=this.id,e.data=this.data,e.__daemon=!0,e.selected=this.selected,e.level=this.level,e}setDataAndId(e,t){const i=Q(this.id)?this.createDaemonNode():null,n=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),this.beans.selectionService.syncInRowNode(this,i),this.checkRowSelectable();const o=this.createDataChangedEvent(e,n,!1);this.dispatchLocalEvent(o)}checkRowSelectable(){const e=this.beans.gridOptionsService.get("isRowSelectable");this.setRowSelectable(e?e(this):!0)}setRowSelectable(e){if(this.selectable!==e&&(this.selectable=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(pe.EVENT_SELECTABLE_CHANGED)),this.beans.gridOptionsService.is("groupSelectsChildren"))){const i=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:i??!1,source:"selectableChanged"})}}setId(e){const t=this.beans.gridOptionsService.getCallback("getRowId");if(t)if(this.data){const i=this.getGroupKeys(!0);this.id=t({data:this.data,parentKeys:i.length>0?i:void 0,level:this.level}),this.id!==null&&typeof this.id=="string"&&this.id.startsWith(pe.ID_PREFIX_ROW_GROUP)&&console.error(`AG Grid: Row IDs cannot start with ${pe.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`),this.id!==null&&typeof this.id!="string"&&(this.id=""+this.id)}else this.id=void 0;else this.id=e}getGroupKeys(e=!1){const t=[];let i=this;for(e&&(i=i.parent);i&&i.level>=0;)t.push(i.key),i=i.parent;return t.reverse(),t}isPixelInRange(e){return!Q(this.rowTop)||!Q(this.rowHeight)?!1:e>=this.rowTop&&e<this.rowTop+this.rowHeight}setFirstChild(e){this.firstChild!==e&&(this.firstChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(pe.EVENT_FIRST_CHILD_CHANGED)))}setLastChild(e){this.lastChild!==e&&(this.lastChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(pe.EVENT_LAST_CHILD_CHANGED)))}setChildIndex(e){this.childIndex!==e&&(this.childIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(pe.EVENT_CHILD_INDEX_CHANGED)))}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(pe.EVENT_TOP_CHANGED)),this.setDisplayed(e!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setDisplayed(e){this.displayed!==e&&(this.displayed=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(pe.EVENT_DISPLAYED_CHANGED)))}setDragging(e){this.dragging!==e&&(this.dragging=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(pe.EVENT_DRAGGING_CHANGED)))}setHighlighted(e){e!==this.highlighted&&(this.highlighted=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(pe.EVENT_HIGHLIGHT_CHANGED)))}setHovered(e){this.hovered!==e&&(this.hovered=e)}isHovered(){return this.hovered}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(pe.EVENT_ALL_CHILDREN_COUNT_CHANGED)))}setMaster(e){this.master!==e&&(this.master&&!e&&(this.expanded=!1),this.master=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(pe.EVENT_MASTER_CHANGED)))}setGroup(e){this.group!==e&&(this.group&&!e&&(this.expanded=!1),this.group=e,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(pe.EVENT_GROUP_CHANGED)))}setRowHeight(e,t=!1){this.rowHeight=e,this.rowHeightEstimated=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(pe.EVENT_HEIGHT_CHANGED))}setRowAutoHeight(e,t){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[t.getId()]=e,e!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=Vs(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){let e=!1,t=!0,i=0;const n=this.__autoHeights;if(n==null||(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach(l=>{let a=n[l.getId()];if(a==null)if(this.beans.columnModel.isColSpanActive()){let c=[];switch(l.getPinned()){case"left":c=this.beans.columnModel.getDisplayedLeftColumnsForRow(this);break;case"right":c=this.beans.columnModel.getDisplayedRightColumnsForRow(this);break;case null:c=this.beans.columnModel.getViewportCenterColumnsForRow(this);break}if(c.includes(l)){e=!0;return}a=-1}else{e=!0;return}else t=!1;a>i&&(i=a)}),e)||((t||i<10)&&(i=this.beans.gridOptionsService.getRowHeightForNode(this).height),i==this.rowHeight))return;this.setRowHeight(i);const r=this.beans.rowModel;r.onRowHeightChangedDebounced&&r.onRowHeightChangedDebounced()}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(pe.EVENT_ROW_INDEX_CHANGED)))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(pe.EVENT_UI_LEVEL_CHANGED)))}setExpanded(e,t){if(this.expanded===e)return;this.expanded=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(pe.EVENT_EXPANDED_CHANGED));const i=Object.assign({},this.createGlobalRowEvent(m.EVENT_ROW_GROUP_OPENED),{expanded:e,event:t||null});this.beans.rowNodeEventThrottle.dispatchExpanded(i),this.beans.gridOptionsService.is("groupIncludeFooter")&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(e){return{type:e,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi}}dispatchLocalEvent(e){this.eventService&&this.eventService.dispatchEvent(e)}setDataValue(e,t,i){const o=(()=>{var a;return typeof e!="string"?e:(a=this.beans.columnModel.getGridColumn(e))!==null&&a!==void 0?a:this.beans.columnModel.getPrimaryColumn(e)})(),r=this.getValueFromValueService(o);if(this.beans.gridOptionsService.is("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(o,r,t,i),!1;const l=this.beans.valueService.setValue(this,o,t,i);return this.dispatchCellChangedEvent(o,t,r),this.checkRowSelectable(),l}getValueFromValueService(e){const t=this.leafGroup&&this.beans.columnModel.isPivotMode(),i=this.group&&this.expanded&&!this.footer&&!t,n=this.beans.gridOptionsService.is("groupIncludeFooter"),o=this.beans.gridOptionsService.is("groupSuppressBlankHeader"),r=i&&n&&!o;return this.beans.valueService.getValue(e,this,!1,r)}dispatchEventForSaveValueReadOnly(e,t,i,n){const o={type:m.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:e,colDef:e.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,data:this.data,node:this,oldValue:t,newValue:i,value:i,source:n};this.beans.eventService.dispatchEvent(o)}setGroupValue(e,t){const i=this.beans.columnModel.getGridColumn(e);Le(this.groupData)&&(this.groupData={});const n=i.getColId(),o=this.groupData[n];o!==t&&(this.groupData[n]=t,this.dispatchCellChangedEvent(i,t,o))}setAggData(e){const t=ew([this.aggData,e]),i=this.aggData;this.aggData=e,this.eventService&&t.forEach(n=>{const o=this.beans.columnModel.getGridColumn(n),r=this.aggData?this.aggData[n]:void 0,l=i?i[n]:void 0;this.dispatchCellChangedEvent(o,r,l)})}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(this.beans.gridOptionsService.isRowModelType("serverSide")){const i=this.beans.gridOptionsService.isTreeData(),n=this.beans.gridOptionsService.get("isServerSideGroup");e=!this.stub&&!this.footer&&(i?!!n&&n(this.data):!!this.group)}e!==this.__hasChildren&&(this.__hasChildren=!!e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(pe.EVENT_HAS_CHILDREN_CHANGED)))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}isEmptyRowGroupNode(){return this.group&&Ai(this.childrenAfterGroup)}dispatchCellChangedEvent(e,t,i){const n={type:pe.EVENT_CELL_CHANGED,node:this,column:e,newValue:t,oldValue:i};this.dispatchLocalEvent(n)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return!!(this.hasChildren()&&!this.footer||this.master)}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(e){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(t=>t.depthFirstSearch(e)),e(this)}calculateSelectedFromChildren(){var e;let t=!1,i=!1,n=!1;if(!(!((e=this.childrenAfterGroup)===null||e===void 0)&&e.length))return this.selectable?this.selected:null;for(let o=0;o<this.childrenAfterGroup.length;o++){const r=this.childrenAfterGroup[o];let l=r.isSelected();if(!r.selectable){const a=r.calculateSelectedFromChildren();if(a===null)continue;l=a}switch(l){case!0:t=!0;break;case!1:i=!0;break;default:n=!0;break}}if(!(n||t&&i))return t?!0:i?!1:this.selectable?this.selected:null}setSelectedInitialValue(e){this.selected=e}selectThisNode(e,t,i="api"){const n=!this.selectable&&e,o=this.selected===e;if(n||o)return!1;this.selected=e,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(pe.EVENT_ROW_SELECTED));const r=Object.assign(Object.assign({},this.createGlobalRowEvent(m.EVENT_ROW_SELECTED)),{event:t||null,source:i});return this.beans.eventService.dispatchEvent(r),!0}setSelected(e,t=!1,i="api"){if(typeof i=="boolean"){console.warn("AG Grid: since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.");return}this.setSelectedParams({newValue:e,clearSelection:t,rangeSelect:!1,source:i})}setSelectedParams(e){return this.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),0):this.id===void 0?(console.warn("AG Grid: cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected(Object.assign(Object.assign({},e),{nodes:[this.footer?this.sibling:this]}))}isRowPinned(){return this.rowPinned==="top"||this.rowPinned==="bottom"}isParentOfNode(e){let t=this.parent;for(;t;){if(t===e)return!0;t=t.parent}return!1}addEventListener(e,t){this.eventService||(this.eventService=new Es),this.eventService.addEventListener(e,t)}removeEventListener(e,t){this.eventService&&(this.eventService.removeEventListener(e,t),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))}onMouseEnter(){this.dispatchLocalEvent(this.createLocalRowEvent(pe.EVENT_MOUSE_ENTER))}onMouseLeave(){this.dispatchLocalEvent(this.createLocalRowEvent(pe.EVENT_MOUSE_LEAVE))}getFirstChildOfFirstChild(e){let t=this,i=!0,n=!1,o=null;for(;i&&!n;){const r=t.parent;Q(r)&&t.firstChild?r.rowGroupColumn===e&&(n=!0,o=r):i=!1,t=r}return n?o:null}isFullWidthCell(){const e=this.beans.gridOptionsService.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.key==null)return;const e=[];let t=this;for(;t.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}createFooter(){if(this.sibling)return;const e=new pe(this.beans);Object.keys(this).forEach(t=>{e[t]=this[t]}),e.footer=!0,e.setRowTop(null),e.setRowIndex(null),e.oldRowTop=null,e.id="rowGroupFooter_"+this.id,e.sibling=this,this.sibling=e}}pe.ID_PREFIX_ROW_GROUP="row-group-";pe.ID_PREFIX_TOP_PINNED="t-";pe.ID_PREFIX_BOTTOM_PINNED="b-";pe.OBJECT_ID_SEQUENCE=0;pe.EVENT_ROW_SELECTED="rowSelected";pe.EVENT_DATA_CHANGED="dataChanged";pe.EVENT_CELL_CHANGED="cellChanged";pe.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged";pe.EVENT_MASTER_CHANGED="masterChanged";pe.EVENT_GROUP_CHANGED="groupChanged";pe.EVENT_MOUSE_ENTER="mouseEnter";pe.EVENT_MOUSE_LEAVE="mouseLeave";pe.EVENT_HEIGHT_CHANGED="heightChanged";pe.EVENT_TOP_CHANGED="topChanged";pe.EVENT_DISPLAYED_CHANGED="displayedChanged";pe.EVENT_FIRST_CHILD_CHANGED="firstChildChanged";pe.EVENT_LAST_CHILD_CHANGED="lastChildChanged";pe.EVENT_CHILD_INDEX_CHANGED="childIndexChanged";pe.EVENT_ROW_INDEX_CHANGED="rowIndexChanged";pe.EVENT_EXPANDED_CHANGED="expandedChanged";pe.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged";pe.EVENT_SELECTABLE_CHANGED="selectableChanged";pe.EVENT_UI_LEVEL_CHANGED="uiLevelChanged";pe.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged";pe.EVENT_DRAGGING_CHANGED="draggingChanged";var gS=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class fu extends ke{constructor(){super(`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)}postConstruct(){this.eCheckbox.setPassive(!0),Dw(this.eCheckbox.getInputElement(),"polite")}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.localeService.getLocaleTextFunc(),t=this.rowNode.isSelected(),i=lu(e,t),n=e("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(t,!0),this.eCheckbox.setInputAriaLabel(`${n} (${i})`)}onClicked(e,t,i){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:i.shiftKey,groupSelectsFiltered:t,event:i,source:"checkboxSelected"})}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",n=>{gn(n)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",n=>{gn(n);const o=this.gridOptionsService.is("groupSelectsFiltered"),r=this.eCheckbox.getValue();this.shouldHandleIndeterminateState(r,o)?this.onClicked(!0,o,n||{})===0&&this.onClicked(!1,o,n):r?this.onClicked(!1,o,n):this.onClicked(!0,o,n||{})}),this.addManagedListener(this.rowNode,pe.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,pe.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,pe.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gridOptionsService.get("isRowSelectable")||typeof this.getIsVisible()=="function"){const n=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,m.EVENT_DISPLAYED_COLUMNS_CHANGED,n),this.addManagedListener(this.rowNode,pe.EVENT_DATA_CHANGED,n),this.addManagedListener(this.rowNode,pe.EVENT_CELL_CHANGED,n),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(e,t){return t&&(this.eCheckbox.getPreviousValue()===void 0||e===void 0)&&this.gridOptionsService.isRowModelType("clientSide")}showOrHideSelect(){var e,t,i,n;let o=this.rowNode.selectable;const r=this.getIsVisible();if(o)if(typeof r=="function"){const a=(e=this.overrides)===null||e===void 0?void 0:e.callbackParams,c=(t=this.column)===null||t===void 0?void 0:t.createColumnFunctionCallbackParams(this.rowNode);o=c?r(Object.assign(Object.assign({},a),c)):!1}else o=r??!1;if((i=this.column)===null||i===void 0?void 0:i.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!o),this.setVisible(!0),this.setDisplayed(!0);return}if(!((n=this.overrides)===null||n===void 0)&&n.removeHidden){this.setDisplayed(o);return}this.setVisible(o)}getIsVisible(){var e,t;return this.overrides?this.overrides.isVisible:(t=(e=this.column)===null||e===void 0?void 0:e.getColDef())===null||t===void 0?void 0:t.checkboxSelection}}gS([ue("eCheckbox")],fu.prototype,"eCheckbox",void 0);gS([de],fu.prototype,"postConstruct",null);var Vo=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},_i,di;(function(s){s[s.ToolPanel=0]="ToolPanel",s[s.HeaderCell=1]="HeaderCell",s[s.RowDrag=2]="RowDrag",s[s.ChartPanel=3]="ChartPanel"})(di||(di={}));var Dr;(function(s){s[s.Up=0]="Up",s[s.Down=1]="Down"})(Dr||(Dr={}));var Ns;(function(s){s[s.Left=0]="Left",s[s.Right=1]="Right"})(Ns||(Ns={}));let nt=_i=class extends ee{constructor(){super(...arguments),this.dragSourceAndParamsList=[],this.dropTargets=[]}init(){this.ePinnedIcon=Yi("columnMovePin",this.gridOptionsService,null),this.eHideIcon=Yi("columnMoveHide",this.gridOptionsService,null),this.eMoveIcon=Yi("columnMoveMove",this.gridOptionsService,null),this.eLeftIcon=Yi("columnMoveLeft",this.gridOptionsService,null),this.eRightIcon=Yi("columnMoveRight",this.gridOptionsService,null),this.eGroupIcon=Yi("columnMoveGroup",this.gridOptionsService,null),this.eAggregateIcon=Yi("columnMoveValue",this.gridOptionsService,null),this.ePivotIcon=Yi("columnMovePivot",this.gridOptionsService,null),this.eDropNotAllowedIcon=Yi("dropNotAllowed",this.gridOptionsService,null)}addDragSource(e,t=!1){const i={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:i,dragSource:e}),this.dragService.addDragSource(i)}removeDragSource(e){const t=this.dragSourceAndParamsList.find(i=>i.dragSource===e);t&&(this.dragService.removeDragSource(t.params),Xt(this.dragSourceAndParamsList,t))}clearDragSourceParamsList(){this.dragSourceAndParamsList.forEach(e=>this.dragService.removeDragSource(e.params)),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()}onDragStop(e){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){const t=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(t)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()}onDragging(e,t){var i,n,o,r;const l=this.getHorizontalDirection(e),a=this.getVerticalDirection(e);this.eventLastTime=e,this.positionGhost(e);const c=this.dropTargets.filter(u=>this.isMouseOnDropTarget(e,u)),d=this.findCurrentDropTarget(e,c);if(d!==this.lastDropTarget)this.leaveLastTargetIfExists(e,l,a,t),this.lastDropTarget!==null&&d===null&&((n=(i=this.dragSource).onGridExit)===null||n===void 0||n.call(i,this.dragItem)),this.lastDropTarget===null&&d!==null&&((r=(o=this.dragSource).onGridEnter)===null||r===void 0||r.call(o,this.dragItem)),this.enterDragTargetIfExists(d,e,l,a,t),this.lastDropTarget=d;else if(d&&d.onDragging){const u=this.createDropTargetEvent(d,e,l,a,t);d.onDragging(u)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,i=[[e.getContainer()]];return t?i.concat(t):i}allContainersIntersect(e,t){for(const i of t){const n=i.getBoundingClientRect();if(n.width===0||n.height===0)return!1;const o=e.clientX>=n.left&&e.clientX<n.right,r=e.clientY>=n.top&&e.clientY<n.bottom;if(!o||!r)return!1}return!0}isMouseOnDropTarget(e,t){const i=this.getAllContainersFromDropTarget(t);let n=!1;for(const o of i)if(this.allContainersIntersect(e,o)){n=!0;break}return t.targetContainsSource&&!t.getContainer().contains(this.dragSource.eElement)?!1:n&&t.isInterestedIn(this.dragSource.type,this.dragSource.eElement)}findCurrentDropTarget(e,t){const i=t.length;if(i===0)return null;if(i===1)return t[0];const o=this.gridOptionsService.getRootNode().elementsFromPoint(e.clientX,e.clientY);for(const r of o)for(const l of t)if(uw(this.getAllContainersFromDropTarget(l)).indexOf(r)!==-1)return l;return null}enterDragTargetIfExists(e,t,i,n,o){if(e){if(e.onDragEnter){const r=this.createDropTargetEvent(e,t,i,n,o);e.onDragEnter(r)}this.setGhostIcon(e.getIconName?e.getIconName():null)}}leaveLastTargetIfExists(e,t,i,n){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){const o=this.createDropTargetEvent(this.lastDropTarget,e,t,i,n);this.lastDropTarget.onDragLeave(o)}this.setGhostIcon(null)}}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(i=>i.external).find(i=>i.getContainer()===e.getContainer())||null}getHorizontalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientX,i=e.clientX;return t===i?null:t>i?Ns.Left:Ns.Right}getVerticalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientY,i=e.clientY;return t===i?null:t>i?Dr.Up:Dr.Down}createDropTargetEvent(e,t,i,n,o){const r=e.getContainer(),l=r.getBoundingClientRect(),{gridApi:a,columnApi:c,dragItem:d,dragSource:u}=this,h=t.clientX-l.left,p=t.clientY-l.top;return{event:t,x:h,y:p,vDirection:n,hDirection:i,dragSource:u,fromNudge:o,dragItem:d,api:a,columnApi:c,dropZoneTarget:r}}positionGhost(e){const t=this.eGhost;if(!t)return;const n=t.getBoundingClientRect().height,o=Gw()-2,r=Vw()-2,l=$f(t.offsetParent),{clientY:a,clientX:c}=e;let d=a-l.top-n/2,u=c-l.left-10;const h=this.gridOptionsService.getDocument(),p=h.defaultView||window,g=p.pageYOffset||h.documentElement.scrollTop,f=p.pageXOffset||h.documentElement.scrollLeft;o>0&&u+t.clientWidth>o+f&&(u=o+f-t.clientWidth),u<0&&(u=0),r>0&&d+t.clientHeight>r+g&&(d=r+g-t.clientHeight),d<0&&(d=0),t.style.left=`${u}px`,t.style.top=`${d}px`}removeGhost(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null}createGhost(){this.eGhost=$t(_i.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);const{theme:e}=this.environment.getTheme();e&&this.eGhost.classList.add(e),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);const t=this.eGhost.querySelector(".ag-dnd-ghost-label");let i=this.dragSource.dragItemName;tu(i)&&(i=i()),t.innerHTML=js(i)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";const n=this.gridOptionsService.getDocument();let o=null;try{o=n.fullscreenElement}catch{}finally{if(!o){const r=this.gridOptionsService.getRootNode(),l=r.querySelector("body");l?o=l:r instanceof ShadowRoot?o=r:o=r==null?void 0:r.documentElement}}this.eGhostParent=o,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")}setGhostIcon(e,t=!1){Ni(this.eGhostIcon);let i=null;switch(e||(e=this.dragSource.defaultIconName||_i.ICON_NOT_ALLOWED),e){case _i.ICON_PINNED:i=this.ePinnedIcon;break;case _i.ICON_MOVE:i=this.eMoveIcon;break;case _i.ICON_LEFT:i=this.eLeftIcon;break;case _i.ICON_RIGHT:i=this.eRightIcon;break;case _i.ICON_GROUP:i=this.eGroupIcon;break;case _i.ICON_AGGREGATE:i=this.eAggregateIcon;break;case _i.ICON_PIVOT:i=this.ePivotIcon;break;case _i.ICON_NOT_ALLOWED:i=this.eDropNotAllowedIcon;break;case _i.ICON_HIDE:i=this.eHideIcon;break}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",t),!(i===this.eHideIcon&&this.gridOptionsService.is("suppressDragLeaveHidesColumns"))&&i&&this.eGhostIcon.appendChild(i)}};nt.ICON_PINNED="pinned";nt.ICON_MOVE="move";nt.ICON_LEFT="left";nt.ICON_RIGHT="right";nt.ICON_GROUP="group";nt.ICON_AGGREGATE="aggregate";nt.ICON_PIVOT="pivot";nt.ICON_NOT_ALLOWED="notAllowed";nt.ICON_HIDE="hide";nt.GHOST_TEMPLATE=`<div class="ag-dnd-ghost ag-unselectable">
            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
            <div class="ag-dnd-ghost-label"></div>
        </div>`;Vo([y("dragService")],nt.prototype,"dragService",void 0);Vo([y("mouseEventService")],nt.prototype,"mouseEventService",void 0);Vo([y("columnApi")],nt.prototype,"columnApi",void 0);Vo([y("gridApi")],nt.prototype,"gridApi",void 0);Vo([de],nt.prototype,"init",null);Vo([hi],nt.prototype,"clearDragSourceParamsList",null);nt=_i=Vo([Se("dragAndDropService")],nt);var Wa=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class _o extends ke{constructor(e,t,i,n,o,r){super(),this.cellValueFn=e,this.rowNode=t,this.column=i,this.customGui=n,this.dragStartPixels=o,this.suppressVisibilityChange=r,this.dragSource=null}isCustomGui(){return this.customGui!=null}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(_t("rowDrag",this.gridOptionsService,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){const e=this.gridOptionsService.is("rowDragManaged")?new CS(this,this.beans,this.rowNode,this.column):new vS(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e),this.addDragSource(t)}getSelectedNodes(){if(!this.gridOptionsService.is("rowDragMultiRow"))return[this.rowNode];const t=this.beans.selectionService.getSelectedNodes();return t.indexOf(this.rowNode)!==-1?t:[this.rowNode]}checkCompatibility(){const e=this.gridOptionsService.is("rowDragManaged");this.gridOptionsService.isTreeData()&&e&&st(()=>console.warn("AG Grid: If using row drag with tree data, you cannot have rowDragManaged=true"),"RowDragComp.managedAndTreeData")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gridOptionsService.get("rowDragText")}addDragSource(e=4){this.dragSource&&this.removeDragSource();const t=this.getRowDragText(this.column),i=this.localeService.getLocaleTextFunc();this.dragSource={type:di.RowDrag,eElement:this.getGui(),dragItemName:()=>{var n;const o=this.getDragItem(),r=((n=o.rowNodes)===null||n===void 0?void 0:n.length)||1;return t?t(o,r):r===1?this.cellValueFn():`${r} ${i("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gridOptionsService.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}removeDragSource(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null}}Wa([y("beans")],_o.prototype,"beans",void 0);Wa([de],_o.prototype,"postConstruct",null);Wa([hi],_o.prototype,"removeDragSource",null);class mS extends ee{constructor(e,t,i){super(),this.parent=e,this.rowNode=t,this.column=i}setDisplayedOrVisible(e){const t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{let i=!0,n=!1;this.column&&(i=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),n=tu(this.column.getColDef().rowDrag)),n?(this.parent.setDisplayed(!0,t),this.parent.setVisible(i,t)):(this.parent.setDisplayed(i,t),this.parent.setVisible(!0,t))}}}class vS extends mS{constructor(e,t,i,n){super(e,i,n),this.beans=t}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,pe.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,pe.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,pe.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,m.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gridOptionsService.is("suppressRowDrag");this.setDisplayedOrVisible(e)}}Wa([de],vS.prototype,"postConstruct",null);class CS extends mS{constructor(e,t,i,n){super(e,i,n),this.beans=t}postConstruct(){this.addManagedListener(this.beans.eventService,m.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,m.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,m.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,m.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,pe.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,pe.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const t=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),i=t&&t.shouldPreventRowMove(),n=this.gridOptionsService.is("suppressRowDrag"),o=this.beans.dragAndDropService.hasExternalDropZones(),r=i&&!o||n;this.setDisplayedOrVisible(r)}}Wa([de],CS.prototype,"postConstruct",null);var Ua=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class qr extends ee{init(e,t,i,n,o,r,l){this.params=l,this.eGui=t,this.eCheckbox=i,this.eExpanded=n,this.eContracted=o,this.comp=e,this.compClass=r;const a=this.isTopLevelFooter(),c=this.isEmbeddedRowMismatch(),d=l.value==null&&!l.node.master;let u=!1;if(this.gridOptionsService.is("groupIncludeFooter")&&this.gridOptionsService.is("groupHideOpenParents")){const h=l.node;if(h.footer){const p=l.colDef&&l.colDef.showRowGroup,g=h.rowGroupColumn&&h.rowGroupColumn.getColId();u=p!==g}}this.cellIsBlank=a?!1:c||d&&!l.node.master||u,!this.cellIsBlank&&(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),this.addFullWidthRowDraggerIfNeeded(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded())}destroy(){super.destroy(),this.expandListener=null}refreshAriaExpanded(){const{node:e,eParentOfValue:t}=this.params;if(this.expandListener&&(this.expandListener=this.expandListener()),!this.isExpandable()){_w(t);return}const i=()=>{fs(t,!!e.expanded)};this.expandListener=this.addManagedListener(e,pe.EVENT_EXPANDED_CHANGED,i)||null,i()}isTopLevelFooter(){if(!this.gridOptionsService.is("groupIncludeTotalFooter")||this.params.value!=null||this.params.node.level!=-1)return!1;const e=this.params.colDef;if(e==null||e.showRowGroup===!0)return!0;const i=this.columnModel.getRowGroupColumns();return!i||i.length===0?!0:i[0].getId()===e.showRowGroup}isEmbeddedRowMismatch(){if(!this.params.fullWidth||!this.gridOptionsService.is("embedFullWidthRows"))return!1;const e=this.params.pinned==="left",t=this.params.pinned==="right",i=!e&&!t;return this.gridOptionsService.is("enableRtl")?this.columnModel.isPinningLeft()?!t:!i:this.columnModel.isPinningLeft()?!e:!i}findDisplayedGroupNode(){const e=this.params.column,t=this.params.node;if(this.showingValueForOpenedParent){let i=t.parent;for(;i!=null;){if(i.rowGroupColumn&&e.isRowGroupDisplayed(i.rowGroupColumn.getId())){this.displayedGroupNode=i;break}i=i.parent}}Le(this.displayedGroupNode)&&(this.displayedGroupNode=t)}setupShowingValueForOpenedParent(){const e=this.params.node,t=this.params.column;if(!this.gridOptionsService.is("groupHideOpenParents")){this.showingValueForOpenedParent=!1;return}if(!e.groupData){this.showingValueForOpenedParent=!1;return}if(e.rowGroupColumn!=null){const o=e.rowGroupColumn.getId();if(t.isRowGroupDisplayed(o)){this.showingValueForOpenedParent=!1;return}}const n=e.groupData[t.getId()]!=null;this.showingValueForOpenedParent=n}addValueElement(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())}addGroupValue(){const e=this.adjustParamsWithDetailsFromRelatedColumn(),t=this.getInnerCompDetails(e),{valueFormatted:i,value:n}=e;let o=i;o==null&&(n===""&&this.params.node.group?o=this.localeService.getLocaleTextFunc()("blanks","(Blanks)"):o=n??null),this.comp.setInnerRenderer(t,o)}adjustParamsWithDetailsFromRelatedColumn(){const e=this.displayedGroupNode.rowGroupColumn,t=this.params.column;if(!e)return this.params;if(t!=null&&!t.isRowGroupDisplayed(e.getId()))return this.params;const n=this.params,{value:o,node:r}=this.params,l=this.valueFormatterService.formatValue(e,r,o);return Object.assign(Object.assign({},n),{valueFormatted:l})}addFooterValue(){const e=this.params.footerValueGetter;let t="";if(e){const n=Ef(this.params);n.value=this.params.value,typeof e=="function"?t=e(n):typeof e=="string"?t=this.expressionService.evaluate(e,n):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else t="Total "+(this.params.value!=null?this.params.value:"");const i=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(i,t)}getInnerCompDetails(e){if(e.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptionsService.get("groupRowRendererParams"),e);const t=this.userComponentFactory.getInnerRendererDetails(e,e),i=l=>l&&l.componentClass==this.compClass;if(t&&!i(t))return t;const n=this.displayedGroupNode.rowGroupColumn,o=n?n.getColDef():void 0;if(!o)return;const r=this.userComponentFactory.getCellRendererDetails(o,e);if(r&&!i(r))return r;if(i(r)&&o.cellRendererParams&&o.cellRendererParams.innerRenderer)return this.userComponentFactory.getInnerRendererDetails(o.cellRendererParams,e)}addChildCount(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,pe.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())}updateChildCount(){const e=this.displayedGroupNode.allChildrenCount,n=this.isShowRowGroupForThisRow()&&e!=null&&e>=0?`(${e})`:"";this.comp.setChildCount(n)}isShowRowGroupForThisRow(){if(this.gridOptionsService.isTreeData())return!0;const e=this.displayedGroupNode.rowGroupColumn;if(!e)return!1;const t=this.params.column;return t==null||t.isRowGroupDisplayed(e.getId())}addExpandAndContract(){var e;const t=this.params,i=_t("groupExpanded",this.gridOptionsService,null),n=_t("groupContracted",this.gridOptionsService,null);i&&this.eExpanded.appendChild(i),n&&this.eContracted.appendChild(n);const o=t.eGridCell;!(((e=this.params.column)===null||e===void 0?void 0:e.isCellEditable(t.node))&&this.gridOptionsService.is("enableGroupEdit"))&&this.isExpandable()&&!t.suppressDoubleClickExpand&&this.addManagedListener(o,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(o,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(t.node,pe.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();const l=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,pe.EVENT_ALL_CHILDREN_COUNT_CHANGED,l),this.addManagedListener(this.displayedGroupNode,pe.EVENT_MASTER_CHANGED,l),this.addManagedListener(this.displayedGroupNode,pe.EVENT_GROUP_CHANGED,l),this.addManagedListener(this.displayedGroupNode,pe.EVENT_HAS_CHILDREN_CHANGED,l)}onExpandClicked(e){ks(e)||(gn(e),this.onExpandOrContract(e))}onExpandOrContract(e){const t=this.displayedGroupNode,i=!t.expanded;!i&&t.sticky&&this.scrollToStickyNode(t),t.setExpanded(i,e)}scrollToStickyNode(e){this.ctrlsService.getGridBodyCtrl().getScrollFeature().setVerticalScrollPosition(e.rowTop-e.stickyRowTop)}isExpandable(){if(this.showingValueForOpenedParent)return!0;const e=this.displayedGroupNode,t=this.columnModel.isPivotMode()&&e.leafGroup;if(!(e.isExpandable()&&!e.footer&&!t))return!1;const n=this.params.column;return n!=null&&typeof n.getColDef().showRowGroup=="string"?this.isShowRowGroupForThisRow():!0}showExpandAndContractIcons(){const{params:e,displayedGroupNode:t,columnModel:i}=this,{node:n}=e,o=this.isExpandable();if(o){const d=this.showingValueForOpenedParent?!0:n.expanded;this.comp.setExpandedDisplayed(d),this.comp.setContractedDisplayed(!d)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);const r=i.isPivotMode(),l=r&&t.leafGroup,a=o&&!l,c=n.footer&&n.level===-1;this.comp.addOrRemoveCssClass("ag-cell-expandable",a),this.comp.addOrRemoveCssClass("ag-row-group",a),r?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",l):c||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!a)}onRowNodeIsExpandableChanged(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()}setupIndent(){const e=this.params.node;this.params.suppressPadding||(this.addManagedListener(e,pe.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())}setIndent(){if(this.gridOptionsService.is("groupHideOpenParents"))return;const e=this.params,t=e.node,i=!!e.colDef,n=this.gridOptionsService.isTreeData(),r=!i||n||e.colDef.showRowGroup===!0?t.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+r,this.comp.addOrRemoveCssClass(this.indentClass,!0)}addFullWidthRowDraggerIfNeeded(){if(!this.params.fullWidth||!this.params.rowDrag)return;const e=new _o(()=>this.params.value,this.params.node);this.createManagedBean(e,this.context),this.eGui.insertAdjacentElement("afterbegin",e.getGui())}isUserWantsSelected(){const e=this.params.checkbox;return typeof e=="function"||e===!0}addCheckboxIfNeeded(){const e=this.displayedGroupNode,t=this.isUserWantsSelected()&&!e.footer&&!e.rowPinned&&!e.detail;if(t){const i=new fu;this.getContext().createBean(i),i.init({rowNode:e,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(i.getGui()),this.addDestroyFunc(()=>this.getContext().destroyBean(i))}this.comp.setCheckboxVisible(t)}onKeyDown(e){!(e.key===$.ENTER)||this.params.suppressEnterExpand||this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(e)}onCellDblClicked(e){if(ks(e))return;dd(this.eExpanded,e)||dd(this.eContracted,e)||this.onExpandOrContract(e)}}Ua([y("expressionService")],qr.prototype,"expressionService",void 0);Ua([y("valueFormatterService")],qr.prototype,"valueFormatterService",void 0);Ua([y("columnModel")],qr.prototype,"columnModel",void 0);Ua([y("userComponentFactory")],qr.prototype,"userComponentFactory",void 0);Ua([y("ctrlsService")],qr.prototype,"ctrlsService",void 0);var ja=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class Ks extends ke{constructor(){super(Ks.TEMPLATE)}init(e){const t={setInnerRenderer:(r,l)=>this.setRenderDetails(r,l),setChildCount:r=>this.eChildCount.innerHTML=r,addOrRemoveCssClass:(r,l)=>this.addOrRemoveCssClass(r,l),setContractedDisplayed:r=>Je(this.eContracted,r),setExpandedDisplayed:r=>Je(this.eExpanded,r),setCheckboxVisible:r=>this.eCheckbox.classList.toggle("ag-invisible",!r)},i=this.createManagedBean(new qr),n=!e.colDef,o=this.getGui();i.init(t,o,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,e),n&&Ht(o,"gridcell")}setRenderDetails(e,t){if(e){const i=e.newAgStackInstance();if(!i)return;i.then(n=>{if(!n)return;const o=()=>this.context.destroyBean(n);this.isAlive()?(this.eValue.appendChild(n.getGui()),this.addDestroyFunc(o)):o()})}else this.eValue.innerText=t}destroy(){this.getContext().destroyBean(this.innerCellRenderer),super.destroy()}refresh(){return!1}}Ks.TEMPLATE=`<span class="ag-cell-wrapper">
            <span class="ag-group-expanded" ref="eExpanded"></span>
            <span class="ag-group-contracted" ref="eContracted"></span>
            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>
            <span class="ag-group-value" ref="eValue"></span>
            <span class="ag-group-child-count" ref="eChildCount"></span>
        </span>`;ja([ue("eExpanded")],Ks.prototype,"eExpanded",void 0);ja([ue("eContracted")],Ks.prototype,"eContracted",void 0);ja([ue("eCheckbox")],Ks.prototype,"eCheckbox",void 0);ja([ue("eValue")],Ks.prototype,"eValue",void 0);ja([ue("eChildCount")],Ks.prototype,"eChildCount",void 0);var yS=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class Qr extends ke{constructor(){super(Qr.TEMPLATE)}init(e){e.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")}setupLoading(){const e=_t("groupLoading",this.gridOptionsService,null);e&&this.eLoadingIcon.appendChild(e);const t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingOoo","Loading")}refresh(e){return!1}destroy(){super.destroy()}}Qr.TEMPLATE=`<div class="ag-loading">
            <span class="ag-loading-icon" ref="eLoadingIcon"></span>
            <span class="ag-loading-text" ref="eLoadingText"></span>
        </div>`;yS([ue("eLoadingIcon")],Qr.prototype,"eLoadingIcon",void 0);yS([ue("eLoadingText")],Qr.prototype,"eLoadingText",void 0);let wS=class SS extends ke{constructor(){super()}destroy(){super.destroy()}init(e){var t;const i=(t=this.gridOptionsService.get("overlayLoadingTemplate"))!==null&&t!==void 0?t:SS.DEFAULT_LOADING_OVERLAY_TEMPLATE,n=this.localeService.getLocaleTextFunc(),o=i.replace("[LOADING...]",n("loadingOoo","Loading..."));this.setTemplate(o)}};wS.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>';let bS=class ES extends ke{constructor(){super()}destroy(){super.destroy()}init(e){var t;const i=(t=this.gridOptionsService.get("overlayNoRowsTemplate"))!==null&&t!==void 0?t:ES.DEFAULT_NO_ROWS_TEMPLATE,n=this.localeService.getLocaleTextFunc(),o=i.replace("[NO_ROWS_TO_SHOW]",n("noRowsToShow","No Rows To Show"));this.setTemplate(o)}};bS.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>';let YV=class extends Yr{constructor(){super('<div class="ag-tooltip"></div>')}init(e){const{value:t}=e;this.getGui().innerHTML=js(t)}};class qV{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" ref="eInput"></ag-input-number-field>'}init(e,t){this.eInput=e,this.params=t,t.max!=null&&e.setMax(t.max),t.min!=null&&e.setMin(t.min),t.precision!=null&&e.setPrecision(t.precision),t.step!=null&&e.setStep(t.step),t.showStepperButtons&&e.getInputElement().classList.add("ag-number-field-input-stepper")}getValue(){const e=this.eInput.getValue();if(!Q(e)&&!Q(this.params.value))return this.params.value;let t=this.params.parseValue(e);if(t==null)return t;if(typeof t=="string"){if(t==="")return null;t=Number(t)}return isNaN(t)?null:t}getStartValue(){return this.params.value}}class QV extends ka{constructor(){super(new qV)}}class XV{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'}init(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)}getValue(){const e=this.eInput.getDate();return!Q(e)&&!Q(this.params.value)?this.params.value:e??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return es(e,!1)}}class JV extends ka{constructor(){super(new XV)}}var ZV=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class eH{constructor(e){this.getDataTypeService=e}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'}init(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)}getValue(){const e=this.formatDate(this.eInput.getDate());return!Q(e)&&!Q(this.params.value)?this.params.value:this.params.parseValue(e??"")}getStartValue(){var e,t;return es((t=this.parseDate((e=this.params.value)!==null&&e!==void 0?e:void 0))!==null&&t!==void 0?t:null,!1)}parseDate(e){return this.getDataTypeService().getDateParserFunction()(e)}formatDate(e){return this.getDataTypeService().getDateFormatterFunction()(e)}}class RS extends ka{constructor(){super(new eH(()=>this.dataTypeService))}}ZV([y("dataTypeService")],RS.prototype,"dataTypeService",void 0);var tH=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class za extends ke{constructor(){super(za.TEMPLATE)}init(e){this.params=e,this.updateCheckbox(e),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.addManagedListener(this.eCheckbox.getInputElement(),"click",i=>{if(gn(i),this.eCheckbox.isDisabled())return;const n=this.eCheckbox.getValue();this.onCheckboxChanged(n)}),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",i=>{gn(i)});const t=this.gridOptionsService.getDocument();this.addManagedListener(this.params.eGridCell,"keydown",i=>{if(i.key===$.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===t.activeElement&&this.eCheckbox.toggle();const n=this.eCheckbox.getValue();this.onCheckboxChanged(n),i.preventDefault()}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){var t,i,n;let o,r=!0;if(e.node.group&&e.column){const u=e.column.getColId();u.startsWith(ea)?o=e.value==null||e.value===""?void 0:e.value==="true":e.node.aggData&&e.node.aggData[u]!==void 0?o=(t=e.value)!==null&&t!==void 0?t:void 0:r=!1}else o=(i=e.value)!==null&&i!==void 0?i:void 0;if(!r){this.eCheckbox.setDisplayed(!1);return}this.eCheckbox.setValue(o);const l=e.disabled!=null?e.disabled:!(!((n=e.column)===null||n===void 0)&&n.isCellEditable(e.node));this.eCheckbox.setDisabled(l);const a=this.localeService.getLocaleTextFunc(),c=lu(a,o),d=l?c:`${a("ariaToggleCellValue","Press SPACE to toggle cell value")} (${c})`;this.eCheckbox.setInputAriaLabel(d)}onCheckboxChanged(e){const{column:t,node:i,rowIndex:n,value:o}=this.params,r={type:m.EVENT_CELL_EDITING_STARTED,column:t,colDef:t==null?void 0:t.getColDef(),data:i.data,node:i,rowIndex:n,rowPinned:i.rowPinned,value:o};this.eventService.dispatchEvent(r);const l=this.params.node.setDataValue(this.params.column,e,"edit"),a={type:m.EVENT_CELL_EDITING_STOPPED,column:t,colDef:t==null?void 0:t.getColDef(),data:i.data,node:i,rowIndex:n,rowPinned:i.rowPinned,value:o,oldValue:o,newValue:e,valueChanged:l};this.eventService.dispatchEvent(a)}}za.TEMPLATE=`
        <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
            <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
        </div>`;tH([ue("eCheckbox")],za.prototype,"eCheckbox",void 0);var iH=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class TS extends Yr{constructor(){super(`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)}init(e){var t;this.params=e;const i=(t=e.value)!==null&&t!==void 0?t:void 0;this.eCheckbox.setValue(i),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(i),this.addManagedListener(this.eCheckbox,Wn.EVENT_CHANGED,n=>this.setAriaLabel(n.selected))}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.localeService.getLocaleTextFunc(),i=lu(t,e),n=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${n} (${i})`)}}iH([ue("eCheckbox")],TS.prototype,"eCheckbox",void 0);var ug=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let oa=class extends ee{constructor(){super(...arguments),this.agGridDefaults={agDateInput:cS,agColumnHeader:Kt,agColumnGroupHeader:Go,agSortIndicator:ki,agTextColumnFloatingFilter:kV,agNumberColumnFloatingFilter:HV,agDateColumnFloatingFilter:pu,agReadOnlyFloatingFilter:eg,agAnimateShowChangeCellRenderer:Ba,agAnimateSlideCellRenderer:$a,agGroupCellRenderer:Ks,agGroupRowRenderer:Ks,agLoadingCellRenderer:Qr,agCheckboxCellRenderer:za,agCellEditor:Nv,agTextCellEditor:Nv,agNumberCellEditor:QV,agDateCellEditor:JV,agDateStringCellEditor:RS,agSelectCellEditor:dg,agLargeTextCellEditor:Ha,agCheckboxCellEditor:TS,agTextColumnFilter:Mt,agNumberColumnFilter:Ga,agDateColumnFilter:Kr,agLoadingOverlay:wS,agNoRowsOverlay:bS,agTooltipComponent:YV},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:Ee.SetFilterModule,agSetColumnFloatingFilter:Ee.SetFilterModule,agMultiColumnFilter:Ee.MultiFilterModule,agMultiColumnFloatingFilter:Ee.MultiFilterModule,agGroupColumnFilter:Ee.RowGroupingModule,agGroupColumnFloatingFilter:Ee.RowGroupingModule,agRichSelect:Ee.RichSelectModule,agRichSelectCellEditor:Ee.RichSelectModule,agDetailCellRenderer:Ee.MasterDetailModule,agSparklineCellRenderer:Ee.SparklinesModule},this.jsComps={}}init(){this.gridOptions.components!=null&&Rt(this.gridOptions.components,(e,t)=>this.registerJsComponent(e,t))}registerDefaultComponent(e,t){if(this.agGridDefaults[e]){console.error("Trying to overwrite a default component. You should call registerComponent");return}this.agGridDefaults[e]=t}registerJsComponent(e,t){this.jsComps[e]=t}retrieve(e,t){const i=(a,c)=>({componentFromFramework:c,component:a}),n=this.getFrameworkOverrides().frameworkComponent(t,this.gridOptions.components);if(n!=null)return i(n,!0);const o=this.jsComps[t];if(o){const a=this.getFrameworkOverrides().isFrameworkComponent(o);return i(o,a)}const r=this.agGridDefaults[t];if(r)return i(r,!1);const l=this.enterpriseAgDefaultCompsModule[t];return l?me.__assertRegistered(l,`AG Grid '${e}' component: ${t}`,this.context.getGridId()):st(()=>{this.warnAboutMissingComponent(e,t)},"MissingComp"+t),null}warnAboutMissingComponent(e,t){const i=[...Object.keys(this.agGridDefaults).filter(o=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(o)),...Object.keys(this.jsComps)],n=_f(t,i,!0,.8);console.warn(`AG Grid: Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.`),n.length>0&&console.warn(`         Did you mean: [${n.slice(0,3)}]?`),console.warn("If using a custom component check it has been registered as described in: https://ag-grid.com/javascript-data-grid/components/")}};ug([y("gridOptions")],oa.prototype,"gridOptions",void 0);ug([de],oa.prototype,"init",null);oa=ug([Se("userComponentRegistry")],oa);const sH={propertyName:"dateComponent",cellRenderer:!1},nH={propertyName:"headerComponent",cellRenderer:!1},oH={propertyName:"headerGroupComponent",cellRenderer:!1},xv={propertyName:"cellRenderer",cellRenderer:!0},rH={propertyName:"cellEditor",cellRenderer:!1},Gv={propertyName:"innerRenderer",cellRenderer:!0},lH={propertyName:"loadingOverlayComponent",cellRenderer:!1},aH={propertyName:"noRowsOverlayComponent",cellRenderer:!1},cH={propertyName:"tooltipComponent",cellRenderer:!1},Tp={propertyName:"filter",cellRenderer:!1},dH={propertyName:"floatingFilterComponent",cellRenderer:!1},uH={propertyName:"toolPanel",cellRenderer:!1},hH={propertyName:"statusPanel",cellRenderer:!1},pH={propertyName:"fullWidthCellRenderer",cellRenderer:!0},fH={propertyName:"loadingCellRenderer",cellRenderer:!0},gH={propertyName:"groupRowRenderer",cellRenderer:!0},mH={propertyName:"detailCellRenderer",cellRenderer:!0};class DS{static getFloatingFilterType(e){return this.filterToFloatingFilterMapping[e]}}DS.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"};var Xr=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let Un=class extends ee{getHeaderCompDetails(e,t){return this.getCompDetails(e,nH,"agColumnHeader",t)}getHeaderGroupCompDetails(e){const t=e.columnGroup.getColGroupDef();return this.getCompDetails(t,oH,"agColumnGroupHeader",e)}getFullWidthCellRendererDetails(e){return this.getCompDetails(this.gridOptions,pH,null,e,!0)}getFullWidthLoadingCellRendererDetails(e){return this.getCompDetails(this.gridOptions,fH,"agLoadingCellRenderer",e,!0)}getFullWidthGroupCellRendererDetails(e){return this.getCompDetails(this.gridOptions,gH,"agGroupRowRenderer",e,!0)}getFullWidthDetailCellRendererDetails(e){return this.getCompDetails(this.gridOptions,mH,"agDetailCellRenderer",e,!0)}getInnerRendererDetails(e,t){return this.getCompDetails(e,Gv,null,t)}getFullWidthGroupRowInnerCellRenderer(e,t){return this.getCompDetails(e,Gv,null,t)}getCellRendererDetails(e,t){return this.getCompDetails(e,xv,null,t)}getCellEditorDetails(e,t){return this.getCompDetails(e,rH,"agCellEditor",t,!0)}getFilterDetails(e,t,i){return this.getCompDetails(e,Tp,i,t,!0)}getDateCompDetails(e){return this.getCompDetails(this.gridOptions,sH,"agDateInput",e,!0)}getLoadingOverlayCompDetails(e){return this.getCompDetails(this.gridOptions,lH,"agLoadingOverlay",e,!0)}getNoRowsOverlayCompDetails(e){return this.getCompDetails(this.gridOptions,aH,"agNoRowsOverlay",e,!0)}getTooltipCompDetails(e){return this.getCompDetails(e.colDef,cH,"agTooltipComponent",e,!0)}getSetFilterCellRendererDetails(e,t){return this.getCompDetails(e,xv,null,t)}getFloatingFilterCompDetails(e,t,i){return this.getCompDetails(e,dH,i,t)}getToolPanelCompDetails(e,t){return this.getCompDetails(e,uH,null,t,!0)}getStatusPanelCompDetails(e,t){return this.getCompDetails(e,hH,null,t,!0)}getCompDetails(e,t,i,n,o=!1){const{propertyName:r,cellRenderer:l}=t;let{compName:a,jsComp:c,fwComp:d,paramsFromSelector:u,popupFromSelector:h,popupPositionFromSelector:p}=this.getCompKeys(e,t,n);const g=C=>{const E=this.userComponentRegistry.retrieve(r,C);E&&(c=E.componentFromFramework?void 0:E.component,d=E.componentFromFramework?E.component:void 0)};if(a!=null&&g(a),c==null&&d==null&&i!=null&&g(i),c&&l&&!this.agComponentUtils.doesImplementIComponent(c)&&(c=this.agComponentUtils.adaptFunction(r,c)),!c&&!d){o&&console.error(`AG Grid: Could not find component ${a}, did you forget to configure this component?`);return}const f=this.mergeParamsWithApplicationProvidedParams(e,t,n,u),v=c==null,w=c||d;return{componentFromFramework:v,componentClass:w,params:f,type:t,popupFromSelector:h,popupPositionFromSelector:p,newAgStackInstance:()=>this.newAgStackInstance(w,v,f,t)}}getCompKeys(e,t,i){const{propertyName:n}=t;let o,r,l,a,c,d;if(e){const u=e,h=u[n+"Selector"],p=h?h(i):null,g=f=>{typeof f=="string"?o=f:f!=null&&f!==!0&&(this.getFrameworkOverrides().isFrameworkComponent(f)?l=f:r=f)};p?(g(p.component),a=p.params,c=p.popup,d=p.popupPosition):g(u[n])}return{compName:o,jsComp:r,fwComp:l,paramsFromSelector:a,popupFromSelector:c,popupPositionFromSelector:d}}newAgStackInstance(e,t,i,n){const o=n.propertyName,r=!t;let l;if(r)l=new e;else{const c=this.componentMetadataProvider.retrieve(o);l=this.frameworkComponentWrapper.wrap(e,c.mandatoryMethodList,c.optionalMethodList,n)}const a=this.initComponent(l,i);return a==null?ai.resolve(l):a.then(()=>l)}mergeParamsWithApplicationProvidedParams(e,t,i,n=null){const o={context:this.gridOptionsService.context,columnApi:this.gridOptionsService.columnApi,api:this.gridOptionsService.api};Mi(o,i);const r=e,l=r&&r[t.propertyName+"Params"];if(typeof l=="function"){const a=l(i);Mi(o,a)}else typeof l=="object"&&Mi(o,l);return Mi(o,n),o}initComponent(e,t){if(this.context.createBean(e),e.init!=null)return e.init(t)}getDefaultFloatingFilterType(e,t){if(e==null)return null;let i=null,{compName:n,jsComp:o,fwComp:r}=this.getCompKeys(e,Tp);return n?i=DS.getFloatingFilterType(n):o==null&&r==null&&e.filter===!0&&(i=t()),i}};Xr([y("gridOptions")],Un.prototype,"gridOptions",void 0);Xr([y("agComponentUtils")],Un.prototype,"agComponentUtils",void 0);Xr([y("componentMetadataProvider")],Un.prototype,"componentMetadataProvider",void 0);Xr([y("userComponentRegistry")],Un.prototype,"userComponentRegistry",void 0);Xr([ht("frameworkComponentWrapper")],Un.prototype,"frameworkComponentWrapper",void 0);Un=Xr([Se("userComponentFactory")],Un);var fd;(function(s){s[s.SINGLE_SHEET=0]="SINGLE_SHEET",s[s.MULTI_SHEET=1]="MULTI_SHEET"})(fd||(fd={}));var hg=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let ra=class extends ee{constructor(){super(...arguments),this.dragEndFunctions=[],this.dragSources=[]}removeAllListeners(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0}removeListener(e){const t=e.dragSource.eElement,i=e.mouseDownListener;if(t.removeEventListener("mousedown",i),e.touchEnabled){const n=e.touchStartListener;t.removeEventListener("touchstart",n,{passive:!0})}}removeDragSource(e){const t=this.dragSources.find(i=>i.dragSource===e);t&&(this.removeListener(t),Xt(this.dragSources,t))}isDragging(){return this.dragging}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:i,includeTouch:n,stopPropagationForTouch:o}=e;i.addEventListener("mousedown",t);let r=null;const l=this.gridOptionsService.is("suppressTouch");n&&!l&&(r=a=>{kf(a.target)||(a.cancelable&&(a.preventDefault(),o&&a.stopPropagation()),this.onTouchStart(e,a))},i.addEventListener("touchstart",r,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:r,touchEnabled:!!n})}getStartTarget(){return this.startTarget}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const i=t.touches[0];this.touchLastTime=i,this.touchStart=i;const n=c=>this.onTouchMove(c,e.eElement),o=c=>this.onTouchUp(c,e.eElement),r=c=>{c.cancelable&&c.preventDefault()},l=t.target,a=[{target:this.gridOptionsService.getRootNode(),type:"touchmove",listener:r,options:{passive:!1}},{target:l,type:"touchmove",listener:n,options:{passive:!0}},{target:l,type:"touchend",listener:o,options:{passive:!0}},{target:l,type:"touchcancel",listener:o,options:{passive:!0}}];this.addTemporaryEvents(a),e.dragStartPixels===0&&this.onCommonMove(i,this.touchStart,e.eElement)}onMouseDown(e,t){const i=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||i._alreadyProcessedByDragService||(i._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const n=c=>this.onMouseMove(c,e.eElement),o=c=>this.onMouseUp(c,e.eElement),r=c=>c.preventDefault(),l=this.gridOptionsService.getRootNode(),a=[{target:l,type:"mousemove",listener:n},{target:l,type:"mouseup",listener:o},{target:l,type:"contextmenu",listener:r}];this.addTemporaryEvents(a),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:i,type:n,listener:o,options:r}=t;i.addEventListener(n,o,r)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:i,type:n,listener:o,options:r}=t;i.removeEventListener(n,o,r)})})}isEventNearStartEvent(e,t){const{dragStartPixels:i}=this.currentDragParams,n=Q(i)?i:4;return qf(e,t,n)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,i){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(e,t))return;this.dragging=!0;const n={type:m.EVENT_DRAG_STARTED,target:i};this.eventService.dispatchEvent(n),this.currentDragParams.onDragStart(t),this.currentDragParams.onDragging(t)}this.currentDragParams.onDragging(e)}onTouchMove(e,t){const i=this.getFirstActiveTouch(e.touches);i&&this.onCommonMove(i,this.touchStart,t)}onMouseMove(e,t){this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const t=this.gridOptionsService.is("enableCellTextSelection"),i=ns(),n=e.type==="mousemove";return(t&&n||i)&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)}isOverFormFieldElement(e){const t=e.target,i=t==null?void 0:t.tagName.toLocaleLowerCase();return!!(i!=null&&i.match("^a$|textarea|input|select|button"))}onTouchUp(e,t){let i=this.getFirstActiveTouch(e.changedTouches);i||(i=this.touchLastTime),this.onUpCommon(i,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){if(this.dragging){this.dragging=!1,this.currentDragParams.onDragStop(e);const i={type:m.EVENT_DRAG_STOPPED,target:t};this.eventService.dispatchEvent(i)}this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(i=>i()),this.dragEndFunctions.length=0}};hg([y("mouseEventService")],ra.prototype,"mouseEventService",void 0);hg([hi],ra.prototype,"removeAllListeners",null);ra=hg([Se("dragService")],ra);var un;(function(s){s[s.Above=0]="Above",s[s.Below=1]="Below"})(un||(un={}));var ut;(function(s){s.EVERYTHING="group",s.FILTER="filter",s.SORT="sort",s.MAP="map",s.AGGREGATE="aggregate",s.FILTER_AGGREGATES="filter_aggregates",s.PIVOT="pivot",s.NOTHING="nothing"})(ut||(ut={}));var rt=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};function ho(s){const e=s;return e!=null&&e.getFrameworkComponentInstance!=null?e.getFrameworkComponentInstance():s}let Ze=class{constructor(){this.detailGridInfoMap={},this.destroyCalled=!1}registerOverlayWrapperComp(e){this.overlayWrapperComp=e}registerSideBarComp(e){this.sideBarComp=e}init(){switch(this.rowModel.getType()){case"clientSide":this.clientSideRowModel=this.rowModel;break;case"infinite":this.infiniteRowModel=this.rowModel;break;case"serverSide":this.serverSideRowModel=this.rowModel;break}this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl()})}__getAlignedGridService(){return this.alignedGridsService}__getContext(){return this.context}getSetterMethod(e){return`set${e.charAt(0).toUpperCase()}${e.substring(1)}`}__setProperty(e,t){this.gridOptionsService.set(e,t);const i=this.getSetterMethod(e),n=this;n[i]&&n[i](t)}getGridId(){return this.context.getGridId()}addDetailGridInfo(e,t){this.detailGridInfoMap[e]=t}removeDetailGridInfo(e){this.detailGridInfoMap[e]=void 0}getDetailGridInfo(e){return this.detailGridInfoMap[e]}forEachDetailGridInfo(e){let t=0;Rt(this.detailGridInfoMap,(i,n)=>{Q(n)&&(e(n,t),t++)})}getDataAsCsv(e){if(me.__assertRegistered(Ee.CsvExportModule,"api.getDataAsCsv",this.context.getGridId()))return this.csvCreator.getDataAsCsv(e)}exportDataAsCsv(e){me.__assertRegistered(Ee.CsvExportModule,"api.exportDataAsCSv",this.context.getGridId())&&this.csvCreator.exportDataAsCsv(e)}getExcelExportMode(e){const t=this.gridOptionsService.get("defaultExcelExportParams");return Object.assign({exportMode:"xlsx"},t,e).exportMode}assertNotExcelMultiSheet(e,t){if(!me.__assertRegistered(Ee.ExcelExportModule,"api."+e,this.context.getGridId()))return!1;const i=this.getExcelExportMode(t);return this.excelCreator.getFactoryMode(i)===fd.MULTI_SHEET?(console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'"),!1):!0}getDataAsExcel(e){if(this.assertNotExcelMultiSheet("getDataAsExcel",e))return this.excelCreator.getDataAsExcel(e)}exportDataAsExcel(e){this.assertNotExcelMultiSheet("exportDataAsExcel",e)&&this.excelCreator.exportDataAsExcel(e)}getSheetDataForExcel(e){if(!me.__assertRegistered(Ee.ExcelExportModule,"api.getSheetDataForExcel",this.context.getGridId()))return;const t=this.getExcelExportMode(e);return this.excelCreator.setFactoryMode(fd.MULTI_SHEET,t),this.excelCreator.getSheetDataForExcel(e)}getMultipleSheetsAsExcel(e){if(me.__assertRegistered(Ee.ExcelExportModule,"api.getMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.getMultipleSheetsAsExcel(e)}exportMultipleSheetsAsExcel(e){if(me.__assertRegistered(Ee.ExcelExportModule,"api.exportMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.exportMultipleSheetsAsExcel(e)}setGridAriaProperty(e,t){if(!e)return;const i=this.ctrlsService.getGridBodyCtrl().getGui(),n=`aria-${e}`;t===null?i.removeAttribute(n):i.setAttribute(n,t)}logMissingRowModel(e,...t){console.error(`AG Grid: api.${e} can only be called when gridOptions.rowModelType is ${t.join(" or ")}`)}setServerSideDatasource(e){this.serverSideRowModel?this.serverSideRowModel.setDatasource(e):this.logMissingRowModel("setServerSideDatasource","serverSide")}setCacheBlockSize(e){this.serverSideRowModel?(this.gridOptionsService.set("cacheBlockSize",e),this.serverSideRowModel.resetRootStore()):this.logMissingRowModel("setCacheBlockSize","serverSide")}setDatasource(e){this.gridOptionsService.isRowModelType("infinite")?this.rowModel.setDatasource(e):this.logMissingRowModel("setDatasource","infinite")}setViewportDatasource(e){this.gridOptionsService.isRowModelType("viewport")?this.rowModel.setViewportDatasource(e):this.logMissingRowModel("setViewportDatasource","viewport")}setRowData(e){if(this.immutableService==null){this.logMissingRowModel("setRowData","clientSide");return}this.immutableService.isActive()?this.immutableService.setRowData(e):(this.selectionService.reset(),this.clientSideRowModel.setRowData(e))}setPinnedTopRowData(e){this.pinnedRowModel.setPinnedTopRowData(e)}setPinnedBottomRowData(e){this.pinnedRowModel.setPinnedBottomRowData(e)}getPinnedTopRowCount(){return this.pinnedRowModel.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.pinnedRowModel.getPinnedBottomRowCount()}getPinnedTopRow(e){return this.pinnedRowModel.getPinnedTopRow(e)}getPinnedBottomRow(e){return this.pinnedRowModel.getPinnedBottomRow(e)}setColumnDefs(e,t="api"){this.columnModel.setColumnDefs(e,t),this.gridOptionsService.set("columnDefs",e,!0,{source:t})}setAutoGroupColumnDef(e,t="api"){this.gridOptionsService.set("autoGroupColumnDef",e,!0,{source:t})}setDefaultColDef(e,t="api"){this.gridOptionsService.set("defaultColDef",e,!0,{source:t})}setColumnTypes(e,t="api"){this.gridOptionsService.set("columnTypes",e,!0,{source:t})}expireValueCache(){this.valueCache.expire()}getVerticalPixelRange(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()}getHorizontalPixelRange(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()}setAlwaysShowHorizontalScroll(e){this.gridOptionsService.set("alwaysShowHorizontalScroll",e)}setAlwaysShowVerticalScroll(e){this.gridOptionsService.set("alwaysShowVerticalScroll",e)}refreshCells(e={}){this.rowRenderer.refreshCells(e)}flashCells(e={}){this.rowRenderer.flashCells(e)}redrawRows(e={}){const t=e?e.rowNodes:void 0;this.rowRenderer.redrawRows(t)}setFunctionsReadOnly(e){this.gridOptionsService.set("functionsReadOnly",e)}refreshHeader(){this.ctrlsService.getHeaderRowContainerCtrls().forEach(e=>e.refresh())}isAnyFilterPresent(){return this.filterManager.isAnyFilterPresent()}isColumnFilterPresent(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()}isQuickFilterPresent(){return this.filterManager.isQuickFilterPresent()}getModel(){return this.rowModel}setRowNodeExpanded(e,t,i){e&&(i&&e.parent&&e.parent.level!==-1&&this.setRowNodeExpanded(e.parent,t,i),e.setExpanded(t))}onGroupExpandedOrCollapsed(){if(Le(this.clientSideRowModel)){this.logMissingRowModel("onGroupExpandedOrCollapsed","clientSide");return}this.clientSideRowModel.refreshModel({step:ut.MAP})}refreshClientSideRowModel(e){if(Le(this.clientSideRowModel)){this.logMissingRowModel("refreshClientSideRowModel","clientSide");return}this.clientSideRowModel.refreshModel(e)}isAnimationFrameQueueEmpty(){return this.animationFrameService.isQueueEmpty()}flushAllAnimationFrames(){this.animationFrameService.flushAllFrames()}getRowNode(e){return this.rowModel.getRowNode(e)}getSizesForCurrentTheme(){return{rowHeight:this.gridOptionsService.getRowHeightAsNumber(),headerHeight:this.columnModel.getHeaderHeight()}}expandAll(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!0):this.serverSideRowModel?this.serverSideRowModel.expandAll(!0):this.logMissingRowModel("expandAll","clientSide","serverSide")}collapseAll(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!1):this.serverSideRowModel?this.serverSideRowModel.expandAll(!1):this.logMissingRowModel("expandAll","clientSide","serverSide")}addRenderedRowListener(e,t,i){this.rowRenderer.addRenderedRowListener(e,t,i)}getQuickFilter(){return this.gridOptionsService.get("quickFilterText")}setQuickFilter(e){this.gridOptionsService.set("quickFilterText",e)}setExcludeHiddenColumnsFromQuickFilter(e){qi("30","setExcludeHiddenColumnsFromQuickFilter",void 0,"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `setIncludeHiddenColumnsInQuickFilter`"),this.setIncludeHiddenColumnsInQuickFilter(!e)}setIncludeHiddenColumnsInQuickFilter(e){this.gridOptionsService.set("includeHiddenColumnsInQuickFilter",e)}setNodesSelected(e){if(!e.nodes.every(l=>l.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),!1):l.id===void 0?(console.warn("AG Grid: cannot select node until id for node is known"),!1):!0))return;const{nodes:i,source:n,newValue:o}=e,r=i;this.selectionService.setNodesSelected({nodes:r,source:n??"api",newValue:o})}selectAll(e="apiSelectAll"){this.selectionService.selectAllRowNodes({source:e})}deselectAll(e="apiSelectAll"){this.selectionService.deselectAllRowNodes({source:e})}selectAllFiltered(e="apiSelectAllFiltered"){this.selectionService.selectAllRowNodes({source:e,justFiltered:!0})}deselectAllFiltered(e="apiSelectAllFiltered"){this.selectionService.deselectAllRowNodes({source:e,justFiltered:!0})}getServerSideSelectionState(){return Le(this.serverSideRowModel)?(this.logMissingRowModel("getServerSideSelectionState","serverSide"),null):this.selectionService.getServerSideSelectionState()}setServerSideSelectionState(e){if(Le(this.serverSideRowModel)){this.logMissingRowModel("setServerSideSelectionState","serverSide");return}this.selectionService.setServerSideSelectionState(e)}selectAllOnCurrentPage(e="apiSelectAllCurrentPage"){this.selectionService.selectAllRowNodes({source:e,justCurrentPage:!0})}deselectAllOnCurrentPage(e="apiSelectAllCurrentPage"){this.selectionService.deselectAllRowNodes({source:e,justCurrentPage:!0})}sizeColumnsToFit(e){this.gridBodyCtrl.sizeColumnsToFit(e)}showLoadingOverlay(){this.overlayWrapperComp.showLoadingOverlay()}showNoRowsOverlay(){this.overlayWrapperComp.showNoRowsOverlay()}hideOverlay(){this.overlayWrapperComp.hideOverlay()}getSelectedNodes(){return this.selectionService.getSelectedNodes()}getSelectedRows(){return this.selectionService.getSelectedRows()}getBestCostNodeSelection(){if(Le(this.clientSideRowModel)){this.logMissingRowModel("getBestCostNodeSelection","clientSide");return}return this.selectionService.getBestCostNodeSelection()}getRenderedNodes(){return this.rowRenderer.getRenderedNodes()}ensureColumnVisible(e,t="auto"){this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(e,t)}ensureIndexVisible(e,t){this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(e,t)}ensureNodeVisible(e,t=null){this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(e,t)}forEachLeafNode(e){if(Le(this.clientSideRowModel)){this.logMissingRowModel("forEachLeafNode","clientSide");return}this.clientSideRowModel.forEachLeafNode(e)}forEachNode(e,t){this.rowModel.forEachNode(e,t)}forEachNodeAfterFilter(e){if(Le(this.clientSideRowModel)){this.logMissingRowModel("forEachNodeAfterFilter","clientSide");return}this.clientSideRowModel.forEachNodeAfterFilter(e)}forEachNodeAfterFilterAndSort(e){if(Le(this.clientSideRowModel)){this.logMissingRowModel("forEachNodeAfterFilterAndSort","clientSide");return}this.clientSideRowModel.forEachNodeAfterFilterAndSort(e)}getFilterInstance(e,t){const i=this.getFilterInstanceImpl(e,o=>{if(!t)return;const r=ho(o);t(r)});return ho(i)}getFilterInstanceImpl(e,t){const i=this.columnModel.getPrimaryColumn(e);if(!i)return;const n=this.filterManager.getFilterComponent(i,"NO_UI"),o=n&&n.resolveNow(null,r=>r);return o?setTimeout(t,0,o):n&&n.then(r=>{t(r)}),o}destroyFilter(e){const t=this.columnModel.getPrimaryColumn(e);if(t)return this.filterManager.destroyFilter(t,"api")}getStatusPanel(e){if(!me.__assertRegistered(Ee.StatusBarModule,"api.getStatusPanel",this.context.getGridId()))return;const t=this.statusBarService.getStatusPanel(e);return ho(t)}getColumnDef(e){const t=this.columnModel.getPrimaryColumn(e);return t?t.getColDef():null}getColumnDefs(){return this.columnModel.getColumnDefs()}onFilterChanged(){this.filterManager.onFilterChanged()}onSortChanged(){this.sortController.onSortChanged("api")}setFilterModel(e){this.filterManager.setFilterModel(e)}getFilterModel(){return this.filterManager.getFilterModel()}getFocusedCell(){return this.focusService.getFocusedCell()}clearFocusedCell(){return this.focusService.clearFocusedCell()}setFocusedCell(e,t,i){this.focusService.setFocusedCell({rowIndex:e,column:t,rowPinned:i,forceBrowserFocus:!0})}setSuppressRowDrag(e){this.gridOptionsService.set("suppressRowDrag",e)}setSuppressMoveWhenRowDragging(e){this.gridOptionsService.set("suppressMoveWhenRowDragging",e)}setSuppressRowClickSelection(e){this.gridOptionsService.set("suppressRowClickSelection",e)}addRowDropZone(e){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(e)}removeRowDropZone(e){const t=this.dragAndDropService.findExternalZone(e);t&&this.dragAndDropService.removeDropTarget(t)}getRowDropZoneParams(e){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(e)}setHeaderHeight(e){this.gridOptionsService.set("headerHeight",e)}setDomLayout(e){this.gridOptionsService.set("domLayout",e)}setEnableCellTextSelection(e){this.gridBodyCtrl.setCellTextSelection(e)}setFillHandleDirection(e){this.gridOptionsService.set("fillHandleDirection",e)}setGroupHeaderHeight(e){this.gridOptionsService.set("groupHeaderHeight",e)}setFloatingFiltersHeight(e){this.gridOptionsService.set("floatingFiltersHeight",e)}setPivotHeaderHeight(e){this.gridOptionsService.set("pivotHeaderHeight",e)}setPivotGroupHeaderHeight(e){this.gridOptionsService.set("pivotGroupHeaderHeight",e)}setPivotMode(e){this.columnModel.setPivotMode(e)}setAnimateRows(e){this.gridOptionsService.set("animateRows",e)}setIsExternalFilterPresent(e){this.gridOptionsService.set("isExternalFilterPresent",e)}setDoesExternalFilterPass(e){this.gridOptionsService.set("doesExternalFilterPass",e)}setNavigateToNextCell(e){this.gridOptionsService.set("navigateToNextCell",e)}setTabToNextCell(e){this.gridOptionsService.set("tabToNextCell",e)}setTabToNextHeader(e){this.gridOptionsService.set("tabToNextHeader",e)}setNavigateToNextHeader(e){this.gridOptionsService.set("navigateToNextHeader",e)}setRowGroupPanelShow(e){this.gridOptionsService.set("rowGroupPanelShow",e)}setGetGroupRowAgg(e){this.gridOptionsService.set("getGroupRowAgg",e)}setGetBusinessKeyForNode(e){this.gridOptionsService.set("getBusinessKeyForNode",e)}setGetChildCount(e){this.gridOptionsService.set("getChildCount",e)}setProcessRowPostCreate(e){this.gridOptionsService.set("processRowPostCreate",e)}setGetRowId(e){this.gridOptionsService.set("getRowId",e)}setGetRowClass(e){this.gridOptionsService.set("getRowClass",e)}setIsFullWidthRow(e){this.gridOptionsService.set("isFullWidthRow",e)}setIsRowSelectable(e){this.gridOptionsService.set("isRowSelectable",e)}setIsRowMaster(e){this.gridOptionsService.set("isRowMaster",e)}setPostSortRows(e){this.gridOptionsService.set("postSortRows",e)}setGetDocument(e){this.gridOptionsService.set("getDocument",e)}setGetContextMenuItems(e){this.gridOptionsService.set("getContextMenuItems",e)}setGetMainMenuItems(e){this.gridOptionsService.set("getMainMenuItems",e)}setProcessCellForClipboard(e){this.gridOptionsService.set("processCellForClipboard",e)}setSendToClipboard(e){this.gridOptionsService.set("sendToClipboard",e)}setProcessCellFromClipboard(e){this.gridOptionsService.set("processCellFromClipboard",e)}setProcessSecondaryColDef(e){qi("28.0","setProcessSecondaryColDef","setProcessPivotResultColDef"),this.setProcessPivotResultColDef(e)}setProcessSecondaryColGroupDef(e){qi("28.0","setProcessSecondaryColGroupDef","setProcessPivotResultColGroupDef"),this.setProcessPivotResultColGroupDef(e)}setProcessPivotResultColDef(e){this.gridOptionsService.set("processPivotResultColDef",e)}setProcessPivotResultColGroupDef(e){this.gridOptionsService.set("processPivotResultColGroupDef",e)}setPostProcessPopup(e){this.gridOptionsService.set("postProcessPopup",e)}setInitialGroupOrderComparator(e){this.gridOptionsService.set("initialGroupOrderComparator",e)}setGetChartToolbarItems(e){this.gridOptionsService.set("getChartToolbarItems",e)}setPaginationNumberFormatter(e){this.gridOptionsService.set("paginationNumberFormatter",e)}setGetServerSideStoreParams(e){qi("28.0","setGetServerSideStoreParams","setGetServerSideGroupLevelParams"),this.setGetServerSideGroupLevelParams(e)}setGetServerSideGroupLevelParams(e){this.gridOptionsService.set("getServerSideGroupLevelParams",e)}setIsServerSideGroupOpenByDefault(e){this.gridOptionsService.set("isServerSideGroupOpenByDefault",e)}setIsApplyServerSideTransaction(e){this.gridOptionsService.set("isApplyServerSideTransaction",e)}setIsServerSideGroup(e){this.gridOptionsService.set("isServerSideGroup",e)}setGetServerSideGroupKey(e){this.gridOptionsService.set("getServerSideGroupKey",e)}setGetRowStyle(e){this.gridOptionsService.set("getRowStyle",e)}setGetRowHeight(e){this.gridOptionsService.set("getRowHeight",e)}assertSideBarLoaded(e){return me.__assertRegistered(Ee.SideBarModule,"api."+e,this.context.getGridId())}isSideBarVisible(){return this.assertSideBarLoaded("isSideBarVisible")&&this.sideBarComp.isDisplayed()}setSideBarVisible(e){this.assertSideBarLoaded("setSideBarVisible")&&this.sideBarComp.setDisplayed(e)}setSideBarPosition(e){this.assertSideBarLoaded("setSideBarPosition")&&this.sideBarComp.setSideBarPosition(e)}openToolPanel(e){this.assertSideBarLoaded("openToolPanel")&&this.sideBarComp.openToolPanel(e,"api")}closeToolPanel(){this.assertSideBarLoaded("closeToolPanel")&&this.sideBarComp.close("api")}getOpenedToolPanel(){return this.assertSideBarLoaded("getOpenedToolPanel")?this.sideBarComp.openedItem():null}refreshToolPanel(){this.assertSideBarLoaded("refreshToolPanel")&&this.sideBarComp.refresh()}isToolPanelShowing(){return this.assertSideBarLoaded("isToolPanelShowing")&&this.sideBarComp.isToolPanelShowing()}getToolPanelInstance(e){if(this.assertSideBarLoaded("getToolPanelInstance")){const t=this.sideBarComp.getToolPanelInstance(e);return ho(t)}}getSideBar(){if(this.assertSideBarLoaded("getSideBar"))return this.sideBarComp.getDef()}setSideBar(e){this.gridOptionsService.set("sideBar",e)}setSuppressClipboardPaste(e){this.gridOptionsService.set("suppressClipboardPaste",e)}resetRowHeights(){if(Q(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive()){console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");return}this.clientSideRowModel.resetRowHeights()}}setGroupRemoveSingleChildren(e){this.gridOptionsService.set("groupRemoveSingleChildren",e)}setGroupRemoveLowestSingleChildren(e){this.gridOptionsService.set("groupRemoveLowestSingleChildren",e)}setGroupDisplayType(e){this.gridOptionsService.set("groupDisplayType",e)}setRowClass(e){this.gridOptionsService.set("rowClass",e)}setDeltaSort(e){this.gridOptionsService.set("deltaSort",e)}setRowCount(e,t){if(this.serverSideRowModel){if(this.columnModel.isRowGroupEmpty()){this.serverSideRowModel.setRowCount(e,t);return}console.error("AG Grid: setRowCount cannot be used while using row grouping.");return}if(this.infiniteRowModel){this.infiniteRowModel.setRowCount(e,t);return}this.logMissingRowModel("setRowCount","infinite","serverSide")}onRowHeightChanged(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()}getValue(e,t){let i=this.columnModel.getPrimaryColumn(e);return Le(i)&&(i=this.columnModel.getGridColumn(e)),Le(i)?null:this.valueService.getValue(i,t)}addEventListener(e,t){const i=this.gridOptionsService.useAsyncEvents();this.eventService.addEventListener(e,t,i)}addGlobalListener(e){const t=this.gridOptionsService.useAsyncEvents();this.eventService.addGlobalListener(e,t)}removeEventListener(e,t){const i=this.gridOptionsService.useAsyncEvents();this.eventService.removeEventListener(e,t,i)}removeGlobalListener(e){const t=this.gridOptionsService.useAsyncEvents();this.eventService.removeGlobalListener(e,t)}dispatchEvent(e){this.eventService.dispatchEvent(e)}destroy(){if(this.destroyCalled)return;this.destroyCalled=!0;const e=this.ctrlsService.getGridCtrl();e&&e.destroyGridUi(),this.context.destroy()}cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid(){setTimeout(tw.bind(window,this,"Grid API"),100)}warnIfDestroyed(e){return this.destroyCalled&&console.warn(`AG Grid: Grid API method ${e} was called on a grid that was destroyed.`),this.destroyCalled}resetQuickFilter(){this.warnIfDestroyed("resetQuickFilter")||this.filterManager.resetQuickFilterCache()}getCellRanges(){return this.rangeService?this.rangeService.getCellRanges():(me.__assertRegistered(Ee.RangeSelectionModule,"api.getCellRanges",this.context.getGridId()),null)}addCellRange(e){if(this.rangeService){this.rangeService.addCellRange(e);return}me.__assertRegistered(Ee.RangeSelectionModule,"api.addCellRange",this.context.getGridId())}clearRangeSelection(){this.rangeService&&this.rangeService.removeAllCellRanges(),me.__assertRegistered(Ee.RangeSelectionModule,"gridApi.clearRangeSelection",this.context.getGridId())}undoCellEditing(){this.undoRedoService.undo("api")}redoCellEditing(){this.undoRedoService.redo("api")}getCurrentUndoSize(){return this.undoRedoService.getCurrentUndoStackSize()}getCurrentRedoSize(){return this.undoRedoService.getCurrentRedoStackSize()}getChartModels(){if(me.__assertRegistered(Ee.GridChartsModule,"api.getChartModels",this.context.getGridId()))return this.chartService.getChartModels()}getChartRef(e){if(me.__assertRegistered(Ee.GridChartsModule,"api.getChartRef",this.context.getGridId()))return this.chartService.getChartRef(e)}getChartImageDataURL(e){if(me.__assertRegistered(Ee.GridChartsModule,"api.getChartImageDataURL",this.context.getGridId()))return this.chartService.getChartImageDataURL(e)}downloadChart(e){if(me.__assertRegistered(Ee.GridChartsModule,"api.downloadChart",this.context.getGridId()))return this.chartService.downloadChart(e)}openChartToolPanel(e){if(me.__assertRegistered(Ee.GridChartsModule,"api.openChartToolPanel",this.context.getGridId()))return this.chartService.openChartToolPanel(e)}closeChartToolPanel(e){if(me.__assertRegistered(Ee.GridChartsModule,"api.closeChartToolPanel",this.context.getGridId()))return this.chartService.closeChartToolPanel(e.chartId)}createRangeChart(e){if(me.__assertRegistered(Ee.GridChartsModule,"api.createRangeChart",this.context.getGridId()))return this.chartService.createRangeChart(e)}createPivotChart(e){if(me.__assertRegistered(Ee.GridChartsModule,"api.createPivotChart",this.context.getGridId()))return this.chartService.createPivotChart(e)}createCrossFilterChart(e){if(me.__assertRegistered(Ee.GridChartsModule,"api.createCrossFilterChart",this.context.getGridId()))return this.chartService.createCrossFilterChart(e)}updateChart(e){me.__assertRegistered(Ee.GridChartsModule,"api.updateChart",this.context.getGridId())&&this.chartService.updateChart(e)}restoreChart(e,t){if(me.__assertRegistered(Ee.GridChartsModule,"api.restoreChart",this.context.getGridId()))return this.chartService.restoreChart(e,t)}copyToClipboard(e){me.__assertRegistered(Ee.ClipboardModule,"api.copyToClipboard",this.context.getGridId())&&this.clipboardService.copyToClipboard(e)}cutToClipboard(e){me.__assertRegistered(Ee.ClipboardModule,"api.cutToClipboard",this.context.getGridId())&&this.clipboardService.cutToClipboard(e,"api")}copySelectedRowsToClipboard(e){me.__assertRegistered(Ee.ClipboardModule,"api.copySelectedRowsToClipboard",this.context.getGridId())&&this.clipboardService.copySelectedRowsToClipboard(e)}copySelectedRangeToClipboard(e){me.__assertRegistered(Ee.ClipboardModule,"api.copySelectedRangeToClipboard",this.context.getGridId())&&this.clipboardService.copySelectedRangeToClipboard(e)}copySelectedRangeDown(){me.__assertRegistered(Ee.ClipboardModule,"api.copySelectedRangeDown",this.context.getGridId())&&this.clipboardService.copyRangeDown()}pasteFromClipboard(){me.__assertRegistered(Ee.ClipboardModule,"api.pasteFromClipboard",this.context.getGridId())&&this.clipboardService.pasteFromClipboard()}showColumnMenuAfterButtonClick(e,t){const i=this.columnModel.getGridColumn(e);this.menuFactory.showMenuAfterButtonClick(i,t,"columnMenu")}showColumnMenuAfterMouseClick(e,t){let i=this.columnModel.getGridColumn(e);if(i||(i=this.columnModel.getPrimaryColumn(e)),!i){console.error(`AG Grid: column '${e}' not found`);return}this.menuFactory.showMenuAfterMouseEvent(i,t)}hidePopupMenu(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()}setPopupParent(e){this.gridOptionsService.set("popupParent",e)}tabToNextCell(e){return this.navigationService.tabToNextCell(!1,e)}tabToPreviousCell(e){return this.navigationService.tabToNextCell(!0,e)}getCellRendererInstances(e={}){return this.rowRenderer.getCellRendererInstances(e).map(ho)}getCellEditorInstances(e={}){return this.rowRenderer.getCellEditorInstances(e).map(ho)}getEditingCells(){return this.rowRenderer.getEditingCells()}stopEditing(e=!1){this.rowRenderer.stopEditing(e)}startEditingCell(e){const t=this.columnModel.getGridColumn(e.colKey);if(!t){console.warn(`AG Grid: no column found for ${e.colKey}`);return}const i={rowIndex:e.rowIndex,rowPinned:e.rowPinned||null,column:t};e.rowPinned==null&&this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(e.rowIndex);const o=this.navigationService.getCellByPosition(i);o&&o.startRowOrCellEdit(e.key)}addAggFunc(e,t){this.aggFuncService&&this.aggFuncService.addAggFunc(e,t)}addAggFuncs(e){this.aggFuncService&&this.aggFuncService.addAggFuncs(e)}clearAggFuncs(){this.aggFuncService&&this.aggFuncService.clear()}applyServerSideTransaction(e){if(!this.serverSideTransactionManager){this.logMissingRowModel("applyServerSideTransaction","serverSide");return}return this.serverSideTransactionManager.applyTransaction(e)}applyServerSideTransactionAsync(e,t){if(!this.serverSideTransactionManager){this.logMissingRowModel("applyServerSideTransactionAsync","serverSide");return}return this.serverSideTransactionManager.applyTransactionAsync(e,t)}retryServerSideLoads(){if(!this.serverSideRowModel){this.logMissingRowModel("retryServerSideLoads","serverSide");return}this.serverSideRowModel.retryLoads()}flushServerSideAsyncTransactions(){if(!this.serverSideTransactionManager){this.logMissingRowModel("flushServerSideAsyncTransactions","serverSide");return}return this.serverSideTransactionManager.flushAsyncTransactions()}applyTransaction(e){if(!this.clientSideRowModel){this.logMissingRowModel("applyTransaction","clientSide");return}return this.clientSideRowModel.updateRowData(e)}applyTransactionAsync(e,t){if(!this.clientSideRowModel){this.logMissingRowModel("applyTransactionAsync","clientSide");return}this.clientSideRowModel.batchUpdateRowData(e,t)}flushAsyncTransactions(){if(!this.clientSideRowModel){this.logMissingRowModel("flushAsyncTransactions","clientSide");return}this.clientSideRowModel.flushAsyncTransactions()}setSuppressModelUpdateAfterUpdateTransaction(e){this.gridOptionsService.set("suppressModelUpdateAfterUpdateTransaction",e)}refreshInfiniteCache(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():this.logMissingRowModel("refreshInfiniteCache","infinite")}purgeInfiniteCache(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():this.logMissingRowModel("purgeInfiniteCache","infinite")}refreshServerSide(e){if(!this.serverSideRowModel){this.logMissingRowModel("refreshServerSide","serverSide");return}this.serverSideRowModel.refreshStore(e)}refreshServerSideStore(e){return qi("28.0","refreshServerSideStore","refreshServerSide"),this.refreshServerSide(e)}getServerSideStoreState(){return qi("28.0","getServerSideStoreState","getServerSideGroupLevelState"),this.getServerSideGroupLevelState()}getServerSideGroupLevelState(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(this.logMissingRowModel("getServerSideGroupLevelState","serverSide"),[])}getInfiniteRowCount(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();this.logMissingRowModel("getInfiniteRowCount","infinite")}isLastRowIndexKnown(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();this.logMissingRowModel("isLastRowIndexKnown","infinite")}getCacheBlockState(){return this.rowNodeBlockLoader.getBlockState()}getFirstDisplayedRow(){return this.rowRenderer.getFirstVirtualRenderedRow()}getLastDisplayedRow(){return this.rowRenderer.getLastVirtualRenderedRow()}getDisplayedRowAtIndex(e){return this.rowModel.getRow(e)}getDisplayedRowCount(){return this.rowModel.getRowCount()}setDataTypeDefinitions(e){this.gridOptionsService.set("dataTypeDefinitions",e)}setPagination(e){this.gridOptionsService.set("pagination",e)}paginationIsLastPageFound(){return this.paginationProxy.isLastPageFound()}paginationGetPageSize(){return this.paginationProxy.getPageSize()}paginationSetPageSize(e){this.gridOptionsService.set("paginationPageSize",e)}paginationGetCurrentPage(){return this.paginationProxy.getCurrentPage()}paginationGetTotalPages(){return this.paginationProxy.getTotalPages()}paginationGetRowCount(){return this.paginationProxy.getMasterRowCount()}paginationGoToNextPage(){this.paginationProxy.goToNextPage()}paginationGoToPreviousPage(){this.paginationProxy.goToPreviousPage()}paginationGoToFirstPage(){this.paginationProxy.goToFirstPage()}paginationGoToLastPage(){this.paginationProxy.goToLastPage()}paginationGoToPage(e){this.paginationProxy.goToPage(e)}};rt([ht("immutableService")],Ze.prototype,"immutableService",void 0);rt([ht("csvCreator")],Ze.prototype,"csvCreator",void 0);rt([ht("excelCreator")],Ze.prototype,"excelCreator",void 0);rt([y("rowRenderer")],Ze.prototype,"rowRenderer",void 0);rt([y("navigationService")],Ze.prototype,"navigationService",void 0);rt([y("filterManager")],Ze.prototype,"filterManager",void 0);rt([y("columnModel")],Ze.prototype,"columnModel",void 0);rt([y("selectionService")],Ze.prototype,"selectionService",void 0);rt([y("gridOptionsService")],Ze.prototype,"gridOptionsService",void 0);rt([y("valueService")],Ze.prototype,"valueService",void 0);rt([y("alignedGridsService")],Ze.prototype,"alignedGridsService",void 0);rt([y("eventService")],Ze.prototype,"eventService",void 0);rt([y("pinnedRowModel")],Ze.prototype,"pinnedRowModel",void 0);rt([y("context")],Ze.prototype,"context",void 0);rt([y("rowModel")],Ze.prototype,"rowModel",void 0);rt([y("sortController")],Ze.prototype,"sortController",void 0);rt([y("paginationProxy")],Ze.prototype,"paginationProxy",void 0);rt([y("focusService")],Ze.prototype,"focusService",void 0);rt([y("dragAndDropService")],Ze.prototype,"dragAndDropService",void 0);rt([ht("rangeService")],Ze.prototype,"rangeService",void 0);rt([ht("clipboardService")],Ze.prototype,"clipboardService",void 0);rt([ht("aggFuncService")],Ze.prototype,"aggFuncService",void 0);rt([y("menuFactory")],Ze.prototype,"menuFactory",void 0);rt([ht("contextMenuFactory")],Ze.prototype,"contextMenuFactory",void 0);rt([y("valueCache")],Ze.prototype,"valueCache",void 0);rt([y("animationFrameService")],Ze.prototype,"animationFrameService",void 0);rt([ht("statusBarService")],Ze.prototype,"statusBarService",void 0);rt([ht("chartService")],Ze.prototype,"chartService",void 0);rt([ht("undoRedoService")],Ze.prototype,"undoRedoService",void 0);rt([ht("rowNodeBlockLoader")],Ze.prototype,"rowNodeBlockLoader",void 0);rt([ht("ssrmTransactionManager")],Ze.prototype,"serverSideTransactionManager",void 0);rt([y("ctrlsService")],Ze.prototype,"ctrlsService",void 0);rt([de],Ze.prototype,"init",null);rt([hi],Ze.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null);Ze=rt([Se("gridApi")],Ze);var Ho=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Dp;let Ys=Dp=class extends ee{constructor(){super(...arguments),this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.quickFilter=null,this.quickFilterParts=null,this.processingFilterChange=!1}init(){this.addManagedListener(this.eventService,m.EVENT_GRID_COLUMNS_CHANGED,()=>this.onColumnsChanged()),this.addManagedListener(this.eventService,m.EVENT_COLUMN_VALUE_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,m.EVENT_COLUMN_PIVOT_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,m.EVENT_COLUMN_PIVOT_MODE_CHANGED,()=>{this.refreshFiltersForAggregations(),this.resetQuickFilterCache()}),this.addManagedListener(this.eventService,m.EVENT_NEW_COLUMNS_LOADED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,m.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,m.EVENT_COLUMN_VISIBLE,()=>{this.gridOptionsService.is("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}),this.addManagedPropertyListener("quickFilterText",e=>this.setQuickFilter(e.currentValue)),this.addManagedPropertyListener("includeHiddenColumnsInQuickFilter",()=>this.onIncludeHiddenColumnsInQuickFilterChanged()),this.quickFilter=this.parseQuickFilter(this.gridOptionsService.get("quickFilterText")),this.setQuickFilterParts(),this.allowShowChangeAfterFilter=this.gridOptionsService.is("allowShowChangeAfterFilter"),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>this.updateAggFiltering())}isExternalFilterPresentCallback(){const e=this.gridOptionsService.getCallback("isExternalFilterPresent");return typeof e=="function"?e({}):!1}doesExternalFilterPass(e){const t=this.gridOptionsService.get("doesExternalFilterPass");return typeof t=="function"?t(e):!1}setQuickFilterParts(){this.quickFilterParts=this.quickFilter?this.quickFilter.split(" "):null}setFilterModel(e){const t=[],i=this.getFilterModel();if(e){const n=Qf(Object.keys(e));this.allColumnFilters.forEach((o,r)=>{const l=e[r];t.push(this.setModelOnFilterWrapper(o.filterPromise,l)),n.delete(r)}),n.forEach(o=>{const r=this.columnModel.getPrimaryColumn(o)||this.columnModel.getGridColumn(o);if(!r){console.warn("AG Grid: setFilterModel() - no column found for colId: "+o);return}if(!r.isFilterAllowed()){console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+o);return}const l=this.getOrCreateFilterWrapper(r,"NO_UI");if(!l){console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+o);return}t.push(this.setModelOnFilterWrapper(l.filterPromise,e[o]))})}else this.allColumnFilters.forEach(n=>{t.push(this.setModelOnFilterWrapper(n.filterPromise,null))});ai.all(t).then(()=>{const n=this.getFilterModel(),o=[];this.allColumnFilters.forEach((r,l)=>{const a=i?i[l]:null,c=n?n[l]:null;Qe.jsonEquals(a,c)||o.push(r.column)}),o.length>0&&this.onFilterChanged({columns:o})})}setModelOnFilterWrapper(e,t){return new ai(i=>{e.then(n=>{typeof n.setModel!="function"&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),i()),(n.setModel(t)||ai.resolve()).then(()=>i())})})}getFilterModel(){const e={};return this.allColumnFilters.forEach((t,i)=>{const o=t.filterPromise.resolveNow(null,l=>l);if(o==null)return null;if(typeof o.getModel!="function"){console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel");return}const r=o.getModel();Q(r)&&(e[i]=r)}),e}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}isExternalFilterPresent(){return this.externalFilterPresent}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0)}updateActiveFilters(){this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;const e=n=>n?n.isFilterActive?n.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1):!1,t=!!this.gridOptionsService.getGroupAggFiltering(),i=n=>{if(!n.isPrimary())return!0;const r=!this.columnModel.isPivotActive();return!n.isValueActive()||!r?!1:this.columnModel.isPivotMode()?!0:t};this.allColumnFilters.forEach(n=>{if(n.filterPromise.resolveNow(!1,e)){const o=n.filterPromise.resolveNow(null,r=>r);i(n.column)?this.activeAggregateFilters.push(o):this.activeColumnFilters.push(o)}})}updateFilterFlagInColumns(e,t){this.allColumnFilters.forEach(i=>{const n=i.filterPromise.resolveNow(!1,o=>o.isFilterActive());i.column.setFilterActive(n,e,t)})}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()}doColumnFiltersPass(e,t,i){const{data:n,aggData:o}=e,r=i?this.activeAggregateFilters:this.activeColumnFilters,l=i?o:n;for(let a=0;a<r.length;a++){const c=r[a];if(!(c==null||c===t)){if(typeof c.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!c.doesFilterPass({node:e,data:l}))return!1}}return!0}parseQuickFilter(e){return Q(e)?this.gridOptionsService.isRowModelType("clientSide")?e.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(e){if(e!=null&&typeof e!="string"){console.warn(`AG Grid - setQuickFilter() only supports string inputs, received: ${typeof e}`);return}const t=this.parseQuickFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setQuickFilterParts(),this.onFilterChanged())}resetQuickFilterCache(){this.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}onIncludeHiddenColumnsInQuickFilterChanged(){this.columnModel.refreshQuickFilterColumns(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.onFilterChanged()}refreshFiltersForAggregations(){this.gridOptionsService.getGroupAggFiltering()&&this.onFilterChanged()}callOnFilterChangedOutsideRenderCycle(e={}){const t=()=>this.onFilterChanged(e);this.rowRenderer.isRefreshInProgress()?setTimeout(t,0):t()}onFilterChanged(e={}){const{filterInstance:t,additionalEventAttributes:i,columns:n}=e;this.updateDependantFilters(),this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",i),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.allColumnFilters.forEach(r=>{r.filterPromise&&r.filterPromise.then(l=>{l&&l!==t&&l.onAnyFilterChanged&&l.onAnyFilterChanged()})});const o={type:m.EVENT_FILTER_CHANGED,columns:n||[]};i&&Mi(o,i),this.processingFilterChange=!0,this.eventService.dispatchEvent(o),this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange}isQuickFilterPresent(){return this.quickFilter!==null}updateAggFiltering(){this.aggFiltering=!!this.gridOptionsService.getGroupAggFiltering()}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&(this.aggFiltering||this.columnModel.isPivotMode())}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!(this.aggFiltering||this.columnModel.isPivotMode())}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}doesRowPassQuickFilterNoCache(e,t){return this.columnModel.getAllColumnsForQuickFilter().some(n=>{const o=this.getQuickFilterTextForColumn(n,e);return Q(o)&&o.indexOf(t)>=0})}doesRowPassQuickFilterCache(e,t){return e.quickFilterAggregateText||this.aggregateRowForQuickFilter(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassQuickFilter(e){const t=this.gridOptionsService.is("cacheQuickFilter");return this.quickFilterParts.every(i=>t?this.doesRowPassQuickFilterCache(e,i):this.doesRowPassQuickFilterNoCache(e,i))}doesRowPassAggregateFilters(e){return!(this.isAggregateQuickFilterPresent()&&!this.doesRowPassQuickFilter(e.rowNode)||this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))}doesRowPassFilter(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.doesRowPassQuickFilter(e.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip))}getQuickFilterTextForColumn(e,t){let i=this.valueService.getValue(e,t,!0);const n=e.getColDef();if(n.getQuickFilterText){const o={value:i,node:t,data:t.data,column:e,colDef:n,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};i=n.getQuickFilterText(o)}return Q(i)?i.toString().toUpperCase():null}aggregateRowForQuickFilter(e){const t=[];this.columnModel.getAllColumnsForQuickFilter().forEach(n=>{const o=this.getQuickFilterTextForColumn(n,e);Q(o)&&t.push(o)}),e.quickFilterAggregateText=t.join(Dp.QUICK_FILTER_SEPARATOR)}onNewRowsLoaded(e){this.allColumnFilters.forEach(t=>{t.filterPromise.then(i=>{i.onNewRowsLoaded&&i.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(e,{afterDataChange:!0}),this.updateActiveFilters()}createValueGetter(e){return({node:t})=>this.valueService.getValue(e,t,!0)}getFilterComponent(e,t,i=!0){var n;if(i)return((n=this.getOrCreateFilterWrapper(e,t))===null||n===void 0?void 0:n.filterPromise)||null;const o=this.cachedFilter(e);return o?o.filterPromise:null}isFilterActive(e){const t=this.cachedFilter(e);return!!t&&t.filterPromise.resolveNow(!1,i=>i.isFilterActive())}getOrCreateFilterWrapper(e,t){if(!e.isFilterAllowed())return null;let i=this.cachedFilter(e);if(i)t!=="NO_UI"&&this.putIntoGui(i,t);else{i=this.createFilterWrapper(e,t);const n=e.getColId();this.allColumnFilters.set(n,i),this.allColumnListeners.set(n,this.addManagedListener(e,He.EVENT_COL_DEF_CHANGED,()=>this.checkDestroyFilter(n)))}return i}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){let t;if(me.__isRegistered(Ee.SetFilterModule,this.context.getGridId()))t="agSetColumnFilter";else{const i=e.getColDef().cellDataType;i==="number"?t="agNumberColumnFilter":i==="date"||i==="dateString"?t="agDateColumnFilter":t="agTextColumnFilter"}return t}getDefaultFloatingFilter(e){let t;if(me.__isRegistered(Ee.SetFilterModule,this.context.getGridId()))t="agSetColumnFloatingFilter";else{const i=e.getColDef().cellDataType;i==="number"?t="agNumberColumnFloatingFilter":i==="date"||i==="dateString"?t="agDateColumnFloatingFilter":t="agTextColumnFloatingFilter"}return t}createFilterInstance(e){const t=this.getDefaultFilter(e),i=e.getColDef();let n;const o=Object.assign(Object.assign({},this.createFilterParams(e,i)),{filterModifiedCallback:()=>{const l={type:m.EVENT_FILTER_MODIFIED,column:e,filterInstance:n};this.eventService.dispatchEvent(l)},filterChangedCallback:l=>{const a={filterInstance:n,additionalEventAttributes:l,columns:[e]};this.callOnFilterChangedOutsideRenderCycle(a)},doesRowPassOtherFilter:l=>this.doesRowPassOtherFilters(n,l)}),r=this.userComponentFactory.getFilterDetails(i,o,t);return r?{filterPromise:()=>{const l=r.newAgStackInstance();return l&&l.then(a=>n=a),l},compDetails:r}:{filterPromise:null,compDetails:null}}createFilterParams(e,t){return{column:e,colDef:Ef(t),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(e),doesRowPassOtherFilter:()=>!0,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}}createFilterWrapper(e,t){var i;const n={column:e,filterPromise:null,compiledElement:null,guiPromise:ai.resolve(null),compDetails:null},{filterPromise:o,compDetails:r}=this.createFilterInstance(e);return n.filterPromise=(i=o==null?void 0:o())!==null&&i!==void 0?i:null,n.compDetails=r,o&&this.putIntoGui(n,t),n}putIntoGui(e,t){const i=document.createElement("div");i.className="ag-filter",e.guiPromise=new ai(n=>{e.filterPromise.then(o=>{let r=o.getGui();Q(r)||console.warn(`AG Grid: getGui method from filter returned ${r}, it should be a DOM element or an HTML template string.`),typeof r=="string"&&(r=$t(r)),i.appendChild(r),n(i);const l={type:m.EVENT_FILTER_OPENED,column:e.column,source:t,eGui:i};this.eventService.dispatchEvent(l)})})}onColumnsChanged(){const e=[];this.allColumnFilters.forEach((t,i)=>{let n;t.column.isPrimary()?n=this.columnModel.getPrimaryColumn(i):n=this.columnModel.getGridColumn(i),!n&&(e.push(t.column),this.disposeFilterWrapper(t,"columnChanged"),this.disposeColumnListener(i))}),e.length>0?this.onFilterChanged({columns:e}):this.updateDependantFilters()}updateDependantFilters(){const e=this.columnModel.getGroupAutoColumns();e==null||e.forEach(t=>{t.getColDef().filter==="agGroupColumnFilter"&&this.getOrCreateFilterWrapper(t,"NO_UI")})}isFilterAllowed(e){var t,i;if(!e.isFilterAllowed())return!1;const o=this.allColumnFilters.get(e.getColId());return(i=(t=o==null?void 0:o.filterPromise)===null||t===void 0?void 0:t.resolveNow(!0,r=>{var l,a;return typeof((l=r)===null||l===void 0?void 0:l.isFilterAllowed)=="function"?(a=r)===null||a===void 0?void 0:a.isFilterAllowed():!0}))!==null&&i!==void 0?i:!0}getFloatingFilterCompDetails(e,t){const i=e.getColDef(),n=this.createFilterParams(e,i),o=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(i,Tp,n);let r=this.userComponentFactory.getDefaultFloatingFilterType(i,()=>this.getDefaultFloatingFilter(e));r==null&&(r="agReadOnlyFloatingFilter");const a={column:e,filterParams:o,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:c=>{const d=this.getFilterComponent(e,"NO_UI");d!=null&&d.then(u=>{c(ho(u))})},showParentFilter:t,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(i,a,r)}getCurrentFloatingFilterParentModel(e){const t=this.getFilterComponent(e,"NO_UI",!1);return t?t.resolveNow(null,i=>i&&i.getModel()):null}destroyFilter(e,t="api"){const i=e.getColId(),n=this.allColumnFilters.get(i);this.disposeColumnListener(i),n&&(this.disposeFilterWrapper(n,t),this.onFilterChanged({columns:[e]}))}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){e.filterPromise.then(i=>{(i.setModel(null)||ai.resolve()).then(()=>{this.getContext().destroyBean(i),e.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId());const n={type:m.EVENT_FILTER_DESTROYED,source:t,column:e.column};this.eventService.dispatchEvent(n)})})}checkDestroyFilter(e){const t=this.allColumnFilters.get(e);if(!t)return;const i=t.column,{compDetails:n}=i.isFilterAllowed()?this.createFilterInstance(i):{compDetails:null};((r,l)=>{if(!l||!r)return!0;const{componentClass:a}=r,{componentClass:c}=l;return!(a===c||(a==null?void 0:a.render)&&(c==null?void 0:c.render)&&a.render===c.render)})(t.compDetails,n)&&this.destroyFilter(i,"columnChanged")}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}};Ys.QUICK_FILTER_SEPARATOR=`
`;Ho([y("valueService")],Ys.prototype,"valueService",void 0);Ho([y("columnModel")],Ys.prototype,"columnModel",void 0);Ho([y("rowModel")],Ys.prototype,"rowModel",void 0);Ho([y("userComponentFactory")],Ys.prototype,"userComponentFactory",void 0);Ho([y("rowRenderer")],Ys.prototype,"rowRenderer",void 0);Ho([de],Ys.prototype,"init",null);Ys=Dp=Ho([Se("filterManager")],Ys);class pg extends ke{constructor(e,t){super(e),this.ctrl=t}getCtrl(){return this.ctrl}}var Ka=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class wn extends pg{constructor(e){super(wn.TEMPLATE,e)}postConstruct(){const e=this.getGui(),t={addOrRemoveCssClass:(i,n)=>this.addOrRemoveCssClass(i,n),addOrRemoveBodyCssClass:(i,n)=>this.eFloatingFilterBody.classList.toggle(i,n),setButtonWrapperDisplayed:i=>Je(this.eButtonWrapper,i),setCompDetails:i=>this.setCompDetails(i),getFloatingFilterComp:()=>this.compPromise,setWidth:i=>e.style.width=i,setMenuIcon:i=>this.eButtonShowMainFilter.appendChild(i)};this.ctrl.setComp(t,e,this.eButtonShowMainFilter,this.eFloatingFilterBody)}setCompDetails(e){if(!e){this.destroyFloatingFilterComp(),this.compPromise=null;return}this.compPromise=e.newAgStackInstance(),this.compPromise.then(t=>this.afterCompCreated(t))}destroyFloatingFilterComp(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))}afterCompCreated(e){if(e){if(!this.isAlive()){this.destroyBean(e);return}this.destroyFloatingFilterComp(),this.floatingFilterComp=e,this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()}}}wn.TEMPLATE=`<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">
            <div ref="eFloatingFilterBody" role="presentation"></div>
            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">
                <button type="button" class="ag-button ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>
            </div>
        </div>`;Ka([ue("eFloatingFilterBody")],wn.prototype,"eFloatingFilterBody",void 0);Ka([ue("eButtonWrapper")],wn.prototype,"eButtonWrapper",void 0);Ka([ue("eButtonShowMainFilter")],wn.prototype,"eButtonShowMainFilter",void 0);Ka([de],wn.prototype,"postConstruct",null);Ka([hi],wn.prototype,"destroyFloatingFilterComp",null);var vH=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Ft;(function(s){s.AUTO_HEIGHT="ag-layout-auto-height",s.NORMAL="ag-layout-normal",s.PRINT="ag-layout-print"})(Ft||(Ft={}));class gu extends ee{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.getDomLayout(),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},i=t.autoHeight?Ft.AUTO_HEIGHT:t.print?Ft.PRINT:Ft.NORMAL;this.view.updateLayoutClasses(i,t)}getDomLayout(){var e;const t=(e=this.gridOptionsService.get("domLayout"))!==null&&e!==void 0?e:"normal";return["normal","print","autoHeight"].indexOf(t)===-1?(st(()=>console.warn(`AG Grid: ${t} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`),"warn about dom layout values"),"normal"):t}}vH([de],gu.prototype,"postConstruct",null);var eo=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},qt;(function(s){s[s.Vertical=0]="Vertical",s[s.Horizontal=1]="Horizontal"})(qt||(qt={}));var li;(function(s){s[s.Container=0]="Container",s[s.FakeContainer=1]="FakeContainer"})(li||(li={}));class Sn extends ee{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.eBodyViewport=e,this.resetLastHScrollDebounced=Vs(()=>this.lastScrollSource[qt.Horizontal]=null,500),this.resetLastVScrollDebounced=Vs(()=>this.lastScrollSource[qt.Vertical]=null,500)}postConstruct(){this.enableRtl=this.gridOptionsService.is("enableRtl"),this.addManagedListener(this.eventService,m.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(e=>{this.centerRowContainerCtrl=e.centerRowContainerCtrl,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}addScrollListener(){const e=this.ctrlsService.getFakeHScrollComp(),t=this.ctrlsService.getFakeVScrollComp();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onHScroll.bind(this)),e.onScrollCallback(this.onFakeHScroll.bind(this));const i=this.gridOptionsService.is("debounceVerticalScrollbar"),n=i?Vs(this.onVScroll.bind(this),100):this.onVScroll.bind(this),o=i?Vs(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",n),t.onScrollCallback(o)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){if(this.centerRowContainerCtrl==null)return;e===void 0&&(e=this.centerRowContainerCtrl.getCenterViewportScrollLeft());const i=this.enableRtl?e:-e,n=this.ctrlsService.getTopCenterRowContainerCtrl(),o=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),r=this.ctrlsService.getBottomCenterRowContainerCtrl(),l=this.ctrlsService.getFakeHScrollComp();this.ctrlsService.getHeaderRowContainerCtrl().setHorizontalScroll(-i),r.setContainerTranslateX(i),n.setContainerTranslateX(i),o.setContainerTranslateX(i);const c=this.centerRowContainerCtrl.getViewportElement(),d=this.lastScrollSource[qt.Horizontal]===li.Container;e=Math.abs(e),d?l.setScrollPosition(e):na(c,e,this.enableRtl)}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(this.lastScrollSource[t]=e,!0):this.lastScrollSource[t]===e}onFakeHScroll(){this.isControllingScroll(li.FakeContainer,qt.Horizontal)&&this.onHScrollCommon(li.FakeContainer)}onHScroll(){this.isControllingScroll(li.Container,qt.Horizontal)&&this.onHScrollCommon(li.Container)}onHScrollCommon(e){const t=this.centerRowContainerCtrl.getViewportElement(),{scrollLeft:i}=t;if(this.shouldBlockScrollUpdate(qt.Horizontal,i,!0))return;let n;e===li.Container?n=sa(t,this.enableRtl):n=this.ctrlsService.getFakeHScrollComp().getScrollPosition(),this.doHorizontalScroll(Math.round(n)),this.resetLastHScrollDebounced()}onFakeVScroll(){this.isControllingScroll(li.FakeContainer,qt.Vertical)&&this.onVScrollCommon(li.FakeContainer)}onVScroll(){this.isControllingScroll(li.Container,qt.Vertical)&&this.onVScrollCommon(li.Container)}onVScrollCommon(e){let t;e===li.Container?t=this.eBodyViewport.scrollTop:t=this.ctrlsService.getFakeVScrollComp().getScrollPosition(),!this.shouldBlockScrollUpdate(qt.Vertical,t,!0)&&(this.animationFrameService.setScrollTop(t),this.nextScrollTop=t,e===li.Container?this.ctrlsService.getFakeVScrollComp().setScrollPosition(t):this.eBodyViewport.scrollTop=t,this.gridOptionsService.is("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(e){const t=this.ctrlsService.getFakeHScrollComp().getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(qt.Horizontal),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.onHorizontalViewportChanged())}fireScrollEvent(e){const t={type:m.EVENT_BODY_SCROLL,direction:e===qt.Horizontal?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(()=>{const i=Object.assign(Object.assign({},t),{type:m.EVENT_BODY_SCROLL_END});this.eventService.dispatchEvent(i)},100)}shouldBlockScrollUpdate(e,t,i=!1){return i&&!Xn()?!1:e===qt.Vertical?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=Ma(this.eBodyViewport),{scrollHeight:i}=this.eBodyViewport;return e<0||e+t>i}shouldBlockHorizontalScroll(e){const t=this.centerRowContainerCtrl.getCenterWidth(),{scrollWidth:i}=this.centerRowContainerCtrl.getViewportElement();if(this.enableRtl&&ia()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>i}redrawRowsAfterScroll(){this.fireScrollEvent(qt.Vertical)}onHorizontalViewportChanged(){this.centerRowContainerCtrl.onHorizontalViewportChanged()}checkScrollLeft(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(li.Container)}scrollGridIfNeeded(){const e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e}setHorizontalScrollPosition(e,t=!1){const n=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(qt.Horizontal,e)&&(this.enableRtl&&ia()?e=e>0?0:n:e=Math.min(Math.max(e,0),n)),na(this.centerRowContainerCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.eBodyViewport.scrollTop=e}getVScrollPosition(){return{top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight}}getHScrollPosition(){return this.centerRowContainerCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()}scrollHorizontally(e){const t=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowContainerCtrl.getViewportElement().scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const i=this.rowModel.getRowCount();let n=-1;for(let o=0;o<i;o++){const r=this.rowModel.getRow(o);if(typeof e=="function"){if(r&&e(r)){n=o;break}}else if(e===r||e===r.data){n=o;break}}n>=0&&this.ensureIndexVisible(n,t)}ensureIndexVisible(e,t){if(this.gridOptionsService.isDomLayout("print"))return;const i=this.paginationProxy.getRowCount();if(typeof e!="number"||e<0||e>=i){console.warn("AG Grid: Invalid row index for ensureIndexVisible: "+e);return}this.gridOptionsService.is("pagination")&&!this.gridOptionsService.is("suppressPaginationPanel")||this.paginationProxy.goToPageWithIndex(e);const l=this.ctrlsService.getGridBodyCtrl().getStickyTopHeight(),a=this.paginationProxy.getRow(e);let c;do{const d=a.rowTop,u=a.rowHeight,h=this.paginationProxy.getPixelOffset(),p=a.rowTop-h,g=p+a.rowHeight,f=this.getVScrollPosition(),v=this.heightScaler.getDivStretchOffset(),w=f.top+v,C=f.bottom+v,E=C-w,b=this.heightScaler.getScrollPositionForPixel(p),S=this.heightScaler.getScrollPositionForPixel(g-E),T=Math.min((b+S)/2,p),D=w+l>p,_=C<g;let G=null;t==="top"?G=b:t==="bottom"?G=S:t==="middle"?G=T:D?G=b-l:_&&(G=S),G!==null&&(this.setVerticalScrollPosition(G),this.rowRenderer.redraw()),c=d!==a.rowTop||u!==a.rowHeight}while(c);this.animationFrameService.flushAllFrames()}ensureColumnVisible(e,t="auto"){const i=this.columnModel.getGridColumn(e);if(!i||i.isPinned()||!this.columnModel.isColumnDisplayed(i))return;const n=this.getPositionedHorizontalScroll(i,t);n!==null&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(n),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:i,columnAfterEnd:n}=this.isColumnOutsideViewport(e),o=this.centerRowContainerCtrl.getCenterWidth()<e.getActualWidth(),r=this.centerRowContainerCtrl.getCenterWidth(),l=this.enableRtl;let a=(l?i:n)||o,c=l?n:i;t!=="auto"&&(a=t==="start",c=t==="end");const d=t==="middle";if(a||c||d){const{colLeft:u,colMiddle:h,colRight:p}=this.getColumnBounds(e);return d?h-r/2:a?l?p:u:l?u-r:p-r}return null}isColumnOutsideViewport(e){const{start:t,end:i}=this.getViewportBounds(),{colLeft:n,colRight:o}=this.getColumnBounds(e),r=this.enableRtl,l=r?t>o:i<o,a=r?i<n:t>n;return{columnBeforeStart:l,columnAfterEnd:a}}getColumnBounds(e){const t=this.enableRtl,i=this.columnModel.getBodyContainerWidth(),n=e.getActualWidth(),o=e.getLeft(),r=t?-1:1,l=t?i-o:o,a=l+n*r,c=l+n/2*r;return{colLeft:l,colMiddle:c,colRight:a}}getViewportBounds(){const e=this.centerRowContainerCtrl.getCenterWidth(),t=this.centerRowContainerCtrl.getCenterViewportScrollLeft(),i=t,n=e+t;return{start:i,end:n,width:e}}}eo([y("ctrlsService")],Sn.prototype,"ctrlsService",void 0);eo([y("animationFrameService")],Sn.prototype,"animationFrameService",void 0);eo([y("paginationProxy")],Sn.prototype,"paginationProxy",void 0);eo([y("rowModel")],Sn.prototype,"rowModel",void 0);eo([y("rowContainerHeightService")],Sn.prototype,"heightScaler",void 0);eo([y("rowRenderer")],Sn.prototype,"rowRenderer",void 0);eo([y("columnModel")],Sn.prototype,"columnModel",void 0);eo([de],Sn.prototype,"postConstruct",null);class CH{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){const i=t||this.shouldSkipVerticalScroll();if(i&&this.shouldSkipHorizontalScroll())return;const n=this.scrollContainer.getBoundingClientRect(),o=this.scrollByTick;this.tickLeft=e.clientX<n.left+o,this.tickRight=e.clientX>n.right-o,this.tickUp=e.clientY<n.top+o&&!i,this.tickDown=e.clientY>n.bottom-o&&!i,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;let e;if(e=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}}var ls=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class $i extends ee{constructor(e){super(),this.isMultiRowDrag=!1,this.isGridSorted=!1,this.isGridFiltered=!1,this.isRowGroupActive=!1,this.eContainer=e}postConstruct(){this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel);const e=()=>{this.onSortChanged(),this.onFilterChanged(),this.onRowGroupChanged()};this.addManagedListener(this.eventService,m.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,m.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,m.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,m.EVENT_MODEL_UPDATED,()=>{e()}),e(),this.ctrlsService.whenReady(()=>{const t=this.ctrlsService.getGridBodyCtrl();this.autoScrollService=new CH({scrollContainer:t.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>t.getScrollFeature().getVScrollPosition().top,setVerticalPosition:i=>t.getScrollFeature().setVerticalScrollPosition(i),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}onSortChanged(){this.isGridSorted=this.sortController.isSortActive()}onFilterChanged(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()}onRowGroupChanged(){const e=this.columnModel.getRowGroupColumns();this.isRowGroupActive=!Ai(e)}getContainer(){return this.eContainer}isInterestedIn(e){return e===di.RowDrag}getIconName(){return this.gridOptionsService.is("rowDragManaged")&&this.shouldPreventRowMove()?nt.ICON_NOT_ALLOWED:nt.ICON_MOVE}shouldPreventRowMove(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=this.gridOptionsService.is("rowDragMultiRow"),i=[...this.selectionService.getSelectedNodes()].sort((o,r)=>o.rowIndex==null||r.rowIndex==null?0:this.getRowIndexNumber(o)-this.getRowIndexNumber(r)),n=e.dragItem.rowNode;return t&&i.indexOf(n)!==-1?(this.isMultiRowDrag=!0,i):(this.isMultiRowDrag=!1,[n])}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent(m.EVENT_ROW_DRAG_ENTER,e),this.getRowNodes(e).forEach(t=>{t.setDragging(!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gridOptionsService.getDomDataKey()}isDropZoneWithinThisGrid(e){const i=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget:n}=e;return!i.contains(n)}onEnterOrDragging(e){this.dispatchGridEvent(m.EVENT_ROW_DRAG_MOVE,e),this.lastDraggingEvent=e;const t=this.mouseEventService.getNormalisedPosition(e).y;this.gridOptionsService.is("rowDragManaged")&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)}doManagedDrag(e,t){const i=this.isFromThisGrid(e),n=this.gridOptionsService.is("rowDragManaged"),o=e.dragItem.rowNodes;n&&this.shouldPreventRowMove()||(this.gridOptionsService.is("suppressMoveWhenRowDragging")||!i?this.isDropZoneWithinThisGrid(e)||this.clientSideRowModel.highlightRowAtPixel(o[0],t):this.moveRows(o,t))}getRowIndexNumber(e){return parseInt(ft(e.getRowIndexString().split("-")),10)}moveRowAndClearHighlight(e){const t=this.clientSideRowModel.getLastHighlightedRowNode(),i=t&&t.highlighted===un.Below,n=this.mouseEventService.getNormalisedPosition(e).y,o=e.dragItem.rowNodes;let r=i?1:0;if(this.isFromThisGrid(e))o.forEach(l=>{l.rowTop<n&&(r-=1)}),this.moveRows(o,n,r);else{const l=this.gridOptionsService.getCallback("getRowId");let a=this.clientSideRowModel.getRowIndexAtPixel(n)+1;this.clientSideRowModel.getHighlightPosition(n)===un.Above&&a--,this.clientSideRowModel.updateRowData({add:o.map(c=>c.data).filter(c=>!this.clientSideRowModel.getRowNode(l?l({data:c,level:0}):c.id)),addIndex:a})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,t,i=0){this.clientSideRowModel.ensureRowsAtPixel(e,t,i)&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())}addRowDropZone(e){if(!e.getContainer()){st(()=>console.warn("AG Grid: addRowDropZone - A container target needs to be provided"),"add-drop-zone-empty-target");return}if(this.dragAndDropService.findExternalZone(e)){console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");return}let t={getContainer:e.getContainer};e.fromGrid?(e.fromGrid=void 0,t=e):(e.onDragEnter&&(t.onDragEnter=i=>{e.onDragEnter(this.draggingToRowDragEvent(m.EVENT_ROW_DRAG_ENTER,i))}),e.onDragLeave&&(t.onDragLeave=i=>{e.onDragLeave(this.draggingToRowDragEvent(m.EVENT_ROW_DRAG_LEAVE,i))}),e.onDragging&&(t.onDragging=i=>{e.onDragging(this.draggingToRowDragEvent(m.EVENT_ROW_DRAG_MOVE,i))}),e.onDragStop&&(t.onDragStop=i=>{e.onDragStop(this.draggingToRowDragEvent(m.EVENT_ROW_DRAG_END,i))})),this.dragAndDropService.addDropTarget(Object.assign({isInterestedIn:i=>i===di.RowDrag,getIconName:()=>nt.ICON_MOVE,external:!0},t))}getRowDropZone(e){const t=this.getContainer.bind(this),i=this.onDragEnter.bind(this),n=this.onDragLeave.bind(this),o=this.onDragging.bind(this),r=this.onDragStop.bind(this);return e?{getContainer:t,onDragEnter:e.onDragEnter?l=>{i(l),e.onDragEnter(this.draggingToRowDragEvent(m.EVENT_ROW_DRAG_ENTER,l))}:i,onDragLeave:e.onDragLeave?l=>{n(l),e.onDragLeave(this.draggingToRowDragEvent(m.EVENT_ROW_DRAG_LEAVE,l))}:n,onDragging:e.onDragging?l=>{o(l),e.onDragging(this.draggingToRowDragEvent(m.EVENT_ROW_DRAG_MOVE,l))}:o,onDragStop:e.onDragStop?l=>{r(l),e.onDragStop(this.draggingToRowDragEvent(m.EVENT_ROW_DRAG_END,l))}:r,fromGrid:!0}:{getContainer:t,onDragEnter:i,onDragLeave:n,onDragging:o,onDragStop:r,fromGrid:!0}}draggingToRowDragEvent(e,t){const i=this.mouseEventService.getNormalisedPosition(t).y,n=i>this.paginationProxy.getCurrentPageHeight();let o=-1,r;n||(o=this.rowModel.getRowIndexAtPixel(i),r=this.rowModel.getRow(o));let l;switch(t.vDirection){case Dr.Down:l="down";break;case Dr.Up:l="up";break;default:l=null;break}return{type:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:o,overNode:r,y:i,vDirection:l}}dispatchGridEvent(e,t){const i=this.draggingToRowDragEvent(e,t);this.eventService.dispatchEvent(i)}onDragLeave(e){this.dispatchGridEvent(m.EVENT_ROW_DRAG_LEAVE,e),this.stopDragging(e),this.gridOptionsService.is("rowDragManaged")&&this.clearRowHighlight(),this.isFromThisGrid(e)&&(this.isMultiRowDrag=!1)}onDragStop(e){this.dispatchGridEvent(m.EVENT_ROW_DRAG_END,e),this.stopDragging(e),this.gridOptionsService.is("rowDragManaged")&&(this.gridOptionsService.is("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&!this.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(t=>{t.setDragging(!1)})}}ls([y("dragAndDropService")],$i.prototype,"dragAndDropService",void 0);ls([y("rowModel")],$i.prototype,"rowModel",void 0);ls([y("paginationProxy")],$i.prototype,"paginationProxy",void 0);ls([y("columnModel")],$i.prototype,"columnModel",void 0);ls([y("focusService")],$i.prototype,"focusService",void 0);ls([y("sortController")],$i.prototype,"sortController",void 0);ls([y("filterManager")],$i.prototype,"filterManager",void 0);ls([y("selectionService")],$i.prototype,"selectionService",void 0);ls([y("mouseEventService")],$i.prototype,"mouseEventService",void 0);ls([y("ctrlsService")],$i.prototype,"ctrlsService",void 0);ls([ht("rangeService")],$i.prototype,"rangeService",void 0);ls([de],$i.prototype,"postConstruct",null);var Wi=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Or;(function(s){s.ANIMATION_ON="ag-row-animation",s.ANIMATION_OFF="ag-row-no-animation"})(Or||(Or={}));const OS="ag-force-vertical-scroll",yH="ag-selectable",wH="ag-column-moving";class Ei extends ee{constructor(){super(...arguments),this.stickyTopHeight=0}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(e,t,i,n,o,r){this.comp=e,this.eGridBody=t,this.eBodyViewport=i,this.eTop=n,this.eBottom=o,this.eStickyTop=r,this.setCellTextSelection(this.gridOptionsService.is("enableCellTextSelection")),this.createManagedBean(new gu(this.comp)),this.bodyScrollFeature=this.createManagedBean(new Sn(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([n,i,o,r]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.ctrlsService.registerGridBodyCtrl(this)}getComp(){return this.comp}addEventListeners(){this.addManagedListener(this.eventService,m.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,m.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,m.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,m.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))}addFocusListeners(e){e.forEach(t=>{this.addManagedListener(t,"focusin",i=>{const{target:n}=i,o=Eo(n,"ag-root",t);t.classList.toggle("ag-has-focus",!o)}),this.addManagedListener(t,"focusout",i=>{const{target:n,relatedTarget:o}=i,r=t.contains(o),l=Eo(o,"ag-root",t);Eo(n,"ag-root",t)||(!r||l)&&t.classList.remove("ag-has-focus")})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(wH,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(yH,e)}onScrollVisibilityChanged(){const e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e),this.setStickyTopWidth(e);const t=e&&this.gridOptionsService.getScrollbarWidth()||0,i=lr()?16:0,n=`calc(100% + ${t+i}px)`;this.animationFrameService.requestAnimationFrame(()=>this.comp.setBodyViewportWidth(n))}onGridColumnsChanged(){const e=this.columnModel.getAllGridColumns();this.comp.setColumnCount(e?e.length:0)}disableBrowserDragging(){this.addManagedListener(this.eGridBody,"dragstart",e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1})}addStopEditingWhenGridLosesFocus(){if(!this.gridOptionsService.is("stopEditingWhenCellsLoseFocus"))return;const e=i=>{const n=i.relatedTarget;if(hd(n)===null){this.rowRenderer.stopEditing();return}let o=t.some(r=>r.contains(n))&&this.mouseEventService.isElementInThisGrid(n);if(!o){const r=this.popupService;o=r.getActivePopups().some(l=>l.contains(n))||r.isElementWithinCustomPopup(n)}o||this.rowRenderer.stopEditing()},t=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];t.forEach(i=>this.addManagedListener(i,"focusout",e))}updateRowCount(){const e=this.headerNavigationService.getHeaderRowCount(),t=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,i=t===-1?-1:e+t;this.comp.setRowCount(i)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gridOptionsService.is("alwaysShowVerticalScroll"),t=e?OS:null,i=this.gridOptionsService.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||i&&zw(this.eBodyViewport)}setupRowAnimationCssClass(){const e=()=>{const t=this.gridOptionsService.isAnimateRows()&&!this.rowContainerHeightService.isStretching(),i=t?Or.ANIMATION_ON:Or.ANIMATION_OFF;this.comp.setRowAnimationCssOnBodyViewport(i,t)};e(),this.addManagedListener(this.eventService,m.EVENT_HEIGHT_SCALE_CHANGED,e),this.addManagedPropertyListener("animateRows",e)}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){const e=this.onBodyViewportContextMenu.bind(this);this.addManagedListener(this.eBodyViewport,"contextmenu",e),this.mockContextMenuForIPad(e),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this)),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){const e=this.eBodyViewport.querySelector(".ag-full-width-container"),t=this.eBodyViewport.querySelector(".ag-center-cols-viewport");e&&t&&this.addManagedListener(e,"wheel",i=>this.onFullWidthContainerWheel(i,t))}onFullWidthContainerWheel(e,t){!e.deltaX||Math.abs(e.deltaY)>Math.abs(e.deltaX)||!this.mouseEventService.isEventFromThisGrid(e)||(e.preventDefault(),t.scrollBy({left:e.deltaX}))}onBodyViewportContextMenu(e,t,i){if(!e&&!i)return;this.gridOptionsService.is("preventDefaultOnContextMenu")&&(e||i).preventDefault();const{target:n}=e||t;if(n===this.eBodyViewport||n===this.ctrlsService.getCenterRowContainerCtrl().getViewportElement()){if(!this.contextMenuFactory)return;e?this.contextMenuFactory.onContextMenu(e,null,null,null,null,this.eGridBody):i&&this.contextMenuFactory.onContextMenu(null,i,null,null,null,this.eGridBody)}}mockContextMenuForIPad(e){if(!Xn())return;const t=new Dt(this.eBodyViewport),i=n=>{e(void 0,n.touchStart,n.touchEvent)};this.addManagedListener(t,Dt.EVENT_LONG_TAP,i),this.addDestroyFunc(()=>t.destroy())}onBodyViewportWheel(e){this.gridOptionsService.is("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()}onStickyTopWheel(e){e.preventDefault(),e.offsetY&&this.scrollVertically(e.deltaY)}getGui(){return this.eGridBody}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new $i(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)}getRowDragFeature(){return this.rowDragFeature}onPinnedRowDataChanged(){this.setFloatingHeights()}setFloatingHeights(){const{pinnedRowModel:e}=this;let t=e.getPinnedTopTotalHeight();t&&(t+=1);let i=e.getPinnedBottomTotalHeight();i&&(i+=1),this.comp.setTopHeight(t),this.comp.setBottomHeight(i),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(i?"inherit":"none"),this.setStickyTopOffsetTop()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}getStickyTopHeight(){return this.stickyTopHeight}setStickyTopWidth(e){if(!e)this.comp.setStickyTopWidth("100%");else{const t=this.gridOptionsService.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`)}}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){const t=this.ctrlsService.getGridHeaderCtrl().getHeaderHeight(),i=this.pinnedRowModel.getPinnedTopTotalHeight();let n=0;t>0&&(n+=t+1),i>0&&(n+=i+1),this.comp.setStickyTopTop(`${n}px`)}sizeColumnsToFit(e,t){const n=this.isVerticalScrollShowing()?this.gridOptionsService.getScrollbarWidth():0,r=du(this.eGridBody)-n;if(r>0){this.columnModel.sizeColumnsToFit(r,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFit(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFit(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFit(e,-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})}removeScrollEventListener(e){this.eBodyViewport.removeEventListener("scroll",e)}}Wi([y("animationFrameService")],Ei.prototype,"animationFrameService",void 0);Wi([y("rowContainerHeightService")],Ei.prototype,"rowContainerHeightService",void 0);Wi([y("ctrlsService")],Ei.prototype,"ctrlsService",void 0);Wi([y("columnModel")],Ei.prototype,"columnModel",void 0);Wi([y("scrollVisibleService")],Ei.prototype,"scrollVisibleService",void 0);Wi([ht("contextMenuFactory")],Ei.prototype,"contextMenuFactory",void 0);Wi([y("headerNavigationService")],Ei.prototype,"headerNavigationService",void 0);Wi([y("dragAndDropService")],Ei.prototype,"dragAndDropService",void 0);Wi([y("pinnedRowModel")],Ei.prototype,"pinnedRowModel",void 0);Wi([y("rowRenderer")],Ei.prototype,"rowRenderer",void 0);Wi([y("popupService")],Ei.prototype,"popupService",void 0);Wi([y("mouseEventService")],Ei.prototype,"mouseEventService",void 0);Wi([y("rowModel")],Ei.prototype,"rowModel",void 0);var gd;(function(s){s[s.FILL=0]="FILL",s[s.RANGE=1]="RANGE"})(gd||(gd={}));var Jo;(function(s){s[s.VALUE=0]="VALUE",s[s.DIMENSION=1]="DIMENSION"})(Jo||(Jo={}));const Cl="ag-cell-range-selected",SH="ag-cell-range-chart",bH="ag-cell-range-single-cell",EH="ag-cell-range-chart-category",RH="ag-cell-range-handle",TH="ag-cell-range-top",DH="ag-cell-range-right",OH="ag-cell-range-bottom",_H="ag-cell-range-left";class PH{constructor(e,t){this.beans=e,this.cellCtrl=t}setComp(e,t){this.cellComp=e,this.eGui=t,this.onRangeSelectionChanged()}onRangeSelectionChanged(){this.cellComp&&(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(Cl,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass(`${Cl}-1`,this.rangeCount===1),this.cellComp.addOrRemoveCssClass(`${Cl}-2`,this.rangeCount===2),this.cellComp.addOrRemoveCssClass(`${Cl}-3`,this.rangeCount===3),this.cellComp.addOrRemoveCssClass(`${Cl}-4`,this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(SH,this.hasChartRange),Rr(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass(bH,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){const e=this.getRangeBorders(),t=this.isSingleCell(),i=!t&&e.top,n=!t&&e.right,o=!t&&e.bottom,r=!t&&e.left;this.cellComp.addOrRemoveCssClass(TH,i),this.cellComp.addOrRemoveCssClass(DH,n),this.cellComp.addOrRemoveCssClass(OH,o),this.cellComp.addOrRemoveCssClass(_H,r)}isSingleCell(){const{rangeService:e}=this.beans;return this.rangeCount===1&&e&&!e.isMoreThanOneCell()}getHasChartRange(){const{rangeService:e}=this.beans;if(!this.rangeCount||!e)return!1;const t=e.getCellRanges();return t.length>0&&t.every(i=>Zi([Jo.DIMENSION,Jo.VALUE],i.type))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){const e=this.beans.gridOptionsService.is("enableRtl");let t=!1,i=!1,n=!1,o=!1;const r=this.cellCtrl.getCellPosition().column,{rangeService:l,columnModel:a}=this.beans;let c,d;e?(c=a.getDisplayedColAfter(r),d=a.getDisplayedColBefore(r)):(c=a.getDisplayedColBefore(r),d=a.getDisplayedColAfter(r));const u=l.getCellRanges().filter(h=>l.isCellInSpecificRange(this.cellCtrl.getCellPosition(),h));c||(o=!0),d||(i=!0);for(let h=0;h<u.length&&!(t&&i&&n&&o);h++){const p=u[h],g=l.getRangeStartRow(p),f=l.getRangeEndRow(p);!t&&this.beans.rowPositionUtils.sameRow(g,this.cellCtrl.getCellPosition())&&(t=!0),!n&&this.beans.rowPositionUtils.sameRow(f,this.cellCtrl.getCellPosition())&&(n=!0),!o&&c&&p.columns.indexOf(c)<0&&(o=!0),!i&&d&&p.columns.indexOf(d)<0&&(i=!0)}return{top:t,right:i,bottom:n,left:o}}refreshHandle(){if(!this.beans.rangeService)return;const e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(RH,!!this.selectionHandle)}shouldHaveSelectionHandle(){const{gridOptionsService:e,rangeService:t}=this.beans,i=t.getCellRanges(),n=i.length;if(this.rangeCount<1||n<1)return!1;const o=ft(i),r=this.cellCtrl.getCellPosition(),l=e.is("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),a=e.is("enableRangeHandle");let c=n===1&&!this.cellCtrl.isEditing()&&(l||a);if(this.hasChartRange){const u=i[0].type===Jo.DIMENSION&&t.isCellInSpecificRange(r,i[0]);this.cellComp.addOrRemoveCssClass(EH,u),c=o.type===Jo.VALUE}return c&&o.endRow!=null&&t.isContiguousRange(o)&&t.isBottomRightCell(o,r)}addSelectionHandle(){const{gridOptionsService:e,rangeService:t}=this.beans,i=ft(t.getCellRanges()).type,o=e.is("enableFillHandle")&&Le(i)?gd.FILL:gd.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==o&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(o)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}}class AH extends ee{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode(),this.setupColSpan(),this.setupRowSpan()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode)}setComp(e){this.eGui=e,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onDisplayColumnsChanged(){const e=this.getColSpanningList();In(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,m.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,m.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))}onWidthChanged(){if(!this.eGui)return;const e=this.getCellWidth();this.eGui.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const e=this.column.getColSpan(this.rowNode),t=[];if(e===1)t.push(this.column);else{let i=this.column;const n=this.column.getPinned();for(let o=0;i&&o<e&&(t.push(i),i=this.beans.columnModel.getDisplayedColAfter(i),!(!i||Le(i)||n!==i.getPinned()));o++);}return t}onLeftChanged(){if(!this.eGui)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}getCellLeft(){let e;return this.beans.gridOptionsService.is("enableRtl")&&this.colsSpanning?e=ft(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()==="left")return e;const t=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(this.column.getPinned()==="right"){const i=this.beans.columnModel.getBodyContainerWidth();return t+i+(e||0)}return t+(e||0)}applyRowSpan(){if(this.rowSpan===1)return;const t=this.beans.gridOptionsService.getRowHeightAsNumber()*this.rowSpan;this.eGui.style.height=`${t}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}}class FH extends ee{constructor(e,t){super(),this.staticClasses=[],this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const e=this.column.getColDef(),t={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.beans.stylingService.processClassRules(e.cellClassRules,t,i=>this.cellComp.addOrRemoveCssClass(i,!0),i=>this.cellComp.addOrRemoveCssClass(i,!1))}applyUserStyles(){const e=this.column.getColDef();if(!e.cellStyle)return;let t;if(typeof e.cellStyle=="function"){const i={column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context},n=e.cellStyle;t=n(i)}else t=e.cellStyle;t&&this.cellComp.setUserStyles(t)}applyClassesFromColDef(){const e=this.column.getColDef(),t={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:e,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.staticClasses.length&&this.staticClasses.forEach(i=>this.cellComp.addOrRemoveCssClass(i,!1)),this.staticClasses=this.beans.stylingService.getStaticCellClasses(e,t),this.staticClasses.length&&this.staticClasses.forEach(i=>this.cellComp.addOrRemoveCssClass(i,!0))}destroy(){super.destroy()}}class fg extends ee{constructor(e,t){super(),this.ctrl=e,this.beans=t}setComp(e){this.comp=e,this.setupTooltip()}setupTooltip(){this.browserTooltips=this.beans.gridOptionsService.is("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?this.comp.setTitle(this.tooltip!=null?this.tooltip:void 0):this.createTooltipFeatureIfNeeded()}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){if(this.genericTooltipFeature!=null)return;const e={getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()};this.genericTooltipFeature=this.createManagedBean(new mn(e),this.beans.context)}refreshToolTip(){this.updateTooltipText(),this.browserTooltips&&this.comp.setTitle(this.tooltip!=null?this.tooltip:void 0)}getTooltipParams(){const e=this.ctrl,t=e.getColumn?e.getColumn():void 0,i=e.getColDef?e.getColDef():void 0,n=e.getRowNode?e.getRowNode():void 0;return{location:e.getLocation(),colDef:i,column:t,rowIndex:e.getRowIndex?e.getRowIndex():void 0,node:n,data:n?n.data:void 0,value:this.getTooltipText(),valueFormatted:e.getValueFormatted?e.getValueFormatted():void 0}}getTooltipText(){return this.tooltip}destroy(){super.destroy()}}var $e=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let Be=class{postConstruct(){this.doingMasterDetail=this.gridOptionsService.isMasterDetail(),this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.gridOptionsService.isRowModelType("serverSide")&&(this.serverSideRowModel=this.rowModel)}};$e([y("resizeObserverService")],Be.prototype,"resizeObserverService",void 0);$e([y("paginationProxy")],Be.prototype,"paginationProxy",void 0);$e([y("context")],Be.prototype,"context",void 0);$e([y("columnApi")],Be.prototype,"columnApi",void 0);$e([y("gridApi")],Be.prototype,"gridApi",void 0);$e([y("gridOptionsService")],Be.prototype,"gridOptionsService",void 0);$e([y("expressionService")],Be.prototype,"expressionService",void 0);$e([y("environment")],Be.prototype,"environment",void 0);$e([y("rowRenderer")],Be.prototype,"rowRenderer",void 0);$e([y("templateService")],Be.prototype,"templateService",void 0);$e([y("valueService")],Be.prototype,"valueService",void 0);$e([y("eventService")],Be.prototype,"eventService",void 0);$e([y("columnModel")],Be.prototype,"columnModel",void 0);$e([y("headerNavigationService")],Be.prototype,"headerNavigationService",void 0);$e([y("navigationService")],Be.prototype,"navigationService",void 0);$e([y("columnAnimationService")],Be.prototype,"columnAnimationService",void 0);$e([ht("rangeService")],Be.prototype,"rangeService",void 0);$e([y("focusService")],Be.prototype,"focusService",void 0);$e([ht("contextMenuFactory")],Be.prototype,"contextMenuFactory",void 0);$e([y("popupService")],Be.prototype,"popupService",void 0);$e([y("valueFormatterService")],Be.prototype,"valueFormatterService",void 0);$e([y("stylingService")],Be.prototype,"stylingService",void 0);$e([y("columnHoverService")],Be.prototype,"columnHoverService",void 0);$e([y("userComponentFactory")],Be.prototype,"userComponentFactory",void 0);$e([y("userComponentRegistry")],Be.prototype,"userComponentRegistry",void 0);$e([y("animationFrameService")],Be.prototype,"animationFrameService",void 0);$e([y("dragService")],Be.prototype,"dragService",void 0);$e([y("dragAndDropService")],Be.prototype,"dragAndDropService",void 0);$e([y("sortController")],Be.prototype,"sortController",void 0);$e([y("filterManager")],Be.prototype,"filterManager",void 0);$e([y("rowContainerHeightService")],Be.prototype,"rowContainerHeightService",void 0);$e([y("frameworkOverrides")],Be.prototype,"frameworkOverrides",void 0);$e([y("cellPositionUtils")],Be.prototype,"cellPositionUtils",void 0);$e([y("rowPositionUtils")],Be.prototype,"rowPositionUtils",void 0);$e([y("selectionService")],Be.prototype,"selectionService",void 0);$e([ht("selectionHandleFactory")],Be.prototype,"selectionHandleFactory",void 0);$e([y("rowCssClassCalculator")],Be.prototype,"rowCssClassCalculator",void 0);$e([y("rowModel")],Be.prototype,"rowModel",void 0);$e([y("ctrlsService")],Be.prototype,"ctrlsService",void 0);$e([y("ctrlsFactory")],Be.prototype,"ctrlsFactory",void 0);$e([y("agStackComponentsRegistry")],Be.prototype,"agStackComponentsRegistry",void 0);$e([y("valueCache")],Be.prototype,"valueCache",void 0);$e([y("rowNodeEventThrottle")],Be.prototype,"rowNodeEventThrottle",void 0);$e([y("localeService")],Be.prototype,"localeService",void 0);$e([y("valueParserService")],Be.prototype,"valueParserService",void 0);$e([de],Be.prototype,"postConstruct",null);Be=$e([Se("beans")],Be);class MH extends Be{constructor(e,t,i){super(),this.cellCtrl=e,this.beans=t,this.column=i}onMouseEvent(e,t){if(!ks(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(e),e.preventDefault();return}const{eventService:t,rangeService:i,gridOptionsService:n}=this.beans,o=e.ctrlKey||e.metaKey;i&&o&&i.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&i.intersectLastRange(!0);const r=this.cellCtrl.createEvent(e,m.EVENT_CELL_CLICKED);t.dispatchEvent(r);const l=this.column.getColDef();l.onCellClicked&&window.setTimeout(()=>l.onCellClicked(r),0),(n.is("singleClickEdit")||l.singleClickEdit)&&!n.is("suppressClickEdit")&&this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!Xn()||Df("dblclick"))return!1;const e=new Date().getTime(),t=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,t}onCellDoubleClicked(e){const t=this.column.getColDef(),i=this.cellCtrl.createEvent(e,m.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(i),typeof t.onCellDoubleClicked=="function"&&window.setTimeout(()=>t.onCellDoubleClicked(i),0),!this.beans.gridOptionsService.is("singleClickEdit")&&!this.beans.gridOptionsService.is("suppressClickEdit")&&this.cellCtrl.startRowOrCellEdit(null,e)}onMouseDown(e){const{ctrlKey:t,metaKey:i,shiftKey:n}=e,o=e.target,{eventService:r,rangeService:l}=this.beans;if(this.isRightClickInExistingRange(e))return;const a=l&&l.getCellRanges().length!=0;if(!n||!a){const c=ns()&&!this.cellCtrl.isEditing()&&!kf(o);this.cellCtrl.focusCell(c)}if(n&&a&&e.preventDefault(),!this.containsWidget(o)){if(l){const c=this.cellCtrl.getCellPosition();if(n)l.extendLatestRangeToCell(c);else{const d=t||i;l.setRangeToCell(c,d)}}r.dispatchEvent(this.cellCtrl.createEvent(e,m.EVENT_CELL_MOUSE_DOWN))}}isRightClickInExistingRange(e){const{rangeService:t}=this.beans;return!!(t&&t.isCellInAnyRange(this.cellCtrl.getCellPosition())&&e.button===2)}containsWidget(e){return Eo(e,"ag-selection-checkbox",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const t=this.cellCtrl.createEvent(e,m.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const t=this.cellCtrl.createEvent(e,m.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.getGui(),i=t.contains(e.target),n=t.contains(e.relatedTarget);return i&&n}destroy(){}}class LH extends ee{constructor(e,t,i,n,o){super(),this.cellCtrl=e,this.beans=t,this.rowNode=n,this.rowCtrl=o}setComp(e){this.eGui=e}onKeyDown(e){const t=e.key;switch(t){case $.ENTER:this.onEnterKeyDown(e);break;case $.F2:this.onF2KeyDown(e);break;case $.ESCAPE:this.onEscapeKeyDown(e);break;case $.TAB:this.onTabKeyDown(e);break;case $.BACKSPACE:case $.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case $.DOWN:case $.UP:case $.RIGHT:case $.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,t,this.cellCtrl.getCellPosition(),!0),e.preventDefault())}onShiftRangeSelect(e){if(!this.beans.rangeService)return;const t=this.beans.rangeService.extendLatestRangeInDirection(e);t&&this.beans.navigationService.ensureCellVisible(t)}onTabKeyDown(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){const{cellCtrl:i,beans:n,rowNode:o}=this,{gridOptionsService:r,rangeService:l,eventService:a}=n;i.isEditing()||(a.dispatchEvent({type:m.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),Jw(e,r.is("enableCellEditingOnBackspace"))?l&&r.isEnableRangeSelection()?l.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"}):i.isCellEditable()&&o.setDataValue(i.getColumn(),null,"cellClear"):i.startRowOrCellEdit(e,t),a.dispatchEvent({type:m.EVENT_KEY_SHORTCUT_CHANGED_CELL_END}))}onEnterKeyDown(e){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey);else if(this.beans.gridOptionsService.is("enterNavigatesVertically")){const t=e.shiftKey?$.UP:$.DOWN;this.beans.navigationService.navigateToNextCell(null,t,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit($.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault()}onF2KeyDown(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit($.F2,e)}onEscapeKeyDown(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(e){if(e.target!==this.eGui||this.cellCtrl.isEditing())return;const n=e.key;n===" "?this.onSpaceKeyDown(e):(this.cellCtrl.startRowOrCellEdit(n,e),e.preventDefault())}onSpaceKeyDown(e){const{gridOptionsService:t}=this.beans;if(!this.cellCtrl.isEditing()&&t.isRowSelection()){const i=this.rowNode.isSelected(),n=!i;if(n||!t.is("suppressRowDeselection")){const o=this.beans.gridOptionsService.is("groupSelectsFiltered"),r=this.rowNode.setSelectedParams({newValue:n,rangeSelect:e.shiftKey,groupSelectsFiltered:o,event:e,source:"spaceKey"});i===void 0&&r===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:o,event:e,source:"spaceKey"})}}e.preventDefault()}destroy(){super.destroy()}}var IH=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class _S extends ke{constructor(e,t,i){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=e,this.column=t,this.eCell=i}postConstruct(){this.getGui().appendChild(_t("rowDrag",this.gridOptionsService,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const t=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0);const i=()=>{try{const n=JSON.stringify(this.rowNode.data);e.dataTransfer.setData("application/json",n),e.dataTransfer.setData("text/plain",n)}catch{}};if(t){const n={rowNode:this.rowNode,dragEvent:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};t(n)}else i()}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}}IH([de],_S.prototype,"postConstruct",null);const NH="ag-cell",xH="ag-cell-auto-height",GH="ag-cell-normal-height",VH="ag-cell-focus",HH="ag-cell-first-right-pinned",kH="ag-cell-last-left-pinned",BH="ag-cell-not-inline-editing",$H="ag-column-hover",WH="ag-cell-wrap-text";let UH=0;class ys extends ee{constructor(e,t,i,n){super(),this.cellRangeFeature=null,this.cellPositionFeature=null,this.cellCustomStyleFeature=null,this.tooltipFeature=null,this.cellMouseListenerFeature=null,this.cellKeyboardListenerFeature=null,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.column=e,this.rowNode=t,this.beans=i,this.rowCtrl=n,this.instanceId=e.getId()+"-"+UH++,this.createCellPosition(),this.addFeatures()}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}addFeatures(){this.cellPositionFeature=new AH(this,this.beans),this.addDestroyFunc(()=>{var t;(t=this.cellPositionFeature)===null||t===void 0||t.destroy(),this.cellPositionFeature=null}),this.cellCustomStyleFeature=new FH(this,this.beans),this.addDestroyFunc(()=>{var t;(t=this.cellCustomStyleFeature)===null||t===void 0||t.destroy(),this.cellCustomStyleFeature=null}),this.cellMouseListenerFeature=new MH(this,this.beans,this.column),this.addDestroyFunc(()=>{var t;(t=this.cellMouseListenerFeature)===null||t===void 0||t.destroy(),this.cellMouseListenerFeature=null}),this.cellKeyboardListenerFeature=new LH(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(()=>{var t;(t=this.cellKeyboardListenerFeature)===null||t===void 0||t.destroy(),this.cellKeyboardListenerFeature=null}),this.beans.rangeService&&this.beans.gridOptionsService.isEnableRangeSelection()&&(this.cellRangeFeature=new PH(this.beans,this),this.addDestroyFunc(()=>{var t;(t=this.cellRangeFeature)===null||t===void 0||t.destroy(),this.cellRangeFeature=null})),this.column.isTooltipEnabled()&&this.addTooltipFeature()}addTooltipFeature(){const t={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:()=>{const i=this.column.getColDef(),n=this.rowNode.data;if(i.tooltipField&&Q(n))return rr(n,i.tooltipField,this.column.isTooltipFieldContainsDots());const o=i.tooltipValueGetter;return o?o({location:"cell",api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted}):null},getValueFormatted:()=>this.valueFormatted};this.tooltipFeature=new fg(t,this.beans),this.addDestroyFunc(()=>{var i;(i=this.tooltipFeature)===null||i===void 0||i.destroy(),this.tooltipFeature=null})}setComp(e,t,i,n,o){var r,l,a,c;this.cellComp=e,this.eGui=t,this.printLayout=n,this.updateAndFormatValue(!0),this.addDomData(),this.onCellFocused(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),i&&this.setupAutoHeight(i),this.setAriaColIndex(),this.beans.gridOptionsService.is("suppressCellFocus")||this.cellComp.setTabIndex(-1);const d=js(this.column.getId());this.cellComp.setColId(d),this.cellComp.setRole("gridcell"),(r=this.cellPositionFeature)===null||r===void 0||r.setComp(t),(l=this.cellCustomStyleFeature)===null||l===void 0||l.setComp(e),(a=this.tooltipFeature)===null||a===void 0||a.setComp(e),(c=this.cellKeyboardListenerFeature)===null||c===void 0||c.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(e,t),o&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(u=>u()),this.onCellCompAttachedFuncs=[])}setupAutoHeight(e){if(!this.column.isAutoHeight())return;const t=e.parentElement,i=this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height,n=l=>{if(this.editing||!this.isAlive())return;const{paddingTop:a,paddingBottom:c,borderBottomWidth:d,borderTopWidth:u}=Jn(t),h=a+c+d+u,g=e.offsetHeight+h;if(l<5){const v=this.beans.gridOptionsService.getDocument(),w=!v||!v.contains(e),C=g==0;if(w||C){this.beans.frameworkOverrides.setTimeout(()=>n(l+1),0);return}}const f=Math.max(g,i);this.rowNode.setRowAutoHeight(f,this.column)},o=()=>n(0);o();const r=this.beans.resizeObserverService.observeResize(e,o);this.addDestroyFunc(()=>{r(),this.rowNode.setRowAutoHeight(void 0,this.column)})}getInstanceId(){return this.instanceId}showValue(e=!1){const t=this.valueFormatted!=null?this.valueFormatted:this.value,i=this.createCellRendererParams(),n=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),i);this.cellComp.setRenderDetails(n,t,e),this.refreshHandle()}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(e.checkboxSelection),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gridOptionsService.is("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e){return this.rowNode.rowPinned!=null?!1:typeof e=="function"||e===!0}refreshShouldDestroy(){const e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(e.checkboxSelection),i=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),n=this.includeDndSource!=this.isIncludeControl(e.dndSource);return t||i||n}startEditing(e=null,t=!1,i=null){if(!this.isCellEditable()||this.editing)return;if(!this.cellComp){this.onCellCompAttachedFuncs.push(()=>{this.startEditing(e,t,i)});return}const n=this.createCellEditorParams(e,t),o=this.column.getColDef(),r=this.beans.userComponentFactory.getCellEditorDetails(o,n),l=(r==null?void 0:r.popupFromSelector)!=null?r.popupFromSelector:!!o.cellEditorPopup,a=(r==null?void 0:r.popupPositionFromSelector)!=null?r.popupPositionFromSelector:o.cellEditorPopupPosition;this.setEditing(!0),this.cellComp.setEditDetails(r,l,a);const c=this.createEvent(i,m.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(c)}setEditing(e){this.editing!==e&&(this.editing=e,this.refreshHandle())}stopRowOrCellEdit(e=!1){this.beans.gridOptionsService.get("editType")==="fullRow"?this.rowCtrl.stopRowEditing(e):this.stopEditing(e)}onPopupEditorClosed(){this.isEditing()&&this.stopEditingAndFocus()}takeValueFromCellEditor(e){const t={newValueExists:!1};if(e)return t;const i=this.cellComp.getCellEditor();return!i||i.isCancelAfterEnd&&i.isCancelAfterEnd()?t:{newValue:i.getValue(),newValueExists:!0}}saveNewValue(e,t){if(t===e)return!1;this.suppressRefreshCell=!0;const i=this.rowNode.setDataValue(this.column,t,"edit");return this.suppressRefreshCell=!1,i}stopEditing(e=!1){if(!this.editing)return!1;const{newValue:t,newValueExists:i}=this.takeValueFromCellEditor(e),n=this.rowNode.getValueFromValueService(this.column);let o=!1;return i&&(o=this.saveNewValue(n,t)),this.setEditing(!1),this.cellComp.setEditDetails(),this.updateAndFormatValue(),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(n,t,!e&&!!o),o}dispatchEditingStoppedEvent(e,t,i){const n=Object.assign(Object.assign({},this.createEvent(null,m.EVENT_CELL_EDITING_STOPPED)),{oldValue:e,newValue:t,valueChanged:i});this.beans.eventService.dispatchEvent(n)}createCellEditorParams(e,t){return{value:this.rowNode.getValueFromValueService(this.column),eventKey:e,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsService.api,cellStartedEdit:t,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)}}createCellRendererParams(){return{value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.rowNode.getValueFromValueService(this.column),setValue:t=>this.beans.valueService.setValue(this.rowNode,this.column,t),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(t,i,n,o)=>this.registerRowDragger(t,i,o)}}parseValue(e){return this.beans.valueParserService.parseValue(this.column,this.rowNode,e,this.getValue())}setFocusOutOnEditor(){if(!this.editing)return;const e=this.cellComp.getCellEditor();e&&e.focusOut&&e.focusOut()}setFocusInOnEditor(){if(!this.editing)return;const e=this.cellComp.getCellEditor();e&&e.focusIn?e.focusIn():this.focusCell(!0)}onCellChanged(e){if(!this.cellComp)return;e.column===this.column&&this.refreshCell({})}refreshCell(e){var t,i,n;if(this.suppressRefreshCell||this.editing||!this.cellComp)return;const o=this.column.getColDef(),r=e!=null&&!!e.newData,l=e!=null&&!!e.suppressFlash||!!o.suppressCellFlash,a=o.field==null&&o.valueGetter==null&&o.showRowGroup==null,c=e&&e.forceRefresh||a||r,d=this.updateAndFormatValue();if(c||d){this.showValue(r);const h=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!l&&!h&&(this.beans.gridOptionsService.is("enableCellChangeFlash")||o.enableCellChangeFlash)&&this.flashCell(),(t=this.cellCustomStyleFeature)===null||t===void 0||t.applyUserStyles(),(i=this.cellCustomStyleFeature)===null||i===void 0||i.applyClassesFromColDef()}this.refreshToolTip(),(n=this.cellCustomStyleFeature)===null||n===void 0||n.applyCellClassRules()}stopEditingAndFocus(e=!1,t=!1){this.stopRowOrCellEdit(),this.focusCell(!0),e||this.navigateAfterEdit(t)}navigateAfterEdit(e){if(this.beans.gridOptionsService.is("enterNavigatesVerticallyAfterEdit")){const i=e?$.UP:$.DOWN;this.beans.navigationService.navigateToNextCell(null,i,this.getCellPosition(),!1)}}flashCell(e){const t=e&&e.flashDelay,i=e&&e.fadeDelay;this.animateCell("data-changed",t,i)}animateCell(e,t,i){var n,o;const r=`ag-cell-${e}`,l=`ag-cell-${e}-animation`,{gridOptionsService:a}=this.beans;t||(t=(n=a.getNum("cellFlashDelay"))!==null&&n!==void 0?n:500),Q(i)||(i=(o=a.getNum("cellFadeDelay"))!==null&&o!==void 0?o:1e3),this.cellComp.addOrRemoveCssClass(r,!0),this.cellComp.addOrRemoveCssClass(l,!1),window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(r,!1),this.cellComp.addOrRemoveCssClass(l,!0),this.eGui.style.transition=`background-color ${i}ms`,window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(l,!1),this.eGui.style.transition="")},i))},t)}onFlashCells(e){if(!this.cellComp)return;const t=this.beans.cellPositionUtils.createId(this.getCellPosition());e.cells[t]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(e){const t=this.callValueFormatter(e);return t??e}callValueFormatter(e){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e=!1){const t=this.value,i=this.valueFormatted;return this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value),e?!0:!this.valuesAreEqual(t,this.value)||this.valueFormatted!=i}valuesAreEqual(e,t){const i=this.column.getColDef();return i.equals?i.equals(e,t):e===t}getComp(){return this.cellComp}getValue(){return this.value}getValueFormatted(){return this.valueFormatted}addDomData(){const e=this.getGui();this.beans.gridOptionsService.setDomData(e,ys.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(()=>this.beans.gridOptionsService.setDomData(e,ys.DOM_DATA_KEY_CELL_CTRL,null))}createEvent(e,t){return{type:t,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:e,rowIndex:this.rowNode.rowIndex}}processCharacter(e){var t;(t=this.cellKeyboardListenerFeature)===null||t===void 0||t.processCharacter(e)}onKeyDown(e){var t;(t=this.cellKeyboardListenerFeature)===null||t===void 0||t.onKeyDown(e)}onMouseEvent(e,t){var i;(i=this.cellMouseListenerFeature)===null||i===void 0||i.onMouseEvent(e,t)}getGui(){return this.eGui}refreshToolTip(){var e;(e=this.tooltipFeature)===null||e===void 0||e.refreshToolTip()}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){var e;this.cellComp&&((e=this.cellPositionFeature)===null||e===void 0||e.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&this.setAriaColIndex()}setAriaColIndex(){const e=this.beans.columnModel.getAriaColumnIndex(this.column);If(this.getGui(),e)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){var e;return(e=this.cellPositionFeature)===null||e===void 0?void 0:e.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}getBeans(){return this.beans}isPrintLayout(){return this.printLayout}appendChild(e){this.eGui.appendChild(e)}refreshHandle(){this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(e,t=null){this.cellComp&&(this.beans.gridOptionsService.get("editType")==="fullRow"?this.rowCtrl.startRowEditing(e,this):this.startEditing(e,!0,t))}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onRangeSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}isRangeSelectionEnabled(){return this.cellRangeFeature!=null}focusCell(e=!1){this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:e})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}onFirstRightPinnedChanged(){if(!this.cellComp)return;const e=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(HH,e)}onLastLeftPinnedChanged(){if(!this.cellComp)return;const e=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(kH,e)}onCellFocused(e){if(!this.cellComp||this.beans.gridOptionsService.is("suppressCellFocus"))return;const t=this.beans.focusService.isCellFocused(this.cellPosition);this.cellComp.addOrRemoveCssClass(VH,t),t&&e&&e.forceBrowserFocus&&this.cellComp.getFocusableElement().focus({preventScroll:!!e.preventScrollOnBrowserFocus});const i=this.beans.gridOptionsService.get("editType")==="fullRow";!t&&!i&&this.editing&&this.stopRowOrCellEdit()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:Hn(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass(NH,!0),this.cellComp.addOrRemoveCssClass(BH,!0);const e=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass(xH,e),this.cellComp.addOrRemoveCssClass(GH,!e)}onColumnHover(){if(!this.cellComp||!this.beans.gridOptionsService.is("columnHoverHighlight"))return;const e=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass($H,e)}onColDefChanged(){this.cellComp&&(this.setWrapText(),this.editing||this.refreshCell({forceRefresh:!0,suppressFlash:!0}))}setWrapText(){const e=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(WH,e)}dispatchCellContextMenuEvent(e){const t=this.column.getColDef(),i=this.createEvent(e,m.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(i),t.onCellContextMenu&&window.setTimeout(()=>t.onCellContextMenu(i),0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){const e=new fu;return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=new _S(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(e),e}registerRowDragger(e,t,i){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,t);return}const n=this.createRowDragComp(e,t,i);n&&(this.customRowDragComp=n,this.addDestroyFunc(()=>{this.beans.context.destroyBean(n),this.customRowDragComp=null}))}createRowDragComp(e,t,i){const n=this.beans.gridOptionsService.is("pagination"),o=this.beans.gridOptionsService.is("rowDragManaged"),r=this.beans.gridOptionsService.isRowModelType("clientSide");if(o){if(!r){st(()=>console.warn("AG Grid: managed row dragging is only allowed in the Client Side Row Model"),"CellComp.addRowDragging");return}if(n){st(()=>console.warn("AG Grid: managed row dragging is not possible when doing pagination"),"CellComp.addRowDragging");return}}const l=new _o(()=>this.value,this.rowNode,this.column,e,t,i);return this.beans.context.createBean(l),l}}ys.DOM_DATA_KEY_CELL_CTRL="cellCtrl";var pi;(function(s){s.Normal="Normal",s.FullWidth="FullWidth",s.FullWidthLoading="FullWidthLoading",s.FullWidthGroup="FullWidthGroup",s.FullWidthDetail="FullWidthDetail"})(pi||(pi={}));let jH=0;class ws extends ee{constructor(e,t,i,n,o){super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.lastMouseDownOnDragger=!1,this.updateColumnListsPending=!1,this.businessKeySanitised=null,this.beans=t,this.gridOptionsService=t.gridOptionsService,this.rowNode=e,this.paginationPage=t.paginationProxy.getCurrentPage(),this.useAnimationFrameForCreate=n,this.printLayout=o,this.instanceId=e.id+"-"+jH++,this.setAnimateFlags(i),this.initRowBusinessKey(),this.rowFocused=t.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=t.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gridOptionsService.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=js(e)}isSticky(){return this.rowNode.sticky}getBeans(){return this.beans}getInstanceId(){return this.instanceId}setComp(e,t,i){const n={rowComp:e,element:t,containerType:i};this.allRowGuis.push(n),i===Qt.LEFT?this.leftGui=n:i===Qt.RIGHT?this.rightGui=n:i===Qt.FULL_WIDTH?this.fullWidthGui=n:this.centerGui=n,this.initialiseRowComp(n),this.rowType!=="FullWidthLoading"&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),e===Qt.LEFT?this.leftGui=void 0:e===Qt.RIGHT?this.rightGui=void 0:e===Qt.FULL_WIDTH&&(this.fullWidthGui=void 0)}isCacheable(){return this.rowType===pi.FullWidthDetail&&this.gridOptionsService.is("keepDetailRows")}setCached(e){const t=e?"none":"";this.allRowGuis.forEach(i=>i.element.style.display=t)}initialiseRowComp(e){const t=this.gridOptionsService;this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(e),t.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);const i=e.rowComp;i.setRole("row"),this.getInitialRowClasses(e.containerType).forEach(o=>i.addOrRemoveCssClass(o,!0)),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&fs(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(i),this.setRowCompRowBusinessKey(i),this.isFullWidth()&&!this.gridOptionsService.is("suppressCellFocus")&&i.setTabIndex(-1),t.setDomData(e.element,ws.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc(()=>t.setDomData(e.element,ws.DOM_DATA_KEY_ROW_CTRL,null)),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,e.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(e.element),this.isFullWidth()&&this.setupFullWidth(e),t.is("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(()=>{this.isAlive()&&e.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKeySanitised!=null&&e.setRowBusinessKey(this.businessKeySanitised)}setRowCompRowId(e){const t=js(this.rowNode.id);t!=null&&e.setRowId(t)}executeSlideAndFadeAnimations(e){const{containerType:t}=e;this.slideInAnimation[t]&&(pp(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1),this.fadeInAnimation[t]&&(pp(()=>{e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){if(this.gridOptionsService.isEnableRangeSelection()){st(()=>{console.warn("AG Grid: Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`")},"rowDragAndRangeSelectionEnabled");return}const t=this.beans.localeService.getLocaleTextFunc(),i=new _o(()=>`1 ${t("rowDragRow","row")}`,this.rowNode,void 0,e.element,void 0,!0);this.createManagedBean(i,this.beans.context)}setupFullWidth(e){const t=this.getPinnedForContainer(e.containerType),i=this.createFullWidthParams(e.element,t);if(this.rowType==pi.FullWidthDetail&&!me.__assertRegistered(Ee.MasterDetailModule,"cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId()))return;let n;switch(this.rowType){case pi.FullWidthDetail:n=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(i);break;case pi.FullWidthGroup:n=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(i);break;case pi.FullWidthLoading:n=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(i);break;default:n=this.beans.userComponentFactory.getFullWidthCellRendererDetails(i);break}e.rowComp.showFullWidth(n)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderer(){var e,t;return(t=(e=this.fullWidthGui)===null||e===void 0?void 0:e.rowComp)===null||t===void 0?void 0:t.getFullWidthCellRenderer()}getCellElement(e){const t=this.getCellCtrl(e);return t?t.getGui():null}executeProcessRowPostCreateFunc(){var e;const t=this.gridOptionsService.getCallback("processRowPostCreate");if(!t||!this.areAllContainersReady())return;const i={eRow:(e=this.centerGui)===null||e===void 0?void 0:e.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};t(i)}areAllContainersReady(){const e=!!this.leftGui||!this.beans.columnModel.isPinningLeft(),t=!!this.centerGui,i=!!this.rightGui||!this.beans.columnModel.isPinningRight();return e&&t&&i}setRowType(){const e=this.rowNode.stub,t=this.rowNode.isFullWidthCell(),i=this.beans.doingMasterDetail&&this.rowNode.detail,n=this.beans.columnModel.isPivotMode(),r=!!this.rowNode.group&&!this.rowNode.footer&&this.gridOptionsService.isGroupUseEntireRow(n);e?this.rowType=pi.FullWidthLoading:i?this.rowType=pi.FullWidthDetail:t?this.rowType=pi.FullWidth:r?this.rowType=pi.FullWidthGroup:this.rowType=pi.Normal}updateColumnLists(e=!1,t=!1){if(this.isFullWidth())return;if(e||this.gridOptionsService.is("suppressAnimationFrame")||this.printLayout){this.updateColumnListsImpl(t);return}this.updateColumnListsPending||(this.beans.animationFrameService.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}createCellCtrls(e,t,i=null){const n={list:[],map:{}},o=(r,l)=>{n.list.push(l),n.map[r]=l};return t.forEach(r=>{const l=r.getInstanceId();let a=e.map[l];a||(a=new ys(r,this.rowNode,this.beans,this)),o(l,a)}),e.list.forEach(r=>{if(n.map[r.getColumn().getInstanceId()]!=null)return;if(!this.isCellEligibleToBeRemoved(r,i)){o(r.getColumn().getInstanceId(),r);return}r.destroy()}),n}updateColumnListsImpl(e=!1){this.updateColumnListsPending=!1;const t=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const i=t.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,i);const n=t.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,n,"left");const o=t.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,o,"right")}this.allRowGuis.forEach(i=>{const n=i.containerType===Qt.LEFT?this.leftCellCtrls:i.containerType===Qt.RIGHT?this.rightCellCtrls:this.centerCellCtrls;i.rowComp.setCellCtrls(n.list,e)})}isCellEligibleToBeRemoved(e,t){if(e.getColumn().getPinned()!=t)return!0;const r=e.isEditing(),l=this.beans.focusService.isCellFocused(e.getCellPosition());if(r||l){const c=e.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(c)>=0)}return!0}listenOnDomOrder(e){const t=()=>{const i=this.gridOptionsService.is("ensureDomOrder"),n=this.gridOptionsService.isDomLayout("print");e.rowComp.setDomOrder(i||n)};this.addManagedPropertyListener("domLayout",t),t()}setAnimateFlags(e){if(this.isSticky()||!e)return;const t=Q(this.rowNode.oldRowTop),i=this.beans.columnModel.isPinningLeft(),n=this.beans.columnModel.isPinningRight();t?(this.slideInAnimation.center=!0,this.slideInAnimation.left=i,this.slideInAnimation.right=n):(this.fadeInAnimation.center=!0,this.fadeInAnimation.left=i,this.fadeInAnimation.right=n)}isEditing(){return this.editingRow}stopRowEditing(e){this.stopEditing(e)}isFullWidth(){return this.rowType!==pi.Normal}getRowType(){return this.rowType}refreshFullWidth(){const e=(l,a)=>{if(!l)return!0;const c=l.rowComp.getFullWidthCellRenderer();if(!c||!c.refresh)return!1;const d=this.createFullWidthParams(l.element,a);return c.refresh(d)},t=e(this.fullWidthGui,null),i=e(this.centerGui,null),n=e(this.leftGui,"left"),o=e(this.rightGui,"right");return t&&i&&n&&o}addListeners(){this.addManagedListener(this.rowNode,pe.EVENT_HEIGHT_CHANGED,()=>this.onRowHeightChanged()),this.addManagedListener(this.rowNode,pe.EVENT_ROW_SELECTED,()=>this.onRowSelected()),this.addManagedListener(this.rowNode,pe.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,pe.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,pe.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,pe.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,pe.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,pe.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,pe.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,pe.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,pe.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));const e=this.beans.eventService;this.addManagedListener(e,m.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(e,m.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(e,m.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(e,m.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(e,m.EVENT_CELL_FOCUSED,this.onCellFocused.bind(this)),this.addManagedListener(e,m.EVENT_CELL_FOCUS_CLEARED,this.onCellFocusCleared.bind(this)),this.addManagedListener(e,m.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(e,m.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(e,m.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()}onColumnMoved(){this.updateColumnLists()}addListenersForCellComps(){this.addManagedListener(this.rowNode,pe.EVENT_ROW_INDEX_CHANGED,()=>{this.getAllCellCtrls().forEach(e=>e.onRowIndexChanged())}),this.addManagedListener(this.rowNode,pe.EVENT_CELL_CHANGED,e=>{this.getAllCellCtrls().forEach(t=>t.onCellChanged(e))})}onRowNodeDataChanged(e){if(this.rowNode.detailNode&&this.beans.rowRenderer.refreshFullWidthRow(this.rowNode.detailNode),this.isFullWidth()){this.beans.rowRenderer.refreshFullWidthRow(this.rowNode);return}this.getAllCellCtrls().forEach(t=>t.refreshCell({suppressFlash:!e.update,newData:!e.update})),this.allRowGuis.forEach(t=>{this.setRowCompRowId(t.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(t.rowComp)}),this.onRowSelected(),this.postProcessCss()}onRowNodeCellChanged(){this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.rowNode.highlighted;this.allRowGuis.forEach(t=>{const i=e===un.Above,n=e===un.Below;t.rowComp.addOrRemoveCssClass("ag-row-highlight-above",i),t.rowComp.addOrRemoveCssClass("ag-row-highlight-below",n)})}onRowNodeDraggingChanged(){this.postProcessRowDragging()}postProcessRowDragging(){const e=this.rowNode.dragging;this.allRowGuis.forEach(t=>t.rowComp.addOrRemoveCssClass("ag-row-dragging",e))}updateExpandedCss(){const e=this.rowNode.isExpandable(),t=this.rowNode.expanded==!0;this.allRowGuis.forEach(i=>{i.rowComp.addOrRemoveCssClass("ag-row-group",e),i.rowComp.addOrRemoveCssClass("ag-row-group-expanded",e&&t),i.rowComp.addOrRemoveCssClass("ag-row-group-contracted",e&&!t),fs(i.element,e&&t)})}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:Hn(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){const t=this.allRowGuis.find(a=>a.element.contains(e.target));if(!((t?t.element:null)===e.target))return;const o=this.rowNode,r=this.beans.focusService.getFocusedCell(),l={rowIndex:o.rowIndex,rowPinned:o.rowPinned,column:r&&r.column};this.beans.navigationService.navigateToNextCell(e,e.key,l,!0),e.preventDefault()}onTabKeyDown(e){if(e.defaultPrevented||ks(e))return;const t=this.allRowGuis.find(r=>r.element.contains(e.target)),i=t?t.element:null,n=i===e.target;let o=null;n||(o=this.beans.focusService.findNextFocusableElement(i,!1,e.shiftKey)),(this.isFullWidth()&&n||!o)&&this.beans.navigationService.onTabKeyDown(this,e)}onFullWidthRowFocused(e){var t;const i=this.rowNode,n=e?this.isFullWidth()&&e.rowIndex===i.rowIndex&&e.rowPinned==i.rowPinned:!1,o=this.fullWidthGui?this.fullWidthGui.element:(t=this.centerGui)===null||t===void 0?void 0:t.element;o&&(o.classList.toggle("ag-full-width-focus",n),n&&o.focus({preventScroll:!0}))}refreshCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),this.updateColumnLists()}removeCellCtrl(e,t){const i={list:[],map:{}};return e.list.forEach(n=>{n!==t&&(i.list.push(n),i.map[n.getInstanceId()]=n)}),i}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t);break}}createRowEvent(e,t){return{type:e,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.gridOptionsService.context,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,event:t}}createRowEventWithSource(e,t){const i=this.createRowEvent(e,t);return i.source=this,i}onRowDblClick(e){if(ks(e))return;const t=this.createRowEventWithSource(m.EVENT_ROW_DOUBLE_CLICKED,e);this.beans.eventService.dispatchEvent(t)}onRowMouseDown(e){if(this.lastMouseDownOnDragger=Eo(e.target,"ag-row-drag",3),!this.isFullWidth())return;const t=this.rowNode,i=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:t.rowIndex,column:i.getAllDisplayedColumns()[0],rowPinned:t.rowPinned,forceBrowserFocus:!0})}onRowClick(e){if(ks(e)||this.lastMouseDownOnDragger)return;const i=this.createRowEventWithSource(m.EVENT_ROW_CLICKED,e);this.beans.eventService.dispatchEvent(i);const n=e.ctrlKey||e.metaKey,o=e.shiftKey;if(this.gridOptionsService.is("groupSelectsChildren")&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.gridOptionsService.isRowSelection()||this.gridOptionsService.is("suppressRowClickSelection"))return;const l=this.gridOptionsService.is("rowMultiSelectWithClick"),a=!this.gridOptionsService.is("suppressRowDeselection"),c="rowClicked";if(this.rowNode.isSelected())l?this.rowNode.setSelectedParams({newValue:!1,event:e,source:c}):n?a&&this.rowNode.setSelectedParams({newValue:!1,event:e,source:c}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!o,rangeSelect:o,event:e,source:c});else{const d=l?!1:!n;this.rowNode.setSelectedParams({newValue:!0,clearSelection:d,rangeSelect:o,event:e,source:c})}}setupDetailRowAutoHeight(e){if(this.rowType!==pi.FullWidthDetail||!this.gridOptionsService.is("detailRowAutoHeight"))return;const t=()=>{const n=e.clientHeight;if(n!=null&&n>0){const o=()=>{this.rowNode.setRowHeight(n),this.beans.clientSideRowModel?this.beans.clientSideRowModel.onRowHeightChanged():this.beans.serverSideRowModel&&this.beans.serverSideRowModel.onRowHeightChanged()};this.beans.frameworkOverrides.setTimeout(o,0)}},i=this.beans.resizeObserverService.observeResize(e,t);this.addDestroyFunc(i),t()}createFullWidthParams(e,t){return{fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(n,o,r,l)=>this.addFullWidthRowDragging(n,o,r,l)}}addFullWidthRowDragging(e,t,i="",n){if(!this.isFullWidth())return;const o=new _o(()=>i,this.rowNode,void 0,e,t,n);this.createManagedBean(o,this.beans.context)}onUiLevelChanged(){const e=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=e){const t="ag-row-level-"+e,i="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(n=>{n.rowComp.addOrRemoveCssClass(t,!0),n.rowComp.addOrRemoveCssClass(i,!1)})}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()}onModelUpdated(){this.refreshFirstAndLastRowStyles()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-row-first",e))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-row-last",t)))}stopEditing(e=!1){if(this.stoppingRowEdit)return;const t=this.getAllCellCtrls(),i=this.editingRow;this.stoppingRowEdit=!0;let n=!1;for(const o of t){const r=o.stopEditing(e);i&&!e&&!n&&r&&(n=!0)}if(n){const o=this.createRowEvent(m.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(o)}i&&this.setEditingRow(!1),this.stoppingRowEdit=!1}setInlineEditingCss(e){this.allRowGuis.forEach(t=>{t.rowComp.addOrRemoveCssClass("ag-row-inline-editing",e),t.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!e)})}setEditingRow(e){this.editingRow=e,this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-row-editing",e));const t=e?this.createRowEvent(m.EVENT_ROW_EDITING_STARTED):this.createRowEvent(m.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(t)}startRowEditing(e=null,t=null,i=null){if(this.editingRow)return;this.getAllCellCtrls().reduce((o,r)=>{const l=r===t;return l?r.startEditing(e,l,i):r.startEditing(null,l,i),o?!0:r.isEditing()},!1)&&this.setEditingRow(!0)}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const e=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!e||!e.length||e.forEach(t=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(t,!0))})}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,e=>{this.allRowGuis.forEach(t=>t.rowComp.addOrRemoveCssClass(e,!0))},e=>{this.allRowGuis.forEach(t=>t.rowComp.addOrRemoveCssClass(e,!1))})}setStylesFromGridOptions(e){const t=this.processStylesFromGridOptions();this.forEachGui(e,i=>i.rowComp.setUserStyles(t))}getPinnedForContainer(e){return e===Qt.LEFT?"left":e===Qt.RIGHT?"right":null}getInitialRowClasses(e){const t=this.getPinnedForContainer(e),i={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[e],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:t};return this.beans.rowCssClassCalculator.getInitialRowClasses(i)}processStylesFromGridOptions(){const e=this.gridOptionsService.get("rowStyle");if(e&&typeof e=="function"){console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");return}const t=this.gridOptionsService.getCallback("getRowStyle");let i;if(t){const n={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};i=t(n)}return Object.assign({},e,i)}onRowSelected(e){const t=!!this.rowNode.isSelected();this.forEachGui(e,i=>{i.rowComp.addOrRemoveCssClass("ag-row-selected",t),Rr(i.element,t?!0:void 0);const n=this.createAriaLabel();Qn(i.element,n??"")})}createAriaLabel(){const e=this.rowNode.isSelected();return e&&this.gridOptionsService.is("suppressRowDeselection")?void 0:this.beans.localeService.getLocaleTextFunc()(e?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${e?"deselect":"select"} this row.`)}isUseAnimationFrameForCreate(){return this.useAnimationFrameForCreate}addHoverFunctionality(e){this.active&&(this.addManagedListener(e,"mouseenter",()=>this.rowNode.onMouseEnter()),this.addManagedListener(e,"mouseleave",()=>this.rowNode.onMouseLeave()),this.addManagedListener(this.rowNode,pe.EVENT_MOUSE_ENTER,()=>{!this.beans.dragService.isDragging()&&!this.gridOptionsService.is("suppressRowHoverHighlight")&&(e.classList.add("ag-row-hover"),this.rowNode.setHovered(!0))}),this.addManagedListener(this.rowNode,pe.EVENT_MOUSE_LEAVE,()=>{e.classList.remove("ag-row-hover"),this.rowNode.setHovered(!1)}))}roundRowTopToBounds(e){const i=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.applyPaginationOffset(i.top,!0)-100,o=this.applyPaginationOffset(i.bottom,!0)+100;return Math.min(Math.max(n,e),o)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(e,t){(e?[e]:this.allRowGuis).forEach(t)}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;const t=this.rowNode.rowHeight,i=this.beans.environment.getDefaultRowHeight(),o=this.gridOptionsService.isGetRowHeightFunction()?this.gridOptionsService.getRowHeightForNode(this.rowNode).height:void 0,r=o?`${Math.min(i,o)-2}px`:void 0;this.forEachGui(e,l=>{l.element.style.height=`${t}px`,r&&l.element.style.setProperty("--ag-line-height",r)})}addEventListener(e,t){super.addEventListener(e,t)}removeEventListener(e,t){super.removeEventListener(e,t)}destroyFirstPass(){this.active=!1,this.gridOptionsService.isAnimateRows()&&this.setupRemoveAnimation(),this.rowNode.setHovered(!1);const e=this.createRowEvent(m.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(e),this.beans.eventService.dispatchEvent(e),super.destroy()}setupRemoveAnimation(){if(this.isSticky())return;if(this.rowNode.rowTop!=null){const t=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(t)}else this.allRowGuis.forEach(t=>t.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0))}destroySecondPass(){this.allRowGuis.length=0;const e=t=>(t.list.forEach(i=>i.destroy()),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,t=>{t.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),t.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocused(){this.onCellFocusChanged()}onCellFocusCleared(){this.onCellFocusChanged()}onCellFocusChanged(){const e=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);e!==this.rowFocused&&(this.rowFocused=e,this.setFocusedClasses()),!e&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){const e=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,t=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;const i=this.beans.paginationProxy.getPixelOffset();return e+i*(t?1:-1)}setRowTop(e){if(!this.printLayout&&Q(e)){const t=this.applyPaginationOffset(e),o=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeightService.getRealPixelPosition(t)}px`;this.setRowTopStyle(o)}}getInitialRowTop(e){return this.gridOptionsService.is("suppressRowTransform")?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.gridOptionsService.is("suppressRowTransform")?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";let t;if(this.isSticky())t=this.rowNode.stickyRowTop;else{const i=this.slideInAnimation[e]?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,n=this.applyPaginationOffset(i);t=this.rowNode.isRowPinned()?n:this.beans.rowContainerHeightService.getRealPixelPosition(n)}return t+"px"}setRowTopStyle(e){const t=this.gridOptionsService.is("suppressRowTransform");this.allRowGuis.forEach(i=>t?i.rowComp.setTop(e):i.rowComp.setTransform(`translateY(${e})`))}getRowNode(){return this.rowNode}getCellCtrl(e){let t=null;return this.getAllCellCtrls().forEach(i=>{i.getColumn()==e&&(t=i)}),t!=null||this.getAllCellCtrls().forEach(i=>{i.getColSpanningList().indexOf(e)>=0&&(t=i)}),t}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(e){const t=this.rowNode.getRowIndexString(),i=this.beans.headerNavigationService.getHeaderRowCount(),n=this.rowNode.rowIndex%2===0,o=i+this.rowNode.rowIndex+1;this.forEachGui(e,r=>{r.rowComp.setRowIndex(t),r.rowComp.addOrRemoveCssClass("ag-row-even",n),r.rowComp.addOrRemoveCssClass("ag-row-odd",!n),Lf(r.element,o)})}getPinnedLeftRowElement(){return this.leftGui?this.leftGui.element:void 0}getPinnedRightRowElement(){return this.rightGui?this.rightGui.element:void 0}getBodyRowElement(){return this.centerGui?this.centerGui.element:void 0}getFullWidthRowElement(){return this.fullWidthGui?this.fullWidthGui.element:void 0}}ws.DOM_DATA_KEY_ROW_CTRL="renderedRow";var Ui=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class Ri extends ee{constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedListener(this.element,e,t)}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",Df("touchstart")?"touchstart":"mousedown"].forEach(i=>{const n=this.processMouseEvent.bind(this,i);this.addManagedListener(this.element,i,n)})}processMouseEvent(e,t){if(!this.mouseEventService.isEventFromThisGrid(t)||ks(t))return;const i=this.getRowForEvent(t),n=this.mouseEventService.getRenderedCellForEvent(t);e==="contextmenu"?this.handleContextMenuMouseEvent(t,null,i,n):(n&&n.onMouseEvent(e,t),i&&i.onMouseEvent(e,t))}mockContextMenuForIPad(){if(!Xn())return;const e=new Dt(this.element),t=i=>{const n=this.getRowForEvent(i.touchEvent),o=this.mouseEventService.getRenderedCellForEvent(i.touchEvent);this.handleContextMenuMouseEvent(null,i.touchEvent,n,o)};this.addManagedListener(e,Dt.EVENT_LONG_TAP,t),this.addDestroyFunc(()=>e.destroy())}getRowForEvent(e){let t=e.target;for(;t;){const i=this.gridOptionsService.getDomData(t,ws.DOM_DATA_KEY_ROW_CTRL);if(i)return i;t=t.parentElement}return null}handleContextMenuMouseEvent(e,t,i,n){const o=i?i.getRowNode():null,r=n?n.getColumn():null;let l=null;if(r){const d=e||t;n.dispatchCellContextMenuEvent(d),l=this.valueService.getValue(r,o)}const a=this.ctrlsService.getGridBodyCtrl(),c=n?n.getGui():a.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(e,t,o,r,l,c)}getControlsForEventTarget(e){return{cellCtrl:cd(this.gridOptionsService,e,ys.DOM_DATA_KEY_CELL_CTRL),rowCtrl:cd(this.gridOptionsService,e,ws.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(e,t){const{cellCtrl:i,rowCtrl:n}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(i?this.processCellKeyboardEvent(i,e,t):n&&n.isFullWidth()&&this.processFullWidthRowKeyboardEvent(n,e,t))}processCellKeyboardEvent(e,t,i){const n=e.getRowNode(),o=e.getColumn(),r=e.isEditing();if(!pd(this.gridOptionsService,i,n,o,r)&&t==="keydown"&&(!r&&this.navigationService.handlePageScrollingKey(i)||e.onKeyDown(i),this.doGridOperations(i,e.isEditing()),Yf(i)&&e.processCharacter(i)),t==="keydown"){const a=e.createEvent(i,m.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(a)}}processFullWidthRowKeyboardEvent(e,t,i){const n=e.getRowNode(),o=this.focusService.getFocusedCell(),r=o&&o.column;if(!pd(this.gridOptionsService,i,n,r,!1)){const a=i.key;if(t==="keydown")switch(a){case $.PAGE_HOME:case $.PAGE_END:case $.PAGE_UP:case $.PAGE_DOWN:this.navigationService.handlePageScrollingKey(i,!0);break;case $.UP:case $.DOWN:e.onKeyboardNavigate(i);break;case $.TAB:e.onTabKeyDown(i);break}}if(t==="keydown"){const a=e.createRowEvent(m.EVENT_CELL_KEY_DOWN,i);this.eventService.dispatchEvent(a)}}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!this.mouseEventService.isEventFromThisGrid(e))return;const i=Xw(e);if(i===$.A)return this.onCtrlAndA(e);if(i===$.C)return this.onCtrlAndC(e);if(i===$.D)return this.onCtrlAndD(e);if(i===$.V)return this.onCtrlAndV(e);if(i===$.X)return this.onCtrlAndX(e);if(i===$.Y)return this.onCtrlAndY();if(i===$.Z)return this.onCtrlAndZ(e)}onCtrlAndA(e){const{pinnedRowModel:t,paginationProxy:i,rangeService:n}=this;if(n&&i.isRowsToRender()){const[o,r]=[t.isEmpty("top"),t.isEmpty("bottom")],l=o?null:"top";let a,c;r?(a=null,c=this.paginationProxy.getRowCount()-1):(a="bottom",c=t.getPinnedBottomRowData().length-1);const d=this.columnModel.getAllDisplayedColumns();if(Ai(d))return;n.setCellRange({rowStartIndex:0,rowStartPinned:l,rowEndIndex:c,rowEndPinned:a,columnStart:d[0],columnEnd:ft(d)})}e.preventDefault()}onCtrlAndC(e){if(!this.clipboardService||this.gridOptionsService.is("enableCellTextSelection"))return;const{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||i!=null&&i.isEditing()||(e.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(e){if(!this.clipboardService||this.gridOptionsService.is("enableCellTextSelection")||this.gridOptionsService.is("suppressCutToClipboard"))return;const{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||i!=null&&i.isEditing()||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(e){const{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||i!=null&&i.isEditing()||this.clipboardService&&!this.gridOptionsService.is("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(e){this.clipboardService&&!this.gridOptionsService.is("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()}onCtrlAndZ(e){this.gridOptionsService.is("undoRedoCellEditing")&&(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){this.undoRedoService.redo("ui")}}Ui([y("mouseEventService")],Ri.prototype,"mouseEventService",void 0);Ui([y("valueService")],Ri.prototype,"valueService",void 0);Ui([ht("contextMenuFactory")],Ri.prototype,"contextMenuFactory",void 0);Ui([y("ctrlsService")],Ri.prototype,"ctrlsService",void 0);Ui([y("navigationService")],Ri.prototype,"navigationService",void 0);Ui([y("focusService")],Ri.prototype,"focusService",void 0);Ui([y("undoRedoService")],Ri.prototype,"undoRedoService",void 0);Ui([y("columnModel")],Ri.prototype,"columnModel",void 0);Ui([y("paginationProxy")],Ri.prototype,"paginationProxy",void 0);Ui([y("pinnedRowModel")],Ri.prototype,"pinnedRowModel",void 0);Ui([ht("rangeService")],Ri.prototype,"rangeService",void 0);Ui([ht("clipboardService")],Ri.prototype,"clipboardService",void 0);Ui([de],Ri.prototype,"postConstruct",null);var mu=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class Ya extends ee{constructor(e){super(),this.centerContainerCtrl=e}postConstruct(){this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl(),this.listenForResize()}),this.addManagedListener(this.eventService,m.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))}listenForResize(){const e=()=>this.onCenterViewportResized();this.centerContainerCtrl.registerViewportResizeListener(e),this.gridBodyCtrl.registerBodyViewportResizeListener(e)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.centerContainerCtrl.isViewportVisible()){this.checkViewportAndScrolls();const e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.getBodyViewportElement(),t=Ma(e);if(this.bodyHeight!==t){this.bodyHeight=t;const i={type:m.EVENT_BODY_HEIGHT_CHANGED};this.eventService.dispatchEvent(i)}}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(e,t)}}mu([y("ctrlsService")],Ya.prototype,"ctrlsService",void 0);mu([y("columnModel")],Ya.prototype,"columnModel",void 0);mu([y("scrollVisibleService")],Ya.prototype,"scrollVisibleService",void 0);mu([de],Ya.prototype,"postConstruct",null);var PS=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class gg extends ee{constructor(e){super(),this.element=e}postConstruct(){this.addManagedListener(this.eventService,m.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))}onPinnedLeftWidthChanged(){const e=this.pinnedWidthService.getPinnedLeftWidth(),t=e>0;Je(this.element,t),ts(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}}PS([y("pinnedWidthService")],gg.prototype,"pinnedWidthService",void 0);PS([de],gg.prototype,"postConstruct",null);var AS=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class mg extends ee{constructor(e){super(),this.element=e}postConstruct(){this.addManagedListener(this.eventService,m.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))}onPinnedRightWidthChanged(){const e=this.pinnedWidthService.getPinnedRightWidth(),t=e>0;Je(this.element,t),ts(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}}AS([y("pinnedWidthService")],mg.prototype,"pinnedWidthService",void 0);AS([de],mg.prototype,"postConstruct",null);var FS=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class vu extends ee{constructor(e,t){super(),this.eContainer=e,this.eWrapper=t}postConstruct(){this.addManagedListener(this.eventService,m.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))}onHeightChanged(){const e=this.maxDivHeightScaler.getUiContainerHeight(),t=e!=null?`${e}px`:"";this.eContainer.style.height=t,this.eWrapper&&(this.eWrapper.style.height=t)}}FS([y("rowContainerHeightService")],vu.prototype,"maxDivHeightScaler",void 0);FS([de],vu.prototype,"postConstruct",null);var vg=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class Cu extends ee{constructor(e){super(),this.eContainer=e}postConstruct(){if(!this.gridOptionsService.isEnableRangeSelection()||Le(this.rangeService))return;const e={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)};this.dragService.addDragSource(e),this.addDestroyFunc(()=>this.dragService.removeDragSource(e))}}vg([ht("rangeService")],Cu.prototype,"rangeService",void 0);vg([y("dragService")],Cu.prototype,"dragService",void 0);vg([de],Cu.prototype,"postConstruct",null);var Cg=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class Jr extends ee{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedListener(this.eventService,m.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,m.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,m.EVENT_LEFT_PINNED_WIDTH_CHANGED,e),this.addSpacer&&(this.addManagedListener(this.eventService,m.EVENT_RIGHT_PINNED_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,m.EVENT_SCROLL_VISIBILITY_CHANGED,e),this.addManagedListener(this.eventService,m.EVENT_SCROLLBAR_WIDTH_CHANGED,e)),this.setWidth()}setWidth(){const{columnModel:e}=this,t=this.gridOptionsService.isDomLayout("print"),i=e.getBodyContainerWidth(),n=e.getDisplayedColumnsLeftWidth(),o=e.getDisplayedColumnsRightWidth();let r;t?r=i+n+o:(r=i,this.addSpacer&&(this.gridOptionsService.is("enableRtl")?n:o)===0&&this.scrollVisibleService.isVerticalScrollShowing()&&(r+=this.gridOptionsService.getScrollbarWidth())),this.callback(r)}}Cg([y("columnModel")],Jr.prototype,"columnModel",void 0);Cg([y("scrollVisibleService")],Jr.prototype,"scrollVisibleService",void 0);Cg([de],Jr.prototype,"postConstruct",null);var to=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},j;(function(s){s.LEFT="left",s.RIGHT="right",s.CENTER="center",s.FULL_WIDTH="fullWidth",s.TOP_LEFT="topLeft",s.TOP_RIGHT="topRight",s.TOP_CENTER="topCenter",s.TOP_FULL_WIDTH="topFullWidth",s.STICKY_TOP_LEFT="stickyTopLeft",s.STICKY_TOP_RIGHT="stickyTopRight",s.STICKY_TOP_CENTER="stickyTopCenter",s.STICKY_TOP_FULL_WIDTH="stickyTopFullWidth",s.BOTTOM_LEFT="bottomLeft",s.BOTTOM_RIGHT="bottomRight",s.BOTTOM_CENTER="bottomCenter",s.BOTTOM_FULL_WIDTH="bottomFullWidth"})(j||(j={}));var Qt;(function(s){s.LEFT="left",s.RIGHT="right",s.CENTER="center",s.FULL_WIDTH="fullWidth"})(Qt||(Qt={}));function zH(s){switch(s){case j.CENTER:case j.TOP_CENTER:case j.STICKY_TOP_CENTER:case j.BOTTOM_CENTER:return Qt.CENTER;case j.LEFT:case j.TOP_LEFT:case j.STICKY_TOP_LEFT:case j.BOTTOM_LEFT:return Qt.LEFT;case j.RIGHT:case j.TOP_RIGHT:case j.STICKY_TOP_RIGHT:case j.BOTTOM_RIGHT:return Qt.RIGHT;case j.FULL_WIDTH:case j.TOP_FULL_WIDTH:case j.STICKY_TOP_FULL_WIDTH:case j.BOTTOM_FULL_WIDTH:return Qt.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}const KH=an([[j.CENTER,"ag-center-cols-container"],[j.LEFT,"ag-pinned-left-cols-container"],[j.RIGHT,"ag-pinned-right-cols-container"],[j.FULL_WIDTH,"ag-full-width-container"],[j.TOP_CENTER,"ag-floating-top-container"],[j.TOP_LEFT,"ag-pinned-left-floating-top"],[j.TOP_RIGHT,"ag-pinned-right-floating-top"],[j.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[j.STICKY_TOP_CENTER,"ag-sticky-top-container"],[j.STICKY_TOP_LEFT,"ag-pinned-left-sticky-top"],[j.STICKY_TOP_RIGHT,"ag-pinned-right-sticky-top"],[j.STICKY_TOP_FULL_WIDTH,"ag-sticky-top-full-width-container"],[j.BOTTOM_CENTER,"ag-floating-bottom-container"],[j.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[j.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[j.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),YH=an([[j.CENTER,"ag-center-cols-viewport"],[j.TOP_CENTER,"ag-floating-top-viewport"],[j.STICKY_TOP_CENTER,"ag-sticky-top-viewport"],[j.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),qH=an([[j.CENTER,"ag-center-cols-clipper"]]);class as extends ee{constructor(e){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=e,this.isFullWithContainer=this.name===j.TOP_FULL_WIDTH||this.name===j.STICKY_TOP_FULL_WIDTH||this.name===j.BOTTOM_FULL_WIDTH||this.name===j.FULL_WIDTH}static getRowContainerCssClasses(e){const t=KH.get(e),i=YH.get(e),n=qH.get(e);return{container:t,viewport:i,wrapper:n}}static getPinned(e){switch(e){case j.BOTTOM_LEFT:case j.TOP_LEFT:case j.STICKY_TOP_LEFT:case j.LEFT:return"left";case j.BOTTOM_RIGHT:case j.TOP_RIGHT:case j.STICKY_TOP_RIGHT:case j.RIGHT:return"right";default:return null}}postConstruct(){this.enableRtl=this.gridOptionsService.is("enableRtl"),this.embedFullWidthRows=this.gridOptionsService.is("embedFullWidthRows"),this.forContainers([j.CENTER],()=>this.viewportSizeFeature=this.createManagedBean(new Ya(this)))}registerWithCtrlsService(){switch(this.name){case j.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case j.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case j.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case j.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case j.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case j.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case j.STICKY_TOP_CENTER:this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case j.STICKY_TOP_LEFT:this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case j.STICKY_TOP_RIGHT:this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case j.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case j.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case j.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this);break}}forContainers(e,t){e.indexOf(this.name)>=0&&t()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(e,t,i,n){this.comp=e,this.eContainer=t,this.eViewport=i,this.eWrapper=n,this.createManagedBean(new Ri(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();const o=[j.TOP_CENTER,j.TOP_LEFT,j.TOP_RIGHT],r=[j.STICKY_TOP_CENTER,j.STICKY_TOP_LEFT,j.STICKY_TOP_RIGHT],l=[j.BOTTOM_CENTER,j.BOTTOM_LEFT,j.BOTTOM_RIGHT],a=[j.CENTER,j.LEFT,j.RIGHT],c=[...o,...l,...a,...r],d=[j.CENTER,j.LEFT,j.RIGHT,j.FULL_WIDTH],u=[j.CENTER,j.TOP_CENTER,j.STICKY_TOP_CENTER,j.BOTTOM_CENTER],h=[j.LEFT,j.BOTTOM_LEFT,j.TOP_LEFT,j.STICKY_TOP_LEFT],p=[j.RIGHT,j.BOTTOM_RIGHT,j.TOP_RIGHT,j.STICKY_TOP_RIGHT];this.forContainers(h,()=>{this.pinnedWidthFeature=this.createManagedBean(new gg(this.eContainer)),this.addManagedListener(this.eventService,m.EVENT_LEFT_PINNED_WIDTH_CHANGED,()=>this.onPinnedWidthChanged())}),this.forContainers(p,()=>{this.pinnedWidthFeature=this.createManagedBean(new mg(this.eContainer)),this.addManagedListener(this.eventService,m.EVENT_RIGHT_PINNED_WIDTH_CHANGED,()=>this.onPinnedWidthChanged())}),this.forContainers(d,()=>this.createManagedBean(new vu(this.eContainer,this.eWrapper))),this.forContainers(c,()=>this.createManagedBean(new Cu(this.eContainer))),this.forContainers(u,()=>this.createManagedBean(new Jr(g=>this.comp.setContainerWidth(`${g}px`)))),lr()&&(this.forContainers([j.CENTER],()=>{const g=this.enableRtl?m.EVENT_LEFT_PINNED_WIDTH_CHANGED:m.EVENT_RIGHT_PINNED_WIDTH_CHANGED;this.addManagedListener(this.eventService,g,()=>this.refreshPaddingForFakeScrollbar())}),this.refreshPaddingForFakeScrollbar()),this.addListeners(),this.registerWithCtrlsService()}refreshPaddingForFakeScrollbar(){const{enableRtl:e,columnModel:t,name:i,eWrapper:n,eContainer:o}=this,r=e?j.LEFT:j.RIGHT;this.forContainers([j.CENTER,r],()=>{const l=t.getContainerWidth(r),a=e?"marginLeft":"marginRight";i===j.CENTER?n.style[a]=l?"0px":"16px":o.style[a]=l?"16px":"0px"})}addListeners(){this.addManagedListener(this.eventService,m.EVENT_SCROLL_VISIBILITY_CHANGED,()=>this.onScrollVisibilityChanged()),this.addManagedListener(this.eventService,m.EVENT_DISPLAYED_COLUMNS_CHANGED,()=>this.onDisplayedColumnsChanged()),this.addManagedListener(this.eventService,m.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,()=>this.onDisplayedColumnsWidthChanged()),this.addManagedListener(this.eventService,m.EVENT_DISPLAYED_ROWS_CHANGED,e=>this.onDisplayedRowsChanged(e.afterScroll)),this.onScrollVisibilityChanged(),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if([j.STICKY_TOP_CENTER,j.STICKY_TOP_LEFT,j.STICKY_TOP_RIGHT,j.STICKY_TOP_FULL_WIDTH].indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const i=()=>{const n=this.gridOptionsService.is("ensureDomOrder"),o=this.gridOptionsService.isDomLayout("print");this.comp.setDomOrder(n||o)};this.addManagedPropertyListener("domLayout",i),i()}stopHScrollOnPinnedRows(){this.forContainers([j.TOP_CENTER,j.STICKY_TOP_CENTER,j.BOTTOM_CENTER],()=>{const e=()=>this.eViewport.scrollLeft=0;this.addManagedListener(this.eViewport,"scroll",e)})}onDisplayedColumnsChanged(){this.forContainers([j.CENTER],()=>this.onHorizontalViewportChanged())}onDisplayedColumnsWidthChanged(){this.forContainers([j.CENTER],()=>this.onHorizontalViewportChanged())}onScrollVisibilityChanged(){const e=this.gridOptionsService.getScrollbarWidth()||0;if(this.name===j.CENTER){const i=this.scrollVisibleService.isHorizontalScrollShowing()?e:0,n=i==0?"100%":`calc(100% + ${i}px)`;this.animationFrameService.requestAnimationFrame(()=>this.comp.setViewportHeight(n))}if(this.name===j.FULL_WIDTH){const i=`calc(100% - ${lr()?16:0}px)`;this.eContainer.style.setProperty("width",i)}}addPreventScrollWhileDragging(){const e=t=>{this.dragService.isDragging()&&t.cancelable&&t.preventDefault()};this.eContainer.addEventListener("touchmove",e,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",e))}onHorizontalViewportChanged(){const e=this.getCenterWidth(),t=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(e,t)}getCenterWidth(){return du(this.eViewport)}getCenterViewportScrollLeft(){return sa(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportVisible(){return yn(this.eViewport)}getViewportScrollLeft(){return sa(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gridOptionsService.is("alwaysShowHorizontalScroll")||jw(this.eViewport)}getViewportElement(){return this.eViewport}setContainerTranslateX(e){this.eContainer.style.transform=`translateX(${e}px)`}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){na(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!as.getPinned(this.name)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged()),lr()&&this.refreshPaddingForFakeScrollbar()}onDisplayedRowsChanged(e=!1){if(this.visible){const t=this.gridOptionsService.isDomLayout("print"),i=o=>{const r=o.isFullWidth(),l=this.embedFullWidthRows||t;return this.isFullWithContainer?!l&&r:l||!r},n=this.getRowCtrls().filter(i);this.comp.setRowCtrls(n,e)}else this.comp.setRowCtrls(this.EMPTY_CTRLS,!1)}getRowCtrls(){switch(this.name){case j.TOP_CENTER:case j.TOP_LEFT:case j.TOP_RIGHT:case j.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case j.STICKY_TOP_CENTER:case j.STICKY_TOP_LEFT:case j.STICKY_TOP_RIGHT:case j.STICKY_TOP_FULL_WIDTH:return this.rowRenderer.getStickyTopRowCtrls();case j.BOTTOM_CENTER:case j.BOTTOM_LEFT:case j.BOTTOM_RIGHT:case j.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getRowCtrls()}}}to([y("scrollVisibleService")],as.prototype,"scrollVisibleService",void 0);to([y("dragService")],as.prototype,"dragService",void 0);to([y("ctrlsService")],as.prototype,"ctrlsService",void 0);to([y("columnModel")],as.prototype,"columnModel",void 0);to([y("resizeObserverService")],as.prototype,"resizeObserverService",void 0);to([y("animationFrameService")],as.prototype,"animationFrameService",void 0);to([y("rowRenderer")],as.prototype,"rowRenderer",void 0);to([de],as.prototype,"postConstruct",null);var Js=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};const QH=`<div class="ag-root ag-unselectable" role="treegrid">
        <ag-header-root ref="gridHeader"></ag-header-root>
        <div class="ag-floating-top" ref="eTop" role="presentation">
            <ag-row-container ref="topLeftContainer" name="${j.TOP_LEFT}"></ag-row-container>
            <ag-row-container ref="topCenterContainer" name="${j.TOP_CENTER}"></ag-row-container>
            <ag-row-container ref="topRightContainer" name="${j.TOP_RIGHT}"></ag-row-container>
            <ag-row-container ref="topFullWidthContainer" name="${j.TOP_FULL_WIDTH}"></ag-row-container>
        </div>
        <div class="ag-body" ref="eBody" role="presentation">
            <div class="ag-body-clipper" ref="eBodyClipper" role="presentation">
                <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">
                    <ag-row-container ref="leftContainer" name="${j.LEFT}"></ag-row-container>
                    <ag-row-container ref="centerContainer" name="${j.CENTER}"></ag-row-container>
                    <ag-row-container ref="rightContainer" name="${j.RIGHT}"></ag-row-container>
                    <ag-row-container ref="fullWidthContainer" name="${j.FULL_WIDTH}"></ag-row-container>
                </div>
            </div>
            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>
        </div>
        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">
            <ag-row-container ref="stickyTopLeftContainer" name="${j.STICKY_TOP_LEFT}"></ag-row-container>
            <ag-row-container ref="stickyTopCenterContainer" name="${j.STICKY_TOP_CENTER}"></ag-row-container>
            <ag-row-container ref="stickyTopRightContainer" name="${j.STICKY_TOP_RIGHT}"></ag-row-container>
            <ag-row-container ref="stickyTopFullWidthContainer" name="${j.STICKY_TOP_FULL_WIDTH}"></ag-row-container>
        </div>
        <div class="ag-floating-bottom" ref="eBottom" role="presentation">
            <ag-row-container ref="bottomLeftContainer" name="${j.BOTTOM_LEFT}"></ag-row-container>
            <ag-row-container ref="bottomCenterContainer" name="${j.BOTTOM_CENTER}"></ag-row-container>
            <ag-row-container ref="bottomRightContainer" name="${j.BOTTOM_RIGHT}"></ag-row-container>
            <ag-row-container ref="bottomFullWidthContainer" name="${j.BOTTOM_FULL_WIDTH}"></ag-row-container>
        </div>
        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>
        <ag-overlay-wrapper></ag-overlay-wrapper>
    </div>`;class _s extends ke{constructor(){super(QH)}init(){const e=(i,n)=>{const o=`${i}px`;n.style.minHeight=o,n.style.height=o},t={setRowAnimationCssOnBodyViewport:(i,n)=>this.setRowAnimationCssOnBodyViewport(i,n),setColumnCount:i=>Fw(this.getGui(),i),setRowCount:i=>Aw(this.getGui(),i),setTopHeight:i=>e(i,this.eTop),setBottomHeight:i=>e(i,this.eBottom),setTopDisplay:i=>this.eTop.style.display=i,setBottomDisplay:i=>this.eBottom.style.display=i,setStickyTopHeight:i=>this.eStickyTop.style.height=i,setStickyTopTop:i=>this.eStickyTop.style.top=i,setStickyTopWidth:i=>this.eStickyTop.style.width=i,setColumnMovingCss:(i,n)=>this.addOrRemoveCssClass(i,n),updateLayoutClasses:(i,n)=>{[this.eBodyViewport.classList,this.eBodyClipper.classList,this.eBody.classList].forEach(r=>{r.toggle(Ft.AUTO_HEIGHT,n.autoHeight),r.toggle(Ft.NORMAL,n.normal),r.toggle(Ft.PRINT,n.print)}),this.addOrRemoveCssClass(Ft.AUTO_HEIGHT,n.autoHeight),this.addOrRemoveCssClass(Ft.NORMAL,n.normal),this.addOrRemoveCssClass(Ft.PRINT,n.print)},setAlwaysVerticalScrollClass:(i,n)=>this.eBodyViewport.classList.toggle(OS,n),registerBodyViewportResizeListener:i=>{const n=this.resizeObserverService.observeResize(this.eBodyViewport,i);this.addDestroyFunc(()=>n())},setPinnedTopBottomOverflowY:i=>this.eTop.style.overflowY=this.eBottom.style.overflowY=i,setCellSelectableCss:(i,n)=>{[this.eTop,this.eBodyViewport,this.eBottom].forEach(o=>o.classList.toggle(i,n))},setBodyViewportWidth:i=>this.eBodyViewport.style.width=i};this.ctrl=this.createManagedBean(new Ei),this.ctrl.setComp(t,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService||this.gridOptionsService.get("rowSelection")==="multiple")&&Pw(this.getGui(),!0)}setRowAnimationCssOnBodyViewport(e,t){const i=this.eBodyViewport.classList;i.toggle(Or.ANIMATION_ON,t),i.toggle(Or.ANIMATION_OFF,!t)}getFloatingTopBottom(){return[this.eTop,this.eBottom]}}Js([y("resizeObserverService")],_s.prototype,"resizeObserverService",void 0);Js([ht("rangeService")],_s.prototype,"rangeService",void 0);Js([ue("eBodyViewport")],_s.prototype,"eBodyViewport",void 0);Js([ue("eStickyTop")],_s.prototype,"eStickyTop",void 0);Js([ue("eTop")],_s.prototype,"eTop",void 0);Js([ue("eBottom")],_s.prototype,"eBottom",void 0);Js([ue("gridHeader")],_s.prototype,"headerRootComp",void 0);Js([ue("eBodyClipper")],_s.prototype,"eBodyClipper",void 0);Js([ue("eBody")],_s.prototype,"eBody",void 0);Js([de],_s.prototype,"init",null);var yg=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let la=class extends ee{postConstruct(){this.addManagedListener(this.eventService,m.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,m.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))}onDisplayedColumnsChanged(){this.update()}onDisplayedColumnsWidthChanged(){this.update()}update(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)}updateImpl(){const e=this.ctrlsService.getCenterRowContainerCtrl();if(!e)return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(t)}setScrollsVisible(e){if(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing){this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing;const i={type:m.EVENT_SCROLL_VISIBILITY_CHANGED};this.eventService.dispatchEvent(i)}}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}};yg([y("ctrlsService")],la.prototype,"ctrlsService",void 0);yg([de],la.prototype,"postConstruct",null);la=yg([Se("scrollVisibleService")],la);var MS=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},bl;let _r=bl=class extends ee{constructor(){super(...arguments),this.gridInstanceId=bl.gridInstanceSequence.next()}stampTopLevelGridCompWithGridInstance(e){e[bl.GRID_DOM_KEY]=this.gridInstanceId}getRenderedCellForEvent(e){return cd(this.gridOptionsService,e.target,ys.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(e){return this.isElementInThisGrid(e.target)}isElementInThisGrid(e){let t=e;for(;t;){const i=t[bl.GRID_DOM_KEY];if(Q(i))return i===this.gridInstanceId;t=t.parentElement}return!1}getCellPositionForEvent(e){const t=this.getRenderedCellForEvent(e);return t?t.getCellPosition():null}getNormalisedPosition(e){const t=this.gridOptionsService.isDomLayout("normal"),i=e;let n,o;if(i.clientX!=null||i.clientY!=null?(n=i.clientX,o=i.clientY):(n=i.x,o=i.y),t){const r=this.ctrlsService.getGridBodyCtrl(),l=r.getScrollFeature().getVScrollPosition(),a=r.getScrollFeature().getHScrollPosition();n+=a.left,o+=l.top}return{x:n,y:o}}};_r.gridInstanceSequence=new Xf;_r.GRID_DOM_KEY="__ag_grid_instance";MS([y("ctrlsService")],_r.prototype,"ctrlsService",void 0);_r=bl=MS([Se("mouseEventService")],_r);var Ti=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let si=class extends ee{constructor(){super(),this.onPageDown=fp(this.onPageDown,100),this.onPageUp=fp(this.onPageUp,100)}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const i=e.key,n=e.altKey,o=e.ctrlKey||e.metaKey,r=!!this.rangeService&&e.shiftKey,l=this.mouseEventService.getCellPositionForEvent(e);let a=!1;switch(i){case $.PAGE_HOME:case $.PAGE_END:!o&&!n&&(this.onHomeOrEndKey(i),a=!0);break;case $.LEFT:case $.RIGHT:case $.UP:case $.DOWN:if(!l)return!1;o&&!n&&!r&&(this.onCtrlUpDownLeftRight(i,l),a=!0);break;case $.PAGE_DOWN:case $.PAGE_UP:!o&&!n&&(a=this.handlePageUpDown(i,l,t));break}return a&&e.preventDefault(),a}handlePageUpDown(e,t,i){return i&&(t=this.focusService.getFocusedCell()),t?(e===$.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo(e){const{scrollIndex:t,scrollType:i,scrollColumn:n,focusIndex:o,focusColumn:r}=e;if(Q(n)&&!n.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(n),Q(t)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t,i),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(o),this.focusService.setFocusedCell({rowIndex:o,column:r,rowPinned:null,forceBrowserFocus:!0}),this.rangeService){const l={rowIndex:o,rowPinned:null,column:r};this.rangeService.setRangeToCell(l)}}onPageDown(e){const i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.getViewportHeight(),o=this.paginationProxy.getPixelOffset(),r=i.top+n,l=this.paginationProxy.getRowIndexAtPixel(r+o);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,l):this.navigateToNextPage(e,l)}onPageUp(e){const i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.paginationProxy.getPixelOffset(),o=i.top,r=this.paginationProxy.getRowIndexAtPixel(o+n);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,r,!0):this.navigateToNextPage(e,r,!0)}navigateToNextPage(e,t,i=!1){const n=this.getViewportHeight(),o=this.paginationProxy.getPageFirstRow(),r=this.paginationProxy.getPageLastRow(),l=this.paginationProxy.getPixelOffset(),a=this.paginationProxy.getRow(e.rowIndex),c=i?(a==null?void 0:a.rowHeight)-n-l:n-l,d=(a==null?void 0:a.rowTop)+c;let u=this.paginationProxy.getRowIndexAtPixel(d+l);if(u===e.rowIndex){const p=i?-1:1;t=u=e.rowIndex+p}let h;i?(h="bottom",u<o&&(u=o),t<o&&(t=o)):(h="top",u>r&&(u=r),t>r&&(t=r)),this.isRowTallerThanView(u)&&(t=u,h="top"),this.navigateTo({scrollIndex:t,scrollType:h,scrollColumn:null,focusIndex:u,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,i=!1){this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const n=this.getNextFocusIndexForAutoHeight(e,i);this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:n,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){var i;const n=t?-1:1,o=this.getViewportHeight(),r=this.paginationProxy.getPageLastRow();let l=0,a=e.rowIndex;for(;a>=0&&a<=r;){const c=this.paginationProxy.getRow(a);if(c){const d=(i=c.rowHeight)!==null&&i!==void 0?i:0;if(l+d>o)break;l+=d}a+=n}return Math.max(0,Math.min(a,r))}getViewportHeight(){const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),i=this.gridOptionsService.getScrollbarWidth();let n=t.bottom-t.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(n-=i),n}isRowTallerThanView(e){const t=this.paginationProxy.getRow(e);if(!t)return!1;const i=t.rowHeight;return typeof i!="number"?!1:i>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const i=this.cellNavigationService.getNextCellToFocus(e,t,!0),{rowIndex:n,column:o}=i;this.navigateTo({scrollIndex:n,scrollType:null,scrollColumn:o,focusIndex:n,focusColumn:o})}onHomeOrEndKey(e){const t=e===$.PAGE_HOME,i=this.columnModel.getAllDisplayedColumns(),n=t?i[0]:ft(i),o=t?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:n,focusIndex:o,focusColumn:n})}onTabKeyDown(e,t){const i=t.shiftKey;if(this.tabToNextCellCommon(e,i,t)){t.preventDefault();return}if(i){const{rowIndex:o,rowPinned:r}=e.getRowPosition();(r?o===0:o===this.paginationProxy.getPageFirstRow())&&(this.gridOptionsService.getNum("headerHeight")===0?this.focusService.focusNextGridCoreContainer(!0,!0):(t.preventDefault(),this.focusService.focusLastHeader(t)))}else e instanceof ys&&e.focusCell(!0),this.focusService.focusNextGridCoreContainer(i)&&t.preventDefault()}tabToNextCell(e,t){const i=this.focusService.getFocusedCell();if(!i)return!1;let n=this.getCellByPosition(i);return!n&&(n=this.rowRenderer.getRowByPosition(i),!n||!n.isFullWidth())?!1:this.tabToNextCellCommon(n,e,t)}tabToNextCellCommon(e,t,i){let n=e.isEditing();if(!n&&e instanceof ys){const l=e.getRowCtrl();l&&(n=l.isEditing())}let o;return n?this.gridOptionsService.get("editType")==="fullRow"?o=this.moveToNextEditingRow(e,t,i):o=this.moveToNextEditingCell(e,t,i):o=this.moveToNextCellNotEditing(e,t),o||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(e,t,i=null){const n=e.getCellPosition();e.getGui().focus(),e.stopEditing();const o=this.findNextCellToFocusOn(n,t,!0);return o==null?!1:(o.startEditing(null,!0,i),o.focusCell(!1),!0)}moveToNextEditingRow(e,t,i=null){const n=e.getCellPosition(),o=this.findNextCellToFocusOn(n,t,!0);if(o==null)return!1;const r=o.getCellPosition(),l=this.isCellEditable(n),a=this.isCellEditable(r),c=r&&n.rowIndex===r.rowIndex&&n.rowPinned===r.rowPinned;return l&&e.setFocusOutOnEditor(),c||(e.getRowCtrl().stopEditing(),o.getRowCtrl().startRowEditing(void 0,void 0,i)),a?(o.setFocusInOnEditor(),o.focusCell()):o.focusCell(!0),!0}moveToNextCellNotEditing(e,t){const i=this.columnModel.getAllDisplayedColumns();let n;e instanceof ws?n=Object.assign(Object.assign({},e.getRowPosition()),{column:t?i[0]:ft(i)}):n=e.getCellPosition();const o=this.findNextCellToFocusOn(n,t,!1);if(o instanceof ys)o.focusCell(!0);else if(o)return this.tryToFocusFullWidthRow(o.getRowPosition(),t);return Q(o)}findNextCellToFocusOn(e,t,i){let n=e;for(;;){e!==n&&(e=n),t||(n=this.getLastCellOfColSpan(n)),n=this.cellNavigationService.getNextTabbedCell(n,t);const o=this.gridOptionsService.getCallback("tabToNextCell");if(Q(o)){const c=o({backwards:t,editing:i,previousCellPosition:e,nextCellPosition:n||null});Q(c)?(c.floating&&(st(()=>{console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),c.rowPinned=c.floating),n={rowIndex:c.rowIndex,column:c.column,rowPinned:c.rowPinned}):n=null}if(!n)return null;if(n.rowIndex<0){const a=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a+n.rowIndex,column:n.column}}),null}const r=this.gridOptionsService.get("editType")==="fullRow";if(i&&!r&&!this.isCellEditable(n))continue;this.ensureCellVisible(n);const l=this.getCellByPosition(n);if(!l){const a=this.rowRenderer.getRowByPosition(n);if(!a||!a.isFullWidth()||i)continue;return a}if(!l.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(n),l}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}getCellByPosition(e){const t=this.rowRenderer.getRowByPosition(e);return t?t.getCellCtrl(e.column):null}lookupRowNodeForCell(e){return e.rowPinned==="top"?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):e.rowPinned==="bottom"?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.paginationProxy.getRow(e.rowIndex)}navigateToNextCell(e,t,i,n){let o=i,r=!1;for(;o&&(o===i||!this.isValidNavigateCell(o));)this.gridOptionsService.is("enableRtl")?t===$.LEFT&&(o=this.getLastCellOfColSpan(o)):t===$.RIGHT&&(o=this.getLastCellOfColSpan(o)),o=this.cellNavigationService.getNextCellToFocus(t,o),r=Le(o);if(r&&e&&e.key===$.UP&&(o={rowIndex:-1,rowPinned:null,column:i.column}),n){const a=this.gridOptionsService.getCallback("navigateToNextCell");if(Q(a)){const d=a({key:t,previousCellPosition:i,nextCellPosition:o||null,event:e});Q(d)?(d.floating&&(st(()=>{console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),d.rowPinned=d.floating),o={rowPinned:d.rowPinned,rowIndex:d.rowIndex,column:d.column}):o=null}}if(!o)return;if(o.rowIndex<0){const a=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a+o.rowIndex,column:i.column},event:e||void 0});return}const l=this.getNormalisedPosition(o);l?this.focusPosition(l):this.tryToFocusFullWidthRow(o)}getNormalisedPosition(e){this.ensureCellVisible(e);const t=this.getCellByPosition(e);return t?(e=t.getCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t=!1){const i=this.columnModel.getAllDisplayedColumns(),n=this.rowRenderer.getRowByPosition(e);if(!n||!n.isFullWidth())return!1;const o=this.focusService.getFocusedCell(),r={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?ft(i):i[0])};this.focusPosition(r);const l=o!=null?this.rowPositionUtils.before(r,o):!1,a={type:m.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:r.column,isFullWidthCell:!0,floating:r.rowPinned,fromBelow:l};return this.eventService.dispatchEvent(a),!0}focusPosition(e){this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(e)}isValidNavigateCell(e){return!!this.rowPositionUtils.getRowNode(e)}getLastCellOfColSpan(e){const t=this.getCellByPosition(e);if(!t)return e;const i=t.getColSpanningList();return i.length===1?e:{rowIndex:e.rowIndex,column:ft(i),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=this.gridOptionsService.isGroupRowsSticky(),i=this.rowModel.getRow(e.rowIndex);!(t&&(i==null?void 0:i.sticky))&&Le(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)}};Ti([y("mouseEventService")],si.prototype,"mouseEventService",void 0);Ti([y("paginationProxy")],si.prototype,"paginationProxy",void 0);Ti([y("focusService")],si.prototype,"focusService",void 0);Ti([ht("rangeService")],si.prototype,"rangeService",void 0);Ti([y("columnModel")],si.prototype,"columnModel",void 0);Ti([y("rowModel")],si.prototype,"rowModel",void 0);Ti([y("ctrlsService")],si.prototype,"ctrlsService",void 0);Ti([y("rowRenderer")],si.prototype,"rowRenderer",void 0);Ti([y("headerNavigationService")],si.prototype,"headerNavigationService",void 0);Ti([y("rowPositionUtils")],si.prototype,"rowPositionUtils",void 0);Ti([y("cellNavigationService")],si.prototype,"cellNavigationService",void 0);Ti([y("pinnedRowModel")],si.prototype,"pinnedRowModel",void 0);Ti([de],si.prototype,"postConstruct",null);si=Ti([Se("navigationService")],si);var XH=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class qa extends Yr{constructor(e){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=e}postConstruct(){this.gridOptionsService.setDomData(this.getGui(),qa.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params,i=n=>{pd(this.gridOptionsService,n,t.node,t.column,!0)||t.onKeyDown(n)};this.addManagedListener(e,"keydown",i)}}qa.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper";XH([de],qa.prototype,"postConstruct",null);class JH extends ke{constructor(e,t,i,n,o){super(),this.rendererVersion=0,this.editorVersion=0,this.beans=e,this.column=t.getColumn(),this.rowNode=t.getRowNode(),this.rowCtrl=t.getRowCtrl(),this.eRow=n,this.setTemplate(`<div comp-id="${this.getCompId()}"/>`);const r=this.getGui();this.forceWrapper=t.isForceWrapper(),this.refreshWrapper(!1);const l=(c,d,u)=>{const h=u||r;d!=null&&d!=""?h.setAttribute(c,d):h.removeAttribute(c)},a={addOrRemoveCssClass:(c,d)=>this.addOrRemoveCssClass(c,d),setUserStyles:c=>jf(r,c),getFocusableElement:()=>this.getFocusableElement(),setTabIndex:c=>l("tabindex",c.toString()),setRole:c=>Ht(r,c),setColId:c=>l("col-id",c),setTitle:c=>l("title",c),setIncludeSelection:c=>this.includeSelection=c,setIncludeRowDrag:c=>this.includeRowDrag=c,setIncludeDndSource:c=>this.includeDndSource=c,setRenderDetails:(c,d,u)=>this.setRenderDetails(c,d,u),setEditDetails:(c,d,u)=>this.setEditDetails(c,d,u),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue()};this.cellCtrl=t,t.setComp(a,this.getGui(),this.eCellWrapper,i,o)}getParentOfValue(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()}setRenderDetails(e,t,i){if(this.cellEditor&&!this.cellEditorPopupWrapper)return;this.firstRender=this.firstRender==null;const o=this.refreshWrapper(!1);this.refreshEditStyles(!1),e?!(i||o)&&this.refreshCellRenderer(e)||(this.destroyRenderer(),this.createCellRendererInstance(e)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(t))}setEditDetails(e,t,i){e?this.createCellEditorInstance(e,t,i):this.destroyEditor()}removeControls(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)}refreshWrapper(e){const t=this.includeRowDrag||this.includeDndSource||this.includeSelection,i=t||this.forceWrapper,n=i&&this.eCellWrapper==null;n&&(this.eCellWrapper=$t('<div class="ag-cell-wrapper" role="presentation"></div>'),this.getGui().appendChild(this.eCellWrapper));const o=!i&&this.eCellWrapper!=null;o&&(cn(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!i);const r=!e&&i,l=r&&this.eCellValue==null;l&&(this.eCellValue=$t('<span class="ag-cell-value" role="presentation"></span>'),this.eCellWrapper.appendChild(this.eCellValue));const a=!r&&this.eCellValue!=null;a&&(cn(this.eCellValue),this.eCellValue=void 0);const c=n||o||l||a;return c&&this.removeControls(),e||t&&this.addControls(),c}addControls(){this.includeRowDrag&&this.rowDraggingComp==null&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&this.dndSourceComp==null&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))}createCellEditorInstance(e,t,i){const n=this.editorVersion,o=e.newAgStackInstance();if(!o)return;const{params:r}=e;o.then(a=>this.afterCellEditorCreated(n,a,r,t,i)),Le(this.cellEditor)&&r.cellStartedEdit&&this.cellCtrl.focusCell(!0)}insertValueWithoutCellRenderer(e){const t=this.getParentOfValue();Ni(t);const i=e!=null?js(e):null;i!=null&&(t.innerHTML=i)}destroyEditorAndRenderer(){this.destroyRenderer(),this.destroyEditor()}destroyRenderer(){const{context:e}=this.beans;this.cellRenderer=e.destroyBean(this.cellRenderer),cn(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++}destroyEditor(){const{context:e}=this.beans;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),cn(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++}refreshCellRenderer(e){if(this.cellRenderer==null||this.cellRenderer.refresh==null||this.cellRendererClass!==e.componentClass)return!1;const t=this.cellRenderer.refresh(e.params);return t===!0||t===void 0}createCellRendererInstance(e){const i=!this.beans.gridOptionsService.is("suppressAnimationFrame"),n=this.rendererVersion,{componentClass:o}=e,r=()=>{if(this.rendererVersion!==n||!this.isAlive())return;const a=e.newAgStackInstance(),c=this.afterCellRendererCreated.bind(this,n,o);a&&a.then(c)};i&&this.firstRender?this.beans.animationFrameService.createTask(r,this.rowNode.rowIndex,"createTasksP2"):r()}getCtrl(){return this.cellCtrl}getRowCtrl(){return this.rowCtrl}getCellRenderer(){return this.cellRenderer}getCellEditor(){return this.cellEditor}afterCellRendererCreated(e,t,i){if(!this.isAlive()||e!==this.rendererVersion){this.beans.context.destroyBean(i);return}if(this.cellRenderer=i,this.cellRendererClass=t,this.cellRendererGui=this.cellRenderer.getGui(),this.cellRendererGui!=null){const o=this.getParentOfValue();Ni(o),o.appendChild(this.cellRendererGui)}}afterCellEditorCreated(e,t,i,n,o){if(e!==this.editorVersion){this.beans.context.destroyBean(t);return}if(t.isCancelBeforeStart&&t.isCancelBeforeStart()){this.beans.context.destroyBean(t),this.cellCtrl.stopEditing(!0);return}if(!t.getGui){console.warn(`AG Grid: cellEditor for column ${this.column.getId()} is missing getGui() method`),this.beans.context.destroyBean(t);return}this.cellEditor=t,this.cellEditorGui=t.getGui();const a=n||t.isPopup!==void 0&&t.isPopup();a?this.addPopupCellEditor(i,o):this.addInCellEditor(),this.refreshEditStyles(!0,a),t.afterGuiAttached&&t.afterGuiAttached()}refreshEditStyles(e,t){var i;this.addOrRemoveCssClass("ag-cell-inline-editing",e&&!t),this.addOrRemoveCssClass("ag-cell-popup-editing",e&&!!t),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!e||!!t),(i=this.rowCtrl)===null||i===void 0||i.setInlineEditingCss(e)}addInCellEditor(){const e=this.getGui(),t=this.beans.gridOptionsService.getDocument();e.contains(t.activeElement)&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)}addPopupCellEditor(e,t){this.beans.gridOptionsService.get("editType")==="fullRow"&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");const i=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new qa(e));const n=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&n.appendChild(this.cellEditorGui);const o=this.beans.popupService,r=this.beans.gridOptionsService.is("stopEditingWhenCellsLoseFocus"),l=t??(i.getPopupPosition?i.getPopupPosition():"over"),a=this.beans.gridOptionsService.is("enableRtl"),c={ePopup:n,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:l,alignSide:a?"right":"left",keepWithinBounds:!0},d=o.positionPopupByComponent.bind(o,c),u=this.beans.localeService.getLocaleTextFunc(),h=o.addPopup({modal:r,eChild:n,closeOnEsc:!0,closedCallback:()=>{this.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:d,ariaLabel:u("ariaLabelCellEditor","Cell Editor")});h&&(this.hideEditorPopup=h.hideFunc)}detach(){this.eRow.removeChild(this.getGui())}destroy(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),super.destroy()}clearParentOfValue(){const e=this.getGui(),t=this.beans.gridOptionsService.getDocument();e.contains(t.activeElement)&&cu()&&e.focus({preventScroll:!0}),Ni(this.getParentOfValue())}}class ZH extends ke{constructor(e,t,i){super(),this.cellComps={},this.beans=t,this.rowCtrl=e,this.setTemplate(`<div comp-id="${this.getCompId()}" style="${this.getInitialStyle(i)}"/>`);const n=this.getGui(),o=n.style,r={setDomOrder:l=>this.domOrder=l,setCellCtrls:l=>this.setCellCtrls(l),showFullWidth:l=>this.showFullWidth(l),getFullWidthCellRenderer:()=>this.getFullWidthCellRenderer(),addOrRemoveCssClass:(l,a)=>this.addOrRemoveCssClass(l,a),setUserStyles:l=>jf(n,l),setTop:l=>o.top=l,setTransform:l=>o.transform=l,setRowIndex:l=>n.setAttribute("row-index",l),setRole:l=>Ht(n,l),setRowId:l=>n.setAttribute("row-id",l),setRowBusinessKey:l=>n.setAttribute("row-business-key",l),setTabIndex:l=>n.setAttribute("tabindex",l.toString())};e.setComp(r,this.getGui(),i),this.addDestroyFunc(()=>{e.unsetComp(i)})}getInitialStyle(e){const t=this.rowCtrl.getInitialTransform(e),i=this.rowCtrl.getInitialRowTop(e);return t?`transform: ${t}`:`top: ${i}`}showFullWidth(e){const t=n=>{if(this.isAlive()){const o=n.getGui();this.getGui().appendChild(o),this.rowCtrl.setupDetailRowAutoHeight(o),this.setFullWidthRowComp(n)}else this.beans.context.destroyBean(n)},i=e.newAgStackInstance();i&&i.then(t)}setCellCtrls(e){const t=Object.assign({},this.cellComps);e.forEach(n=>{const o=n.getInstanceId();this.cellComps[o]==null?this.newCellComp(n):t[o]=null});const i=Us(t).filter(n=>n!=null);this.destroyCells(i),this.ensureDomOrder(e)}ensureDomOrder(e){if(!this.domOrder)return;const t=[];e.forEach(i=>{const n=this.cellComps[i.getInstanceId()];n&&t.push(n.getGui())}),Uf(this.getGui(),t)}newCellComp(e){const t=new JH(this.beans,e,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[e.getInstanceId()]=t,this.getGui().appendChild(t.getGui())}destroy(){super.destroy(),this.destroyAllCells()}destroyAllCells(){const e=Us(this.cellComps).filter(t=>t!=null);this.destroyCells(e)}setFullWidthRowComp(e){this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=e,this.addDestroyFunc(()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer)})}getFullWidthCellRenderer(){return this.fullWidthCellRenderer}destroyCells(e){e.forEach(t=>{if(!t)return;const i=t.getCtrl().getInstanceId();this.cellComps[i]===t&&(t.detach(),t.destroy(),this.cellComps[i]=null)})}}var Zr=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};function ek(){const s=ke.elementGettingCreated.getAttribute("name"),e=as.getRowContainerCssClasses(s);let t;const i=s===j.CENTER,n=s===j.TOP_CENTER||s===j.STICKY_TOP_CENTER||s===j.BOTTOM_CENTER;return i?t=`<div class="${e.wrapper}" ref="eWrapper" role="presentation">
                <div class="${e.viewport}" ref="eViewport" role="presentation">
                    <div class="${e.container}" ref="eContainer"></div>
                </div>
            </div>`:n?t=`<div class="${e.viewport}" ref="eViewport" role="presentation">
                <div class="${e.container}" ref="eContainer"></div>
            </div>`:t=`<div class="${e.container}" ref="eContainer"></div>`,t}class ko extends ke{constructor(){super(ek()),this.rowComps={},this.name=ke.elementGettingCreated.getAttribute("name"),this.type=zH(this.name)}postConstruct(){const e={setViewportHeight:i=>this.eViewport.style.height=i,setRowCtrls:i=>this.setRowCtrls(i),setDomOrder:i=>{this.domOrder=i},setContainerWidth:i=>this.eContainer.style.width=i};this.createManagedBean(new as(this.name)).setComp(e,this.eContainer,this.eViewport,this.eWrapper)}preDestroy(){this.setRowCtrls([])}setRowCtrls(e){const t=Object.assign({},this.rowComps);this.rowComps={},this.lastPlacedElement=null;const i=n=>{const o=n.getInstanceId(),r=t[o];if(r)this.rowComps[o]=r,delete t[o],this.ensureDomOrder(r.getGui());else{if(!n.getRowNode().displayed)return;const l=new ZH(n,this.beans,this.type);this.rowComps[o]=l,this.appendRow(l.getGui())}};e.forEach(i),Us(t).forEach(n=>{this.eContainer.removeChild(n.getGui()),n.destroy()}),Ht(this.eContainer,e.length?"rowgroup":"presentation")}appendRow(e){this.domOrder?Uw(this.eContainer,e,this.lastPlacedElement):this.eContainer.appendChild(e),this.lastPlacedElement=e}ensureDomOrder(e){this.domOrder&&(Wf(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)}}Zr([y("beans")],ko.prototype,"beans",void 0);Zr([ue("eViewport")],ko.prototype,"eViewport",void 0);Zr([ue("eContainer")],ko.prototype,"eContainer",void 0);Zr([ue("eWrapper")],ko.prototype,"eWrapper",void 0);Zr([de],ko.prototype,"postConstruct",null);Zr([hi],ko.prototype,"preDestroy",null);var LS=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class wg{constructor(e){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}onDragEnter(e){if(this.clearColumnsList(),this.gridOptionsService.is("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(i=>{i.isPrimary()&&(i.isAnyFunctionActive()||(i.isAllowValue()?this.columnsToAggregate.push(i):i.isAllowRowGroup()?this.columnsToGroup.push(i):i.isAllowPivot()&&this.columnsToPivot.push(i)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?nt.ICON_PINNED:nt.ICON_MOVE:null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}}LS([y("columnModel")],wg.prototype,"columnModel",void 0);LS([y("gridOptionsService")],wg.prototype,"gridOptionsService",void 0);var Qa=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class el{constructor(e,t){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=e,this.eContainer=t,this.centerContainer=!Q(e)}init(){this.ctrlsService.whenReady(()=>{this.gridBodyCon=this.ctrlsService.getGridBodyCtrl()})}getIconName(){return this.pinned?nt.ICON_PINNED:nt.ICON_MOVE}onDragEnter(e){const t=e.dragItem.columns;if(e.dragSource.type===di.ToolPanel)this.setColumnsVisible(t,!0,"uiColumnDragged");else{const n=e.dragItem.visibleState,o=(t||[]).filter(r=>n[r.getId()]);this.setColumnsVisible(o,!0,"uiColumnDragged")}this.setColumnsPinned(t,this.pinned,"uiColumnDragged"),this.onDragging(e,!0,!0)}onDragLeave(){this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,i="api"){if(e){const n=e.filter(o=>!o.getColDef().lockVisible);this.columnModel.setColumnsVisible(n,t,i)}}setColumnsPinned(e,t,i="api"){if(e){const n=e.filter(o=>!o.getColDef().lockPinned);this.columnModel.setColumnsPinned(n,t,i)}}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}normaliseX(e){return this.gridOptionsService.is("enableRtl")&&(e=this.eContainer.clientWidth-e),this.centerContainer&&(e+=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),e}checkCenterForScrolling(e){if(this.centerContainer){const t=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),i=t+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsService.is("enableRtl")?(this.needToMoveRight=e<t+50,this.needToMoveLeft=e>i-50):(this.needToMoveLeft=e<t+50,this.needToMoveRight=e>i-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}}onDragging(e=this.lastDraggingEvent,t=!1,i=!1,n=!1){var o;if(n){if(this.lastMovedInfo){const{columns:d,toIndex:u}=this.lastMovedInfo;this.moveColumns(d,u,"uiColumnMoved",!0)}return}if(this.lastDraggingEvent=e,Le(e.hDirection))return;const r=this.normaliseX(e.x);t||this.checkCenterForScrolling(r);const l=this.normaliseDirection(e.hDirection),a=e.dragSource.type,c=((o=e.dragSource.getDragItem().columns)===null||o===void 0?void 0:o.filter(d=>d.getColDef().lockPinned?d.getPinned()==this.pinned:!0))||[];this.attemptMoveColumns({dragSourceType:a,allMovingColumns:c,hDirection:l,mouseX:r,fromEnter:t,fakeEvent:i})}normaliseDirection(e){if(this.gridOptionsService.is("enableRtl"))switch(e){case Ns.Left:return Ns.Right;case Ns.Right:return Ns.Left;default:console.error(`AG Grid: Unknown direction ${e}`)}else return e}attemptMoveColumns(e){const{dragSourceType:t,hDirection:i,mouseX:n,fromEnter:o,fakeEvent:r}=e,l=i===Ns.Left,a=i===Ns.Right;let{allMovingColumns:c}=e;if(t===di.HeaderCell){let C=[];c.forEach(E=>{let b=null,S=E.getParent();for(;S!=null&&S.getDisplayedLeafColumns().length===1;)b=S,S=S.getParent();b!=null?b.getProvidedColumnGroup().getLeafColumns().forEach(D=>{C.includes(D)||C.push(D)}):C.includes(E)||C.push(E)}),c=C}const d=c.slice();this.columnModel.sortColumnsLikeGridColumns(d);const u=this.calculateValidMoves(d,a,n),h=this.calculateOldIndex(d);if(u.length===0)return;const p=u[0];let g=h!==null&&!o;if(t==di.HeaderCell&&(g=h!==null),g&&!r&&(l&&p>=h||a&&p<=h))return;const f=this.columnModel.getAllDisplayedColumns();let v=[],w=null;for(let C=0;C<u.length;C++){const E=u[C],b=this.columnModel.getProposedColumnOrder(d,E);if(!this.columnModel.doesOrderPassRules(b))continue;const S=b.filter(D=>f.includes(D));if(w===null)w=S;else if(!Qe.areEqual(S,w))break;const T=this.groupFragCount(b);v.push({move:E,fragCount:T})}v.length!==0&&(v.sort((C,E)=>C.fragCount-E.fragCount),this.moveColumns(c,v[0].move,"uiColumnMoved",!1))}calculateOldIndex(e){const t=this.columnModel.getAllGridColumns(),i=dw(e.map(a=>t.indexOf(a))),n=i[0];return ft(i)-n!==i.length-1?null:n}moveColumns(e,t,i,n){this.columnModel.moveColumns(e,t,i,n),this.lastMovedInfo=n?null:{columns:e,toIndex:t}}groupFragCount(e){function t(n){let o=[],r=n.getOriginalParent();for(;r!=null;)o.push(r),r=r.getOriginalParent();return o}let i=0;for(let n=0;n<e.length-1;n++){let o=t(e[n]),r=t(e[n+1]);[o,r]=o.length>r.length?[o,r]:[r,o],o.forEach(l=>{r.indexOf(l)===-1&&i++})}return i}calculateValidMoves(e,t,i){if(this.gridOptionsService.is("suppressMovableColumns")||e.some(f=>f.getColDef().suppressMovable))return[];const o=this.columnModel.getDisplayedColumns(this.pinned),r=this.columnModel.getAllGridColumns(),l=o.filter(f=>Zi(e,f)),a=o.filter(f=>!Zi(e,f)),c=r.filter(f=>!Zi(e,f));let d=0,u=i;if(t){let f=0;l.forEach(v=>f+=v.getActualWidth()),u-=f}if(u>0){for(let f=0;f<a.length;f++){const v=a[f];if(u-=v.getActualWidth(),u<0)break;d++}t&&d++}let h;if(d>0){const f=a[d-1];h=c.indexOf(f)+1}else h=c.indexOf(a[0]),h===-1&&(h=0);const p=[h],g=(f,v)=>f-v;if(t){let f=h+1;const v=r.length-1;for(;f<=v;)p.push(f),f++;p.sort(g)}else{let f=h;const v=r.length-1;let w=r[f];for(;f<=v&&this.isColumnHidden(o,w);)f++,p.push(f),w=r[f];f=h-1;const C=0;for(;f>=C;)p.push(f),f--;p.sort(g).reverse()}return p}isColumnHidden(e,t){return e.indexOf(t)<0}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.needToMoveLeft?this.dragAndDropService.setGhostIcon(nt.ICON_LEFT,!0):this.dragAndDropService.setGhostIcon(nt.ICON_RIGHT,!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(nt.ICON_MOVE))}moveInterval(){let e;this.intervalCount++,e=10+this.intervalCount*5,e>100&&(e=100);let t=null;const i=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?t=i.scrollHorizontally(-e):this.needToMoveRight&&(t=i.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const o=this.lastDraggingEvent.dragItem.columns.filter(r=>!r.getColDef().lockPinned);if(o.length>0&&(this.dragAndDropService.setGhostIcon(nt.ICON_PINNED),this.failedMoveAttempts>7)){const r=this.needToMoveLeft?"left":"right";this.setColumnsPinned(o,r,"uiColumnDragged"),this.dragAndDropService.nudge()}}}}Qa([y("columnModel")],el.prototype,"columnModel",void 0);Qa([y("dragAndDropService")],el.prototype,"dragAndDropService",void 0);Qa([y("gridOptionsService")],el.prototype,"gridOptionsService",void 0);Qa([y("ctrlsService")],el.prototype,"ctrlsService",void 0);Qa([de],el.prototype,"init",null);var Xa=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class tl extends ee{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){this.ctrlsService.whenReady(e=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.leftRowContainerCtrl.getContainerElement()],[e.bottomLeftRowContainerCtrl.getContainerElement()],[e.topLeftRowContainerCtrl.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.rightRowContainerCtrl.getContainerElement()],[e.bottomRightRowContainerCtrl.getContainerElement()],[e.topRightRowContainerCtrl.getContainerElement()]];break;default:this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.centerRowContainerCtrl.getViewportElement()],[e.bottomCenterRowContainerCtrl.getViewportElement()],[e.topCenterRowContainerCtrl.getViewportElement()]];break}})}isInterestedIn(e){return e===di.HeaderCell||e===di.ToolPanel&&this.gridOptionsService.is("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}init(){this.moveColumnFeature=this.createManagedBean(new el(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new wg(this.pinned)),this.dragAndDropService.addDropTarget(this)}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.columnModel.isPivotMode()&&e.dragSource.type===di.ToolPanel}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}}Xa([y("dragAndDropService")],tl.prototype,"dragAndDropService",void 0);Xa([y("columnModel")],tl.prototype,"columnModel",void 0);Xa([y("ctrlsService")],tl.prototype,"ctrlsService",void 0);Xa([de],tl.prototype,"postConstruct",null);Xa([de],tl.prototype,"init",null);class IS{static getHeaderClassesFromColDef(e,t,i,n){return Le(e)?[]:this.getColumnClassesFromCollDef(e.headerClass,e,t,i,n)}static getToolPanelClassesFromColDef(e,t,i,n){return Le(e)?[]:this.getColumnClassesFromCollDef(e.toolPanelClass,e,t,i,n)}static getClassParams(e,t,i,n){return{colDef:e,column:i,columnGroup:n,api:t.api,columnApi:t.columnApi,context:t.context}}static getColumnClassesFromCollDef(e,t,i,n,o){if(Le(e))return[];let r;if(typeof e=="function"){const l=this.getClassParams(t,i,n,o);r=e(l)}else r=e;return typeof r=="string"?[r]:Array.isArray(r)?[...r]:[]}}var yu=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class io extends pg{constructor(e){super(io.TEMPLATE,e),this.headerCompVersion=0,this.column=e.getColumnGroupChild(),this.pinned=e.getPinned()}postConstruct(){const e=this.getGui(),t=(o,r,l)=>{const a=l||e;r!=null&&r!=""?a.setAttribute(o,r):a.removeAttribute(o)},i={setWidth:o=>e.style.width=o,addOrRemoveCssClass:(o,r)=>this.addOrRemoveCssClass(o,r),setColId:o=>t("col-id",o),setTitle:o=>t("title",o),setAriaDescription:o=>Rw(e,o),setAriaSort:o=>o?Lw(e,o):Iw(e),setUserCompDetails:o=>this.setUserCompDetails(o),getUserCompInstance:()=>this.headerComp};this.ctrl.setComp(i,this.getGui(),this.eResize,this.eHeaderCompWrapper);const n=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",n)}destroyHeaderComp(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)}setUserCompDetails(e){this.headerCompVersion++;const t=this.headerCompVersion;e.newAgStackInstance().then(i=>this.afterCompCreated(t,i))}afterCompCreated(e,t){if(e!=this.headerCompVersion||!this.isAlive()){this.destroyBean(t);return}this.destroyHeaderComp(),this.headerComp=t,this.headerCompGui=t.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())}}io.TEMPLATE=`<div class="ag-header-cell" role="columnheader" tabindex="-1">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
        </div>`;yu([ue("eResize")],io.prototype,"eResize",void 0);yu([ue("eHeaderCompWrapper")],io.prototype,"eHeaderCompWrapper",void 0);yu([de],io.prototype,"postConstruct",null);yu([hi],io.prototype,"destroyHeaderComp",null);var Sg=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class Bo extends pg{constructor(e){super(Bo.TEMPLATE,e)}postConstruct(){const e=this.getGui(),t=(n,o)=>o!=null?e.setAttribute(n,o):e.removeAttribute(n),i={addOrRemoveCssClass:(n,o)=>this.addOrRemoveCssClass(n,o),setResizableDisplayed:n=>Je(this.eResize,n),setWidth:n=>e.style.width=n,setColId:n=>e.setAttribute("col-id",n),setAriaExpanded:n=>t("aria-expanded",n),setTitle:n=>t("title",n),setUserCompDetails:n=>this.setUserCompDetails(n)};this.ctrl.setComp(i,e,this.eResize)}setUserCompDetails(e){e.newAgStackInstance().then(t=>this.afterHeaderCompCreated(t))}afterHeaderCompCreated(e){const t=()=>this.destroyBean(e);if(!this.isAlive()){t();return}const i=this.getGui(),n=e.getGui();i.appendChild(n),this.addDestroyFunc(t),this.ctrl.setDragSource(i)}}Bo.TEMPLATE=`<div class="ag-header-group-cell" role="columnheader" tabindex="-1">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
        </div>`;Sg([y("userComponentFactory")],Bo.prototype,"userComponentFactory",void 0);Sg([ue("eResize")],Bo.prototype,"eResize",void 0);Sg([de],Bo.prototype,"postConstruct",null);var NS=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Wt;(function(s){s.COLUMN_GROUP="group",s.COLUMN="column",s.FLOATING_FILTER="filter"})(Wt||(Wt={}));class bg extends ke{constructor(e){super(),this.headerComps={};const t=e.getType()==Wt.COLUMN_GROUP?"ag-header-row-column-group":e.getType()==Wt.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";this.setTemplate(`<div class="ag-header-row ${t}" role="row"></div>`),this.ctrl=e}init(){const e={setTransform:t=>this.getGui().style.transform=t,setHeight:t=>this.getGui().style.height=t,setTop:t=>this.getGui().style.top=t,setHeaderCtrls:t=>this.setHeaderCtrls(t),setWidth:t=>this.getGui().style.width=t,setAriaRowIndex:t=>Lf(this.getGui(),t)};this.ctrl.setComp(e)}destroyHeaderCtrls(){this.setHeaderCtrls([])}setHeaderCtrls(e){if(!this.isAlive())return;const t=this.headerComps;this.headerComps={},e.forEach(o=>{const r=o.getInstanceId();let l=t[r];delete t[r],l==null&&(l=this.createHeaderComp(o),this.getGui().appendChild(l.getGui())),this.headerComps[r]=l}),Rt(t,(o,r)=>{this.getGui().removeChild(r.getGui()),this.destroyBean(r)});const i=this.gridOptionsService.is("ensureDomOrder"),n=this.gridOptionsService.isDomLayout("print");if(i||n){const o=Us(this.headerComps);o.sort((l,a)=>{const c=l.getCtrl().getColumnGroupChild().getLeft(),d=a.getCtrl().getColumnGroupChild().getLeft();return c-d});const r=o.map(l=>l.getGui());Uf(this.getGui(),r)}}createHeaderComp(e){let t;switch(this.ctrl.getType()){case Wt.COLUMN_GROUP:t=new Bo(e);break;case Wt.FLOATING_FILTER:t=new wn(e);break;default:t=new io(e);break}return this.createBean(t),t.setParentComponent(this),t}}NS([de],bg.prototype,"init",null);NS([hi],bg.prototype,"destroyHeaderCtrls",null);var Eg=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let tk=0;class Zs extends ee{constructor(e,t){super(),this.lastFocusEvent=null,this.columnGroupChild=e,this.parentRowCtrl=t,this.instanceId=e.getUniqueId()+"-"+tk++}shouldStopEventPropagation(e){const{headerRowIndex:t,column:i}=this.focusService.getFocusedHeader();return Qw(this.gridOptionsService,e,t,i)}getWrapperHasFocus(){return this.gridOptionsService.getDocument().activeElement===this.eGui}setGui(e){this.eGui=e,this.addDomData()}handleKeyDown(e){const t=this.getWrapperHasFocus();switch(e.key){case $.PAGE_DOWN:case $.PAGE_UP:case $.PAGE_HOME:case $.PAGE_END:t&&e.preventDefault()}}addDomData(){const e=Zs.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsService.setDomData(this.eGui,e,this),this.addDestroyFunc(()=>this.gridOptionsService.setDomData(this.eGui,e,null))}getGui(){return this.eGui}focus(e){return this.eGui?(this.lastFocusEvent=e||null,this.eGui.focus(),!0):!1}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getInstanceId(){return this.instanceId}getColumnGroupChild(){return this.columnGroupChild}}Zs.DOM_DATA_KEY_HEADER_CTRL="headerCtrl";Eg([y("focusService")],Zs.prototype,"focusService",void 0);Eg([y("beans")],Zs.prototype,"beans",void 0);Eg([y("userComponentFactory")],Zs.prototype,"userComponentFactory",void 0);var ik=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class wu extends ee{constructor(e,t,i,n){super(),this.columnOrGroup=e,this.eCell=t,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=n,this.beans=i}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gridOptionsService.is("enableRtl")&&this.colsSpanning?ft(this.colsSpanning):this.columnOrGroup}postConstruct(){this.addManagedListener(this.columnOrGroup,He.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,m.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onLeftChanged.bind(this))}setLeftFirstTime(){const e=this.beans.gridOptionsService.is("suppressColumnMoveAnimation"),t=Q(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&t&&!e?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=e.getLeft(),i=e.getOldLeft(),n=this.modifyLeftForPrintLayout(e,i),o=this.modifyLeftForPrintLayout(e,t);this.setLeft(n),this.actualLeft=o,this.beans.columnAnimationService.executeNextVMTurn(()=>{this.actualLeft===o&&this.setLeft(o)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){if(!this.beans.gridOptionsService.isDomLayout("print")||e.getPinned()==="left")return t;const n=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(e.getPinned()==="right"){const o=this.beans.columnModel.getBodyContainerWidth();return n+o+t}return n+t}setLeft(e){Q(e)&&(this.eCell.style.left=`${e}px`);let t;if(this.columnOrGroup instanceof He)t=this.columnOrGroup;else{const o=this.columnOrGroup.getLeafColumns();if(!o.length)return;o.length>1&&Mw(this.ariaEl,o.length),t=o[0]}const i=this.beans.columnModel.getAriaColumnIndex(t);If(this.ariaEl,i)}}ik([de],wu.prototype,"postConstruct",null);var xS=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class Ja extends ee{constructor(e,t){super(),this.columns=e,this.element=t}postConstruct(){this.gridOptionsService.is("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}}xS([y("columnHoverService")],Ja.prototype,"columnHoverService",void 0);xS([de],Ja.prototype,"postConstruct",null);var Rg=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class Su extends Zs{constructor(e,t){super(e,t),this.iconCreated=!1,this.column=e}setComp(e,t,i,n){super.setGui(t),this.comp=e,this.eButtonShowMainFilter=i,this.eFloatingFilterBody=n,this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this)),this.setupFilterChangedListener(),this.addManagedListener(this.column,He.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))}setupActive(){const e=this.column.getColDef(),t=!!e.filter,i=!!e.floatingFilter;this.active=t&&i}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=_t("filter",this.gridOptionsService,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(){this.createManagedBean(new Hi(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.localeService.getLocaleTextFunc();Qn(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){if(this.gridOptionsService.getDocument().activeElement===this.eGui)return;const o=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(o){this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),o.focus();return}const r=this.findNextColumnWithFloatingFilter(e.shiftKey);r&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:r},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.columnModel;let i=this.column;do if(i=e?t.getDisplayedColBefore(i):t.getDisplayedColAfter(i),!i)break;while(!i.getColDef().filter||!i.getColDef().floatingFilter);return i}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case $.UP:case $.DOWN:t||e.preventDefault();case $.LEFT:case $.RIGHT:if(t)return;e.stopPropagation();case $.ENTER:t&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case $.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const i=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),n=!!e.relatedTarget&&Eo(e.relatedTarget,"ag-floating-filter");if(i&&n&&e.target===this.eGui){const r=this.lastFocusEvent,l=!!(r&&r.key===$.TAB);if(r&&l){const a=r.shiftKey;this.focusService.focusInto(this.eGui,a)}}const o=this.getRowIndex();this.beans.focusService.setFocusedHeader(o,this.column)}setupHover(){this.createManagedBean(new Ja([this.column],this.eGui));const e=()=>{if(!this.gridOptionsService.is("columnHoverHighlight"))return;const t=this.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",t)};this.addManagedListener(this.eventService,m.EVENT_COLUMN_HOVER_CHANGED,e),e()}setupLeft(){const e=new wu(this.column,this.eGui,this.beans);this.createManagedBean(e)}setupFilterButton(){const e=this.column.getColDef();this.suppressFilterButton=e.floatingFilterComponentParams?!!e.floatingFilterComponentParams.suppressFilterButton:!1}setupUserComp(){if(!this.active)return;const e=this.filterManager.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuFactory.showMenuAfterButtonClick(this.column,e,"floatingFilter","filterMenuTab",["filterMenuTab"])}setupSyncWithFilter(){if(!this.active)return;const e=t=>{const i=this.comp.getFloatingFilterComp();i&&i.then(n=>{if(n){const o=this.filterManager.getCurrentFloatingFilterParentModel(this.column);n.onParentModelChanged(o,t)}})};this.destroySyncListener=this.addManagedListener(this.column,He.EVENT_FILTER_CHANGED,e),this.filterManager.isFilterActive(this.column)&&e(null)}setupWidth(){const e=()=>{const t=`${this.column.getActualWidth()}px`;this.comp.setWidth(t)};this.addManagedListener(this.column,He.EVENT_WIDTH_CHANGED,e),e()}setupFilterChangedListener(){this.active&&(this.destroyFilterChangedListener=this.addManagedListener(this.column,He.EVENT_FILTER_CHANGED,this.updateFilterButton.bind(this)))}updateFilterButton(){!this.suppressFilterButton&&this.comp&&this.comp.setButtonWrapperDisplayed(this.filterManager.isFilterAllowed(this.column))}onColDefChanged(){var e,t;const i=this.active;this.setupActive();const n=!i&&this.active;i&&!this.active&&((e=this.destroySyncListener)===null||e===void 0||e.call(this),(t=this.destroyFilterChangedListener)===null||t===void 0||t.call(this));const o=this.active?this.filterManager.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,r=this.comp.getFloatingFilterComp();!r||!o?this.updateCompDetails(o,n):r.then(l=>{var a;(!l||((a=this.userCompDetails)===null||a===void 0?void 0:a.componentClass)!==o.componentClass)&&this.updateCompDetails(o,n)})}updateCompDetails(e,t){this.setCompDetails(e),this.setupFilterButton(),this.setupUi(),t&&(this.setupSyncWithFilter(),this.setupFilterChangedListener())}}Rg([y("filterManager")],Su.prototype,"filterManager",void 0);Rg([y("columnHoverService")],Su.prototype,"columnHoverService",void 0);Rg([y("menuFactory")],Su.prototype,"menuFactory",void 0);var Tg=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class bu extends ee{constructor(e,t,i,n,o){super(),this.pinned=e,this.column=t,this.eResize=i,this.comp=n,this.ctrl=o}postConstruct(){const e=this.column.getColDef(),t=[];let i,n;const o=()=>{if(Je(this.eResize,i),!i)return;const a=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(t.push(a),n){const c=this.gridOptionsService.is("skipHeaderOnAutoSize"),d=()=>{this.columnModel.autoSizeColumn(this.column,c,"uiColumnResized")};this.eResize.addEventListener("dblclick",d);const u=new Dt(this.eResize);u.addEventListener(Dt.EVENT_DOUBLE_TAP,d),this.addDestroyFunc(()=>{this.eResize.removeEventListener("dblclick",d),u.removeEventListener(Dt.EVENT_DOUBLE_TAP,d),u.destroy()})}},r=()=>{t.forEach(a=>a()),t.length=0},l=()=>{const a=this.column.isResizable(),c=!this.gridOptionsService.is("suppressAutoSize")&&!e.suppressAutoSize;(a!==i||c!==n)&&(i=a,n=c,r(),o())};l(),this.addDestroyFunc(r),this.ctrl.addRefreshFunction(l)}onResizing(e,t){const i=this.normaliseResizeAmount(t),n=[{key:this.column,newWidth:this.resizeStartWidth+i}];this.columnModel.setColumnWidths(n,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=e,this.comp.addOrRemoveCssClass("ag-column-resizing",!0)}normaliseResizeAmount(e){let t=e;const i=this.pinned!=="left",n=this.pinned==="right";return this.gridOptionsService.is("enableRtl")?i&&(t*=-1):n&&(t*=-1),t}}Tg([y("horizontalResizeService")],bu.prototype,"horizontalResizeService",void 0);Tg([y("columnModel")],bu.prototype,"columnModel",void 0);Tg([de],bu.prototype,"postConstruct",null);var Eu=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class Za extends ee{constructor(e){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=e;const t=e.getColDef();this.filteredOnly=!!(t!=null&&t.headerCheckboxSelectionFilteredOnly),this.currentPageOnly=!!(t!=null&&t.headerCheckboxSelectionCurrentPageOnly)}onSpaceKeyDown(e){const t=this.cbSelectAll,i=this.gridOptionsService.getDocument();t.isDisplayed()&&!t.getGui().contains(i.activeElement)&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new Wn),this.cbSelectAll.addCssClass("ag-header-select-all"),Ht(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,m.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,m.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,m.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,m.EVENT_PAGINATION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,m.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,Wn.EVENT_CHANGED,this.onCbSelectAll.bind(this)),ru(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.selectionService.getSelectAllState(this.filteredOnly,this.currentPageOnly);this.cbSelectAll.setValue(e),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){const e=this.localeService.getLocaleTextFunc(),i=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),n=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll",`${n} (${i})`):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(`${n} (${i})`),this.headerCellCtrl.refreshAriaDescription()}checkRightRowModelType(e){const t=this.rowModel.getType();return t==="clientSide"||t==="serverSide"?!0:(console.warn(`AG Grid: ${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue();let t="uiSelectAll";this.currentPageOnly?t="uiSelectAllCurrentPage":this.filteredOnly&&(t="uiSelectAllFiltered");const i={source:t,justFiltered:this.filteredOnly,justCurrentPage:this.currentPageOnly};e?this.selectionService.selectAllRowNodes(i):this.selectionService.deselectAllRowNodes(i)}isCheckboxSelection(){let e=this.column.getColDef().headerCheckboxSelection;if(typeof e=="function"){const t=e,i={column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi,context:this.gridOptionsService.context};e=t(i)}return e?this.checkRightRowModelType("headerCheckboxSelection"):!1}}Eu([y("gridApi")],Za.prototype,"gridApi",void 0);Eu([y("columnApi")],Za.prototype,"columnApi",void 0);Eu([y("rowModel")],Za.prototype,"rowModel",void 0);Eu([y("selectionService")],Za.prototype,"selectionService",void 0);var GS=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},cr;(function(s){s.TAB_GUARD="ag-tab-guard",s.TAB_GUARD_TOP="ag-tab-guard-top",s.TAB_GUARD_BOTTOM="ag-tab-guard-bottom"})(cr||(cr={}));class Dg extends ee{constructor(e){super(),this.skipTabGuardFocus=!1;const{comp:t,eTopGuard:i,eBottomGuard:n,focusInnerElement:o,onFocusIn:r,onFocusOut:l,shouldStopEventPropagation:a,onTabKeyDown:c,handleKeyDown:d,eFocusableElement:u}=e;this.comp=t,this.eTopGuard=i,this.eBottomGuard=n,this.providedFocusInnerElement=o,this.eFocusableElement=u,this.providedFocusIn=r,this.providedFocusOut=l,this.providedShouldStopEventPropagation=a,this.providedOnTabKeyDown=c,this.providedHandleKeyDown=d}postConstruct(){this.createManagedBean(new Hi(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedListener(e,"focus",this.onFocus.bind(this)))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){const e=this.gridOptionsService.getNum("tabIndex")||0;this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}const t=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t)}onFocusIn(e){this.providedFocusIn&&this.providedFocusIn(e)||this.deactivateTabGuards()}onFocusOut(e){this.providedFocusOut&&this.providedFocusOut(e)||this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards()}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const i=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),i&&(i.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length&&t[e?t.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,t.focus()}}GS([y("focusService")],Dg.prototype,"focusService",void 0);GS([de],Dg.prototype,"postConstruct",null);var Ps=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Yt;let Pt=Yt=class extends ee{static addKeyboardModeEvents(e,t){const i=Yt.instancesMonitored.get(e);i&&i.length>0?i.indexOf(t)===-1&&i.push(t):(Yt.instancesMonitored.set(e,[t]),e.addEventListener("keydown",Yt.toggleKeyboardMode),e.addEventListener("mousedown",Yt.toggleKeyboardMode))}static removeKeyboardModeEvents(e,t){const i=Yt.instancesMonitored.get(e);let n=[];i&&i.length&&(n=[...i].filter(o=>o!==t),Yt.instancesMonitored.set(e,n)),n.length===0&&(e.removeEventListener("keydown",Yt.toggleKeyboardMode),e.removeEventListener("mousedown",Yt.toggleKeyboardMode))}static toggleKeyboardMode(e){const t=Yt.keyboardModeActive,i=e.type==="keydown";if(i&&(e.ctrlKey||e.metaKey||e.altKey)||t&&i||!t&&!i)return;Yt.keyboardModeActive=i;const n=e.target.ownerDocument;if(!n)return;const o=Yt.instancesMonitored.get(n);o&&o.forEach(r=>{r.dispatchEvent({type:i?m.EVENT_KEYBOARD_FOCUS:m.EVENT_MOUSE_FOCUS})})}init(){const e=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,m.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.addManagedListener(this.eventService,m.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,m.EVENT_COLUMN_GROUP_OPENED,e),this.addManagedListener(this.eventService,m.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.ctrlsService.whenReady(t=>{this.gridCtrl=t.gridCtrl;const i=this.gridOptionsService.getDocument();Yt.addKeyboardModeEvents(i,this.gridCtrl),this.addDestroyFunc(()=>this.unregisterGridCompController(this.gridCtrl))})}unregisterGridCompController(e){const t=this.gridOptionsService.getDocument();Yt.removeKeyboardModeEvents(t,e)}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;const e=this.focusedCellPosition.column,t=this.columnModel.getGridColumn(e.getId());e!==t&&this.clearFocusedCell()}isKeyboardMode(){return Yt.keyboardModeActive}getFocusCellToUseAfterRefresh(){const e=this.gridOptionsService.getDocument();return this.gridOptionsService.is("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(e.activeElement,ws.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){const e=this.gridOptionsService.getDocument();return this.gridOptionsService.is("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(e.activeElement,Zs.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(e,t){let i=e;for(;i;){if(this.gridOptionsService.getDomData(i,t))return!1;i=i.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(e){return this.isCellRestoreFocused(e)?(setTimeout(()=>{this.restoredFocusedCellPosition=null},0),!0):!1}isCellRestoreFocused(e){return this.restoredFocusedCellPosition==null?!1:this.cellPositionUtils.equals(e,this.restoredFocusedCellPosition)}setRestoreFocusedCell(e){this.getFrameworkOverrides().renderingEngine==="react"&&(this.restoredFocusedCellPosition=e)}getFocusEventParams(){const{rowIndex:e,rowPinned:t,column:i}=this.focusedCellPosition,n={rowIndex:e,rowPinned:t,column:i,isFullWidthCell:!1},o=this.rowRenderer.getRowByPosition({rowIndex:e,rowPinned:t});return o&&(n.isFullWidthCell=o.isFullWidth()),n}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,this.focusedCellPosition==null)return;const e=Object.assign({type:m.EVENT_CELL_FOCUS_CLEARED},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(e)}setFocusedCell(e){const{column:t,rowIndex:i,rowPinned:n,forceBrowserFocus:o=!1,preventScrollOnBrowserFocus:r=!1}=e,l=this.columnModel.getGridColumn(t);if(!l){this.focusedCellPosition=null;return}this.focusedCellPosition=l?{rowIndex:i,rowPinned:Hn(n),column:l}:null;const a=Object.assign(Object.assign({type:m.EVENT_CELL_FOCUSED},this.getFocusEventParams()),{forceBrowserFocus:o,preventScrollOnBrowserFocus:r,floating:null});this.eventService.dispatchEvent(a)}isCellFocused(e){return this.focusedCellPosition==null?!1:this.cellPositionUtils.equals(e,this.focusedCellPosition)}isRowNodeFocused(e){return this.isRowFocused(e.rowIndex,e.rowPinned)}isHeaderWrapperFocused(e){if(this.focusedHeaderPosition==null)return!1;const t=e.getColumnGroupChild(),i=e.getRowIndex(),n=e.getPinned(),{column:o,headerRowIndex:r}=this.focusedHeaderPosition;return t===o&&i===r&&n==o.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(e,t){this.focusedHeaderPosition={headerRowIndex:e,column:t}}focusHeaderPosition(e){const{direction:t,fromTab:i,allowUserOverride:n,event:o}=e;let{headerPosition:r}=e;if(n){const c=this.getFocusedHeader(),d=this.headerNavigationService.getHeaderRowCount();if(i){const u=this.gridOptionsService.getCallback("tabToNextHeader");u&&(r=u({backwards:t==="Before",previousHeaderPosition:c,nextHeaderPosition:r,headerRowCount:d}))}else{const u=this.gridOptionsService.getCallback("navigateToNextHeader");if(u&&o){const h={key:o.key,previousHeaderPosition:c,nextHeaderPosition:r,headerRowCount:d,event:o};r=u(h)}}}return r?r.headerRowIndex===-1?this.focusGridView(r.column):(this.headerNavigationService.scrollToColumn(r.column,t),this.ctrlsService.getHeaderRowContainerCtrl(r.column.getPinned()).focusHeader(r.headerRowIndex,r.column,o)):!1}focusFirstHeader(){let e=this.columnModel.getAllDisplayedColumns()[0];return e?(e.getParent()&&(e=this.columnModel.getColumnGroupAtLevel(e,0)),this.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:e}})):!1}focusLastHeader(e){const t=this.headerNavigationService.getHeaderRowCount()-1,i=ft(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:i},event:e})}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(e,t){return this.focusedCellPosition==null?!1:this.focusedCellPosition.rowIndex===e&&this.focusedCellPosition.rowPinned===Hn(t)}findFocusableElements(e,t,i=!1){const n=$w;let o=Hf;t&&(o+=", "+t),i&&(o+=', [tabindex="-1"]');const r=Array.prototype.slice.apply(e.querySelectorAll(n)),l=Array.prototype.slice.apply(e.querySelectorAll(o));return l.length?((c,d)=>c.filter(u=>d.indexOf(u)===-1))(r,l):r}focusInto(e,t=!1,i=!1){const n=this.findFocusableElements(e,null,i),o=t?ft(n):n[0];return o?(o.focus({preventScroll:!0}),!0):!1}findFocusableElementBeforeTabGuard(e,t){if(!t)return null;const i=this.findFocusableElements(e),n=i.indexOf(t);if(n===-1)return null;let o=-1;for(let r=n-1;r>=0;r--)if(i[r].classList.contains(cr.TAB_GUARD_TOP)){o=r;break}return o<=0?null:i[o-1]}findNextFocusableElement(e=this.eGridDiv,t,i){const n=this.findFocusableElements(e,t?':not([tabindex="-1"])':null),r=this.gridOptionsService.getDocument().activeElement;let l;t?l=n.findIndex(c=>c.contains(r)):l=n.indexOf(r);const a=l+(i?-1:1);return a<0||a>=n.length?null:n[a]}isTargetUnderManagedComponent(e,t){if(!t)return!1;const i=e.querySelectorAll(`.${Hi.FOCUS_MANAGED_CLASS}`);if(!i.length)return!1;for(let n=0;n<i.length;n++)if(i[n].contains(t))return!0;return!1}findTabbableParent(e,t=5){let i=0;for(;e&&hd(e)===null&&++i<=t;)e=e.parentElement;return hd(e)===null?null:e}focusGridView(e,t){if(this.gridOptionsService.is("suppressCellFocus"))return t?this.focusLastHeader():this.focusNextGridCoreContainer(!1);const i=t?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!i)return!1;const{rowIndex:n,rowPinned:o}=i,r=this.getFocusedHeader();if(!e&&r&&(e=r.column),n==null||!e)return!1;if(this.navigationService.ensureCellVisible({rowIndex:n,column:e,rowPinned:o}),this.setFocusedCell({rowIndex:n,column:e,rowPinned:Hn(o),forceBrowserFocus:!0}),this.rangeService){const l={rowIndex:n,rowPinned:o,column:e};this.rangeService.setRangeToCell(l)}return!0}focusNextGridCoreContainer(e,t=!1){return!t&&this.gridCtrl.focusNextInnerContainer(e)?!0:((t||!e&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(e),!1)}};Pt.AG_KEYBOARD_FOCUS="ag-keyboard-focus";Pt.keyboardModeActive=!1;Pt.instancesMonitored=new Map;Ps([y("eGridDiv")],Pt.prototype,"eGridDiv",void 0);Ps([y("columnModel")],Pt.prototype,"columnModel",void 0);Ps([y("headerNavigationService")],Pt.prototype,"headerNavigationService",void 0);Ps([y("rowRenderer")],Pt.prototype,"rowRenderer",void 0);Ps([y("rowPositionUtils")],Pt.prototype,"rowPositionUtils",void 0);Ps([y("cellPositionUtils")],Pt.prototype,"cellPositionUtils",void 0);Ps([ht("rangeService")],Pt.prototype,"rangeService",void 0);Ps([y("navigationService")],Pt.prototype,"navigationService",void 0);Ps([y("ctrlsService")],Pt.prototype,"ctrlsService",void 0);Ps([de],Pt.prototype,"init",null);Pt=Yt=Ps([Se("focusService")],Pt);var bn=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class en extends Zs{constructor(e,t){super(e,t),this.refreshFunctions=[],this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=e}setComp(e,t,i,n){super.setGui(t),this.comp=e,this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(n),this.addColumnHoverListener(),this.setupFilterCss(),this.setupColId(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.createManagedBean(new bu(this.getPinned(),this.column,i,e,this)),this.createManagedBean(new Ja([this.column],t)),this.createManagedBean(new wu(this.column,t,this.beans)),this.createManagedBean(new Hi(t,{shouldStopEventPropagation:o=>this.shouldStopEventPropagation(o),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addMouseDownListenerIfNeeded(t),this.addManagedListener(this.column,He.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this)),this.addManagedListener(this.eventService,m.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,m.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,m.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.addManagedListener(this.eventService,m.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))}addMouseDownListenerIfNeeded(e){if(!ns())return;const t=["mousedown","touchstart"],i=this.gridOptionsService.getDocument();t.forEach(n=>{this.addManagedListener(e,n,o=>{const r=i.activeElement;r!==e&&!e.contains(r)&&(e.focus(),Pt.toggleKeyboardMode(o))})})}setupUserComp(){const e=this.lookupUserCompDetails();this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(t,e)}createParams(){const e=this.column.getColDef();return{column:this.column,displayName:this.displayName,enableSorting:e.sortable,enableMenu:this.menuEnabled,showColumnMenu:i=>{this.gridApi.showColumnMenuAfterButtonClick(this.column,i)},progressSort:i=>{this.sortController.progressSort(this.column,!!i,"uiColumnSorted")},setSort:(i,n)=>{this.sortController.setSortForColumn(this.column,i,!!n,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context,eGridHeader:this.getGui()}}setupSelectAll(){this.selectAllFeature=this.createManagedBean(new Za(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===$.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===$.ENTER&&this.onEnterKeyDown(e)}onEnterKeyDown(e){const t=this.comp.getUserCompInstance();if(t){if(e.ctrlKey||e.metaKey)this.menuEnabled&&t.showMenu&&(e.preventDefault(),t.showMenu());else if(this.sortable){const i=e.shiftKey;this.sortController.progressSort(this.column,i,"uiColumnSorted")}}}isMenuEnabled(){return this.menuEnabled}onFocusIn(e){if(!this.getGui().contains(e.relatedTarget)){const t=this.getRowIndex();this.focusService.setFocusedHeader(t,this.column)}this.setActiveHeader(!0)}onFocusOut(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(){const e={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>this.eGui,getLocation:()=>"header",getTooltipValue:()=>this.column.getColDef().headerTooltip},t=this.createManagedBean(new fg(e,this.beans));t.setComp(this.comp),this.refreshFunctions.push(()=>t.refreshToolTip())}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),i=IS.getHeaderClassesFromColDef(t,this.gridOptionsService,this.column,null),n=this.userHeaderClasses;this.userHeaderClasses=new Set(i),i.forEach(o=>{n.has(o)?n.delete(o):this.comp.addOrRemoveCssClass(o,!0)}),n.forEach(o=>this.comp.addOrRemoveCssClass(o,!1))};this.refreshFunctions.push(e),e()}setDragSource(e){if(this.dragSourceElement=e,this.removeDragSource(),!e||!this.draggable)return;const t=!this.gridOptionsService.is("suppressDragLeaveHidesColumns");this.moveDragSource={type:di.HeaderCell,eElement:e,defaultIconName:t?nt.ICON_HIDE:nt.ICON_NOT_ALLOWED,getDragItem:()=>this.createDragItem(),dragItemName:this.displayName,onDragStarted:()=>this.column.setMoving(!0,"uiColumnMoved"),onDragStopped:()=>this.column.setMoving(!1,"uiColumnMoved"),onGridEnter:i=>{var n;if(t){const o=((n=i==null?void 0:i.columns)===null||n===void 0?void 0:n.filter(r=>!r.getColDef().lockVisible))||[];this.columnModel.setColumnsVisible(o,!0,"uiColumnMoved")}},onGridExit:i=>{var n;if(t){const o=((n=i==null?void 0:i.columns)===null||n===void 0?void 0:n.filter(r=>!r.getColDef().lockVisible))||[];this.columnModel.setColumnsVisible(o,!1,"uiColumnMoved")}}},this.dragAndDropService.addDragSource(this.moveDragSource,!0)}createDragItem(){const e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}}removeDragSource(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)}onColDefChanged(){this.refresh()}updateState(){const e=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!e.suppressMenu,this.sortable=e.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}addRefreshFunction(e){this.refreshFunctions.push(e)}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(e=>e())}refreshHeaderComp(){const e=this.lookupUserCompDetails();(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gridOptionsService.is("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}onColumnRowGroupChanged(){this.checkDisplayName()}onColumnPivotChanged(){this.checkDisplayName()}onColumnValueChanged(){this.checkDisplayName()}setupWidth(){const e=()=>{const t=this.column.getActualWidth();this.comp.setWidth(`${t}px`)};this.addManagedListener(this.column,He.EVENT_WIDTH_CHANGED,e),e()}setupMovingCss(){const e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};this.addManagedListener(this.column,He.EVENT_MOVING_CHANGED,e),e()}setupMenuClass(){const e=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};this.addManagedListener(this.column,He.EVENT_MENU_VISIBLE_CHANGED,e),e()}setupSortableClass(){const e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};e(),this.addRefreshFunction(e),this.addManagedListener(this.eventService,He.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",t)};e(),this.addRefreshFunction(e)}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:i,columnModel:n,gridOptionsService:o}=this;if(!t.isSpanHeaderHeight())return;const{numberOfParents:r,isSpanningTotal:l}=this.getColumnGroupPaddingInfo();if(i.addOrRemoveCssClass("ag-header-span-height",r>0),r===0)return;i.addOrRemoveCssClass("ag-header-span-total",l);const c=o.is("pivotMode")?n.getPivotGroupHeaderHeight():n.getGroupHeaderHeight(),d=n.getColumnHeaderRowHeight(),u=r*c;e.style.setProperty("top",`${-u}px`),e.style.setProperty("height",`${d+u}px`)}getColumnGroupPaddingInfo(){let e=this.column.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let i=!0;for(;e;){if(!e.isPadding()){i=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:i}}setupAutoHeight(e){const t=a=>{if(!this.isAlive())return;const{paddingTop:c,paddingBottom:d,borderBottomWidth:u,borderTopWidth:h}=Jn(this.getGui()),p=c+d+u+h,f=e.offsetHeight+p;if(a<5){const v=this.beans.gridOptionsService.getDocument(),w=!v||!v.contains(e),C=f==0;if(w||C){this.beans.frameworkOverrides.setTimeout(()=>t(a+1),0);return}}this.columnModel.setColumnHeaderHeight(this.column,f)};let i=!1,n;const o=()=>{const a=this.column.isAutoHeaderHeight();a&&!i&&r(),!a&&i&&l()},r=()=>{i=!0,t(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),n=this.resizeObserverService.observeResize(e,()=>t(0))},l=()=>{i=!1,n&&n(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),n=void 0};o(),this.addDestroyFunc(()=>l()),this.addManagedListener(this.column,He.EVENT_WIDTH_CHANGED,()=>i&&t(0)),this.addManagedListener(this.eventService,He.EVENT_SORT_CHANGED,()=>{i&&this.beans.frameworkOverrides.setTimeout(()=>t(0))}),this.addRefreshFunction(o)}refreshAriaSort(){if(this.sortable){const e=this.localeService.getLocaleTextFunc(),t=this.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(Sw(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort."))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press CTRL ENTER to open column menu."))}else this.setAriaDescriptionProperty("menu",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}refreshAriaDescription(){const e=Array.from(this.ariaDescriptionProperties.values());this.comp.setAriaDescription(e.length?e.join(" "):void 0)}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaDescription()}addColumnHoverListener(){const e=()=>{if(!this.gridOptionsService.is("columnHoverHighlight"))return;const t=this.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",t)};this.addManagedListener(this.eventService,m.EVENT_COLUMN_HOVER_CHANGED,e),e()}setupFilterCss(){const e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-filtered",this.column.isFilterActive())};this.addManagedListener(this.column,He.EVENT_FILTER_ACTIVE_CHANGED,e),e()}setupColId(){this.comp.setColId(this.column.getColId())}addActiveHeaderMouseListeners(){const e=t=>this.setActiveHeader(t.type==="mouseenter");this.addManagedListener(this.getGui(),"mouseenter",e),this.addManagedListener(this.getGui(),"mouseleave",e)}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}}bn([y("columnModel")],en.prototype,"columnModel",void 0);bn([y("columnHoverService")],en.prototype,"columnHoverService",void 0);bn([y("sortController")],en.prototype,"sortController",void 0);bn([y("menuFactory")],en.prototype,"menuFactory",void 0);bn([y("dragAndDropService")],en.prototype,"dragAndDropService",void 0);bn([y("resizeObserverService")],en.prototype,"resizeObserverService",void 0);bn([y("gridApi")],en.prototype,"gridApi",void 0);bn([y("columnApi")],en.prototype,"columnApi",void 0);bn([hi],en.prototype,"removeDragSource",null);var Ru=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class ec extends ee{constructor(e,t,i,n){super(),this.eResize=t,this.comp=e,this.pinned=i,this.columnGroup=n}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const e=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(e),!this.gridOptionsService.is("suppressAutoSize")){const t=this.gridOptionsService.is("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",()=>{const i=[];this.columnGroup.getDisplayedLeafColumns().forEach(o=>{o.getColDef().suppressAutoSize||i.push(o.getColId())}),i.length>0&&this.columnModel.autoSizeColumns({columns:i,skipHeader:t,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")})}}onResizeStart(e){this.calculateInitialValues();let t=null;if(e&&(t=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),t){const i=t.getDisplayedLeafColumns();this.resizeTakeFromCols=i.filter(n=>n.isResizable()),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach(n=>this.resizeTakeFromStartWidth+=n.getActualWidth()),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach(n=>this.resizeTakeFromRatios.push(n.getActualWidth()/this.resizeTakeFromStartWidth))}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;this.comp.addOrRemoveCssClass("ag-column-resizing",!0)}onResizing(e,t,i="uiColumnResized"){const n=this.normaliseDragChange(t),o=this.resizeStartWidth+n;this.resizeColumns(o,i,e)}resizeLeafColumnsToFit(e){const t=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup);this.calculateInitialValues(),t>this.resizeStartWidth&&this.resizeColumns(t,e,!0)}resizeColumns(e,t,i=!0){const n=[];if(n.push({columns:this.resizeCols,ratios:this.resizeRatios,width:e}),this.resizeTakeFromCols){const o=e-this.resizeStartWidth;n.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-o})}this.columnModel.resizeColumnSets({resizeSets:n,finished:i,source:t}),i&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)}calculateInitialValues(){const e=this.columnGroup.getDisplayedLeafColumns();this.resizeCols=e.filter(t=>t.isResizable()),this.resizeStartWidth=0,this.resizeCols.forEach(t=>this.resizeStartWidth+=t.getActualWidth()),this.resizeRatios=[],this.resizeCols.forEach(t=>this.resizeRatios.push(t.getActualWidth()/this.resizeStartWidth))}normaliseDragChange(e){let t=e;return this.gridOptionsService.is("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}}Ru([y("horizontalResizeService")],ec.prototype,"horizontalResizeService",void 0);Ru([y("autoWidthCalculator")],ec.prototype,"autoWidthCalculator",void 0);Ru([y("columnModel")],ec.prototype,"columnModel",void 0);Ru([de],ec.prototype,"postConstruct",null);var sk=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class VS extends ee{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,wt.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.addEventListener("widthChanged",e),t.addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.removeEventListener("widthChanged",e),t.removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",e===0)}}sk([de],VS.prototype,"postConstruct",null);var Tu=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class tc extends Zs{constructor(e,t){super(e,t),this.columnGroup=e}setComp(e,t,i){super.setGui(t),this.comp=e,this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.columnGroup,"header"),this.addClasses(),this.addAttributes(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp();const n=this.getParentRowCtrl().getPinned(),o=this.columnGroup.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new Ja(o,t)),this.createManagedBean(new wu(this.columnGroup,t,this.beans)),this.createManagedBean(new VS(e,this.columnGroup)),this.groupResizeFeature=this.createManagedBean(new ec(e,i,n,this.columnGroup)),this.createManagedBean(new Hi(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}resizeLeafColumnsToFit(e){this.groupResizeFeature&&this.groupResizeFeature.resizeLeafColumnsToFit(e)}setupUserComp(){let e=this.displayName;const t={displayName:this.displayName,columnGroup:this.columnGroup,setExpanded:n=>{this.columnModel.setColumnGroupOpened(this.columnGroup.getProvidedColumnGroup(),n,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context};if(!e){let n=this.columnGroup;const o=n.getLeafColumns();for(;n.getParent()&&n.getParent().getLeafColumns().length===o.length;)n=n.getParent();const r=n.getColGroupDef();r&&(e=r.headerName),e||(e=o?this.columnModel.getDisplayNameForColumn(o[0],"header",!0):"")}const i=this.userComponentFactory.getHeaderGroupCompDetails(t);this.comp.setUserCompDetails(i)}setupTooltip(){const e=this.columnGroup.getColGroupDef(),t={getColumn:()=>this.columnGroup,getGui:()=>this.eGui,getLocation:()=>"headerGroup",getTooltipValue:()=>e&&e.headerTooltip};e&&(t.getColDef=()=>e),this.createManagedBean(new fg(t,this.beans)).setComp(this.comp)}setupExpandable(){const e=this.columnGroup.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(e,gt.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(e,gt.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))}refreshExpanded(){const e=this.columnGroup;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0)}addAttributes(){this.comp.setColId(this.columnGroup.getUniqueId())}addClasses(){const e=this.columnGroup.getColGroupDef(),t=IS.getHeaderClassesFromColDef(e,this.gridOptionsService,null,this.columnGroup);this.columnGroup.isPadding()?(t.push("ag-header-group-cell-no-group"),this.columnGroup.getLeafColumns().every(n=>n.isSpanHeaderHeight())&&t.push("ag-header-span-height")):t.push("ag-header-group-cell-with-group"),t.forEach(i=>this.comp.addOrRemoveCssClass(i,!0))}setupMovingCss(){const t=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),i=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.columnGroup.isMoving());t.forEach(n=>{this.addManagedListener(n,He.EVENT_MOVING_CHANGED,i)}),i()}onFocusIn(e){if(!this.eGui.contains(e.relatedTarget)){const t=this.getRowIndex();this.beans.focusService.setFocusedHeader(t,this.columnGroup)}}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===$.ENTER){const i=this.columnGroup,n=!i.isExpanded();this.columnModel.setColumnGroupOpened(i.getProvidedColumnGroup(),n,"uiColumnExpanded")}}setDragSource(e){if(this.isSuppressMoving())return;const t=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),i=!this.gridOptionsService.is("suppressDragLeaveHidesColumns"),n={type:di.HeaderCell,eElement:e,defaultIconName:i?nt.ICON_HIDE:nt.ICON_NOT_ALLOWED,dragItemName:this.displayName,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:()=>t.forEach(o=>o.setMoving(!0,"uiColumnDragged")),onDragStopped:()=>t.forEach(o=>o.setMoving(!1,"uiColumnDragged")),onGridEnter:o=>{var r;if(i){const l=((r=o==null?void 0:o.columns)===null||r===void 0?void 0:r.filter(a=>!a.getColDef().lockVisible))||[];this.columnModel.setColumnsVisible(l,!0,"uiColumnMoved")}},onGridExit:o=>{var r;if(i){const l=((r=o==null?void 0:o.columns)===null||r===void 0?void 0:r.filter(a=>!a.getColDef().lockVisible))||[];this.columnModel.setColumnsVisible(l,!1,"uiColumnMoved")}}};this.dragAndDropService.addDragSource(n,!0),this.addDestroyFunc(()=>this.dragAndDropService.removeDragSource(n))}getDragItemForGroup(){const e=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),t={};e.forEach(n=>t[n.getId()]=n.isVisible());const i=[];return this.columnModel.getAllDisplayedColumns().forEach(n=>{e.indexOf(n)>=0&&(i.push(n),Xt(e,n))}),e.forEach(n=>i.push(n)),{columns:i,visibleState:t}}isSuppressMoving(){let e=!1;return this.columnGroup.getLeafColumns().forEach(i=>{(i.getColDef().suppressMovable||i.getColDef().lockPosition)&&(e=!0)}),e||this.gridOptionsService.is("suppressMovableColumns")}}Tu([y("columnModel")],tc.prototype,"columnModel",void 0);Tu([y("dragAndDropService")],tc.prototype,"dragAndDropService",void 0);Tu([y("gridApi")],tc.prototype,"gridApi",void 0);Tu([y("columnApi")],tc.prototype,"columnApi",void 0);var HS=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let nk=0;class Vl extends ee{constructor(e,t,i){super(),this.instanceId=nk++,this.headerCellCtrls={},this.rowIndex=e,this.pinned=t,this.type=i}getInstanceId(){return this.instanceId}setComp(e){this.comp=e,this.onRowHeightChanged(),this.onVirtualColumnsChanged(),this.setWidth(),this.addEventListeners(),ns()&&this.comp.setTransform("translateZ(0)"),e.setAriaRowIndex(this.rowIndex+1)}addEventListeners(){this.addManagedListener(this.eventService,m.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,m.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,m.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(this.eventService,m.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,m.EVENT_GRID_STYLES_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("headerHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("groupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotGroupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("floatingFiltersHeight",this.onRowHeightChanged.bind(this))}getHeaderCellCtrl(e){return bo(this.headerCellCtrls).find(t=>t.getColumnGroupChild()===e)}onDisplayedColumnsChanged(){this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){return this.gridOptionsService.isDomLayout("print")?this.pinned!=null?0:this.columnModel.getContainerWidth("right")+this.columnModel.getContainerWidth("left")+this.columnModel.getContainerWidth(null):this.columnModel.getContainerWidth(this.pinned)}onRowHeightChanged(){let e=this.columnModel.getHeaderRowCount();const t=[];let i=0;this.columnModel.hasFloatingFilters()&&(e++,i=1);const n=this.columnModel.getColumnGroupHeaderRowHeight(),o=this.columnModel.getColumnHeaderRowHeight(),r=1+i,l=e-r;for(let d=0;d<l;d++)t.push(n);t.push(o);for(let d=0;d<i;d++)t.push(this.columnModel.getFloatingFiltersHeight());let a=0;for(let d=0;d<this.rowIndex;d++)a+=t[d];const c=t[this.rowIndex]+"px";this.comp.setTop(a+"px"),this.comp.setHeight(c)}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(){const e=this.headerCellCtrls;this.headerCellCtrls={},this.getColumnsInViewport().forEach(o=>{if(o.isEmptyGroup())return;const r=o.getUniqueId();let l=e[r];if(delete e[r],l&&l.getColumnGroupChild()!=o&&(this.destroyBean(l),l=void 0),l==null)switch(this.type){case Wt.FLOATING_FILTER:l=this.createBean(new Su(o,this));break;case Wt.COLUMN_GROUP:l=this.createBean(new tc(o,this));break;default:l=this.createBean(new en(o,this));break}this.headerCellCtrls[r]=l});const i=o=>this.focusService.isHeaderWrapperFocused(o)?this.columnModel.isDisplayed(o.getColumnGroupChild()):!1;Rt(e,(o,r)=>{i(r)?this.headerCellCtrls[o]=r:this.destroyBean(r)});const n=Us(this.headerCellCtrls);this.comp.setHeaderCtrls(n)}getColumnsInViewport(){return this.gridOptionsService.isDomLayout("print")?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let e=[];const t=this.getActualDepth();return["left",null,"right"].forEach(i=>{const n=this.columnModel.getVirtualHeaderGroupRow(i,t);e=e.concat(n)}),e}getActualDepth(){return this.type==Wt.FLOATING_FILTER?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())}focusHeader(e,t){const n=Us(this.headerCellCtrls).find(o=>o.getColumnGroupChild()==e);return n?(n.focus(t),!0):!1}destroy(){Rt(this.headerCellCtrls,(e,t)=>{this.destroyBean(t)}),this.headerCellCtrls={},super.destroy()}}HS([y("columnModel")],Vl.prototype,"columnModel",void 0);HS([y("focusService")],Vl.prototype,"focusService",void 0);var ic=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class il extends ee{constructor(e){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=e}setComp(e,t){this.comp=e,this.eViewport=t,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,m.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,m.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()}setupDragAndDrop(e){const t=new tl(this.pinned,e);this.createManagedBean(t)}refresh(e=!1){const t=new Xf,i=this.focusService.getFocusHeaderToUseAfterRefresh(),n=()=>{const a=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let c=0;c<a;c++){const d=this.createBean(new Vl(t.next(),this.pinned,Wt.COLUMN_GROUP));this.groupsRowCtrls.push(d)}},o=()=>{const a=t.next(),c=!this.hidden&&(this.columnsRowCtrl==null||!e||this.columnsRowCtrl.getRowIndex()!==a);(c||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),c&&(this.columnsRowCtrl=this.createBean(new Vl(a,this.pinned,Wt.COLUMN)))},r=()=>{this.includeFloatingFilter=this.columnModel.hasFloatingFilters()&&!this.hidden;const a=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){a();return}const c=t.next();if(this.filtersRowCtrl){const d=this.filtersRowCtrl.getRowIndex()!==c;(!e||d)&&a()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new Vl(c,this.pinned,Wt.FLOATING_FILTER)))};n(),o(),r();const l=this.getAllCtrls();this.comp.setCtrls(l),this.restoreFocusOnHeader(i)}restoreFocusOnHeader(e){e==null||e.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:e})}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){const e=this.columnModel.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new Jr(e=>this.comp.setCenterWidth(`${e}px`),!0))}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}setupPinnedWidth(){if(this.pinned==null)return;const e=this.pinned==="left",t=this.pinned==="right";this.hidden=!0;const i=()=>{const n=e?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(n==null)return;const o=n==0,r=this.hidden!==o,l=this.gridOptionsService.is("enableRtl"),a=this.gridOptionsService.getScrollbarWidth(),d=this.scrollVisibleService.isVerticalScrollShowing()&&(l&&e||!l&&t)?n+a:n;this.comp.setPinnedContainerWidth(`${d}px`),this.comp.setDisplayed(!o),r&&(this.hidden=o,this.refresh())};this.addManagedListener(this.eventService,m.EVENT_LEFT_PINNED_WIDTH_CHANGED,i),this.addManagedListener(this.eventService,m.EVENT_RIGHT_PINNED_WIDTH_CHANGED,i),this.addManagedListener(this.eventService,m.EVENT_SCROLL_VISIBILITY_CHANGED,i),this.addManagedListener(this.eventService,m.EVENT_SCROLLBAR_WIDTH_CHANGED,i)}getHeaderCtrlForColumn(e){if(e instanceof He)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(e):void 0;if(this.groupsRowCtrls.length!==0)for(let t=0;t<this.groupsRowCtrls.length;t++){const i=this.groupsRowCtrls[t].getHeaderCellCtrl(e);if(i)return i}}getHtmlElementForColumnHeader(e){const t=this.getHeaderCtrlForColumn(e);return t?t.getGui():null}getRowType(e){const i=this.getAllCtrls()[e];return i?i.getType():void 0}focusHeader(e,t,i){const o=this.getAllCtrls()[e];return o?o.focusHeader(t,i):!1}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}}ic([y("ctrlsService")],il.prototype,"ctrlsService",void 0);ic([y("scrollVisibleService")],il.prototype,"scrollVisibleService",void 0);ic([y("pinnedWidthService")],il.prototype,"pinnedWidthService",void 0);ic([y("columnModel")],il.prototype,"columnModel",void 0);ic([y("focusService")],il.prototype,"focusService",void 0);var Og=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class xi extends ke{constructor(e){super(),this.headerRowComps={},this.rowCompsList=[],this.pinned=e}init(){this.selectAndSetTemplate();const e={setDisplayed:i=>this.setDisplayed(i),setCtrls:i=>this.setCtrls(i),setCenterWidth:i=>this.eCenterContainer.style.width=i,setViewportScrollLeft:i=>this.getGui().scrollLeft=i,setPinnedContainerWidth:i=>{const n=this.getGui();n.style.width=i,n.style.maxWidth=i,n.style.minWidth=i}};this.createManagedBean(new il(this.pinned)).setComp(e,this.getGui())}selectAndSetTemplate(){const e=this.pinned=="left",t=this.pinned=="right",i=e?xi.PINNED_LEFT_TEMPLATE:t?xi.PINNED_RIGHT_TEMPLATE:xi.CENTER_TEMPLATE;this.setTemplate(i),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()}destroyRowComps(){this.setCtrls([])}destroyRowComp(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())}setCtrls(e){const t=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];let i;const n=o=>{const r=o.getGui();r.parentElement!=this.eRowContainer&&this.eRowContainer.appendChild(r),i&&Wf(this.eRowContainer,r,i),i=r};e.forEach(o=>{const r=o.getInstanceId(),l=t[r];delete t[r];const a=l||this.createBean(new bg(o));this.headerRowComps[r]=a,this.rowCompsList.push(a),n(a)}),Us(t).forEach(o=>this.destroyRowComp(o))}}xi.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="presentation"></div>';xi.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="presentation"></div>';xi.CENTER_TEMPLATE=`<div class="ag-header-viewport" role="presentation">
            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>
        </div>`;Og([ue("eCenterContainer")],xi.prototype,"eCenterContainer",void 0);Og([de],xi.prototype,"init",null);Og([hi],xi.prototype,"destroyRowComps",null);var sc=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},xs;(function(s){s[s.UP=0]="UP",s[s.DOWN=1]="DOWN",s[s.LEFT=2]="LEFT",s[s.RIGHT=3]="RIGHT"})(xs||(xs={}));let Po=class extends ee{postConstruct(){this.ctrlsService.whenReady(e=>{this.gridBodyCon=e.gridBodyCtrl})}getHeaderRowCount(){const e=this.ctrlsService.getHeaderRowContainerCtrl();return e?e.getRowCount():0}navigateVertically(e,t,i){if(t||(t=this.focusService.getFocusedHeader()),!t)return!1;const{headerRowIndex:n,column:o}=t,r=this.getHeaderRowCount(),l=e===xs.UP;let{nextRow:a,nextFocusColumn:c}=l?this.headerPositionUtils.getColumnVisibleParent(o,n):this.headerPositionUtils.getColumnVisibleChild(o,n),d=!1;return a<0&&(a=0,c=o,d=!0),a>=r&&(a=-1),!d&&!c?!1:this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a,column:c},allowUserOverride:!0,event:i})}navigateHorizontally(e,t=!1,i){const n=this.focusService.getFocusedHeader(),o=e===xs.LEFT,r=this.gridOptionsService.is("enableRtl");let l,a;return o!==r?(a="Before",l=this.headerPositionUtils.findHeader(n,a)):(a="After",l=this.headerPositionUtils.findHeader(n,a)),l||!t?this.focusService.focusHeaderPosition({headerPosition:l,direction:a,fromTab:t,allowUserOverride:!0,event:i}):this.focusNextHeaderRow(n,a,i)}focusNextHeaderRow(e,t,i){const n=e.headerRowIndex;let o=null,r;return t==="Before"?n>0&&(r=n-1,o=this.headerPositionUtils.findColAtEdgeForHeaderRow(r,"end")):(r=n+1,o=this.headerPositionUtils.findColAtEdgeForHeaderRow(r,"start")),this.focusService.focusHeaderPosition({headerPosition:o,direction:t,fromTab:!0,allowUserOverride:!0,event:i})}scrollToColumn(e,t="After"){if(e.getPinned())return;let i;if(e instanceof wt){const n=e.getDisplayedLeafColumns();i=t==="Before"?ft(n):n[0]}else i=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(i)}};sc([y("focusService")],Po.prototype,"focusService",void 0);sc([y("headerPositionUtils")],Po.prototype,"headerPositionUtils",void 0);sc([y("ctrlsService")],Po.prototype,"ctrlsService",void 0);sc([de],Po.prototype,"postConstruct",null);Po=sc([Se("headerNavigationService")],Po);var Du=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class nc extends ee{setComp(e,t,i){this.comp=e,this.eGui=t,this.createManagedBean(new Hi(i,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,m.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,m.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListener("headerHeight",e),this.addManagedPropertyListener("pivotHeaderHeight",e),this.addManagedPropertyListener("groupHeaderHeight",e),this.addManagedPropertyListener("pivotGroupHeaderHeight",e),this.addManagedPropertyListener("floatingFiltersHeight",e),this.addManagedListener(this.eventService,m.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,m.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,e),this.addManagedListener(this.eventService,m.EVENT_GRID_STYLES_CHANGED,e)}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){const{columnModel:e}=this;let t=0,i=e.getHeaderRowCount(),n;e.hasFloatingFilters()&&(i++,t=1);const r=this.columnModel.getColumnGroupHeaderRowHeight(),l=this.columnModel.getColumnHeaderRowHeight(),a=1+t,c=i-a;if(n=t*e.getFloatingFiltersHeight(),n+=c*r,n+=l,this.headerHeight===n)return;this.headerHeight=n;const d=`${n+1}px`;this.comp.setHeightAndMinHeight(d),this.eventService.dispatchEvent({type:m.EVENT_HEADER_HEIGHT_CHANGED})}onPivotModeChanged(){const e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)}onDisplayedColumnsChanged(){const t=this.columnModel.getAllDisplayedColumns().some(i=>i.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",t)}onTabKeyDown(e){const t=this.gridOptionsService.is("enableRtl"),i=e.shiftKey!==t?xs.LEFT:xs.RIGHT;(this.headerNavigationService.navigateHorizontally(i,!0,e)||this.focusService.focusNextGridCoreContainer(e.shiftKey))&&e.preventDefault()}handleKeyDown(e){let t=null;switch(e.key){case $.LEFT:t=xs.LEFT;case $.RIGHT:Q(t)||(t=xs.RIGHT),this.headerNavigationService.navigateHorizontally(t,!1,e);break;case $.UP:t=xs.UP;case $.DOWN:Q(t)||(t=xs.DOWN),this.headerNavigationService.navigateVertically(t,null,e)&&e.preventDefault();break;default:return}}onFocusOut(e){const t=this.gridOptionsService.getDocument(),{relatedTarget:i}=e;!i&&this.eGui.contains(t.activeElement)||this.eGui.contains(i)||this.focusService.clearFocusedHeader()}}Du([y("headerNavigationService")],nc.prototype,"headerNavigationService",void 0);Du([y("focusService")],nc.prototype,"focusService",void 0);Du([y("columnModel")],nc.prototype,"columnModel",void 0);Du([y("ctrlsService")],nc.prototype,"ctrlsService",void 0);var ok=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class oc extends ke{constructor(){super(oc.TEMPLATE)}postConstruct(){const e={addOrRemoveCssClass:(n,o)=>this.addOrRemoveCssClass(n,o),setHeightAndMinHeight:n=>{this.getGui().style.height=n,this.getGui().style.minHeight=n}};this.createManagedBean(new nc).setComp(e,this.getGui(),this.getFocusableElement());const i=n=>{this.createManagedBean(n),this.appendChild(n)};i(new xi("left")),i(new xi(null)),i(new xi("right"))}}oc.TEMPLATE='<div class="ag-header" role="presentation"/>';ok([de],oc.prototype,"postConstruct",null);var _g=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let aa=class extends ee{addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};return this.dragService.addDragSource(t),()=>this.dragService.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const i=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(i)}setResizeIcons(){const e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e,t){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}};_g([y("dragService")],aa.prototype,"dragService",void 0);_g([y("ctrlsService")],aa.prototype,"ctrlsService",void 0);aa=_g([Se("horizontalResizeService")],aa);var rc=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let Ao=class extends ee{hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(e,t){this.showPopup(e,i=>{this.popupService.positionPopupUnderMouseEvent({column:e,type:"columnMenu",mouseEvent:t,ePopup:i})},"columnMenu",t.target)}showMenuAfterButtonClick(e,t,i){this.showPopup(e,n=>{this.popupService.positionPopupByComponent({type:i,eventSource:t,ePopup:n,keepWithinBounds:!0,position:"under",column:e})},i,t)}showPopup(e,t,i,n){const o=this.filterManager.getOrCreateFilterWrapper(e,"COLUMN_MENU");if(!o)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");const r=document.createElement("div");Ht(r,"presentation"),r.classList.add("ag-menu"),this.tabListener=this.addManagedListener(r,"keydown",p=>this.trapFocusWithin(p,r)),o.guiPromise.then(p=>r.appendChild(p));let l;const a=()=>{var p;return(p=o.filterPromise)===null||p===void 0?void 0:p.then(g=>{var f;return(f=g==null?void 0:g.afterGuiDetached)===null||f===void 0?void 0:f.call(g)})},c=n||this.ctrlsService.getGridBodyCtrl().getGui(),d=p=>{e.setMenuVisible(!1,"contextMenu");const g=p instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),g&&n&&yn(n)){const f=this.focusService.findTabbableParent(n);f&&f.focus()}a()},u=this.localeService.getLocaleTextFunc(),h=this.popupService.addPopup({modal:!0,eChild:r,closeOnEsc:!0,closedCallback:d,positionCallback:()=>t(r),anchorToElement:c,ariaLabel:u("ariaLabelColumnMenu","Column Menu")});h&&(this.hidePopup=l=h.hideFunc),o.filterPromise.then(p=>{t(r),p.afterGuiAttached&&p.afterGuiAttached({container:i,hidePopup:l})}),e.setMenuVisible(!0,"contextMenu")}trapFocusWithin(e,t){e.key!==$.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(t,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(t,e.shiftKey))}isMenuEnabled(e){return e.isFilterAllowed()&&e.getMenuTabs(["filterMenuTab"]).includes("filterMenuTab")}};rc([y("filterManager")],Ao.prototype,"filterManager",void 0);rc([y("popupService")],Ao.prototype,"popupService",void 0);rc([y("focusService")],Ao.prototype,"focusService",void 0);rc([y("ctrlsService")],Ao.prototype,"ctrlsService",void 0);Ao=rc([Se("menuFactory")],Ao);var Ou=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class sl extends ke{constructor(e){super(sl.getTemplate(e.cssClass)),this.items=[],this.tabbedItemScrollMap=new Map,this.params=e,e.items&&e.items.forEach(t=>this.addItem(t))}postConstruct(){this.createManagedBean(new Hi(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)})),this.addDestroyFunc(()=>{var e,t,i;return(i=(t=(e=this.activeItem)===null||e===void 0?void 0:e.tabbedItem)===null||t===void 0?void 0:t.afterDetachedCallback)===null||i===void 0?void 0:i.call(t)})}static getTemplate(e){return`<div class="ag-tabs ${e}">
            <div ref="eHeader" role="tablist" class="ag-tabs-header ${e?`${e}-header`:""}"></div>
            <div ref="eBody" role="presentation" class="ag-tabs-body ${e?`${e}-body`:""}"></div>
        </div>`}handleKeyDown(e){const t=this.gridOptionsService.getDocument();switch(e.key){case $.RIGHT:case $.LEFT:if(!this.eHeader.contains(t.activeElement))return;const i=e.key===$.RIGHT,n=this.gridOptionsService.is("enableRtl"),o=this.items.indexOf(this.activeItem),r=i!==n?Math.min(o+1,this.items.length-1):Math.max(o-1,0);if(o===r)return;e.preventDefault();const l=this.items[r];this.showItemWrapper(l),l.eHeaderButton.focus();break;case $.UP:case $.DOWN:e.stopPropagation();break}}onTabKeyDown(e){if(e.defaultPrevented)return;const{focusService:t,eHeader:i,eBody:n,activeItem:o}=this,l=this.gridOptionsService.getDocument().activeElement,a=e.target;if(e.preventDefault(),i.contains(l)){t.focusInto(n,e.shiftKey);return}let c=null;t.isTargetUnderManagedComponent(n,a)&&(e.shiftKey&&(c=this.focusService.findFocusableElementBeforeTabGuard(n,a)),c||(c=o.eHeaderButton)),!c&&n.contains(l)&&(c=t.findNextFocusableElement(n,!1,e.shiftKey),c||(c=o.eHeaderButton)),c&&c.focus()}setAfterAttachedParams(e){this.afterAttachedParams=e}showFirstItem(){this.items.length>0&&this.showItemWrapper(this.items[0])}addItem(e){const t=document.createElement("span");Ht(t,"tab"),t.setAttribute("tabindex","-1"),t.appendChild(e.title),t.classList.add("ag-tab"),this.eHeader.appendChild(t),Qn(t,e.titleLabel);const i={tabbedItem:e,eHeaderButton:t};this.items.push(i),t.addEventListener("click",this.showItemWrapper.bind(this,i))}showItem(e){const t=this.items.find(i=>i.tabbedItem===e);t&&this.showItemWrapper(t)}showItemWrapper(e){var t,i;const{tabbedItem:n,eHeaderButton:o}=e;if(this.params.onItemClicked&&this.params.onItemClicked({item:n}),this.activeItem===e){nw(this.params.onActiveItemClicked);return}this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),Ni(this.eBody),n.bodyPromise.then(r=>{this.eBody.appendChild(r);const l=!this.focusService.isKeyboardMode();if(this.focusService.focusInto(this.eBody,!1,l),n.afterAttachedCallback&&n.afterAttachedCallback(this.afterAttachedParams),this.params.keepScrollPosition){const a=n.getScrollableContainer&&n.getScrollableContainer()||r;this.lastScrollListener=this.addManagedListener(a,"scroll",()=>{this.tabbedItemScrollMap.set(n.name,a.scrollTop)});const c=this.tabbedItemScrollMap.get(n.name);c!==void 0&&setTimeout(()=>{a.scrollTop=c},0)}}),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),(i=(t=this.activeItem.tabbedItem).afterDetachedCallback)===null||i===void 0||i.call(t)),o.classList.add("ag-tab-selected"),this.activeItem=e}}Ou([y("focusService")],sl.prototype,"focusService",void 0);Ou([ue("eHeader")],sl.prototype,"eHeader",void 0);Ou([ue("eBody")],sl.prototype,"eBody",void 0);Ou([de],sl.prototype,"postConstruct",null);var rk=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};const lk=50;let Op=class extends ee{constructor(){super(...arguments),this.polyfillFunctions=[]}observeResize(e,t){const i=this.gridOptionsService.getWindow(),n=()=>{const a=new i.ResizeObserver(t);return a.observe(e),()=>a.disconnect()},o=()=>{let a=Rp(e),c=Ep(e),d=!0;const u=()=>{if(d){const h=Rp(e),p=Ep(e);(h!==a||p!==c)&&(a=h,c=p,t()),this.doNextPolyfillTurn(u)}};return u(),()=>d=!1},r=this.gridOptionsService.is("suppressBrowserResizeObserver");return!!i.ResizeObserver&&!r?n():o()}doNextPolyfillTurn(e){this.polyfillFunctions.push(e),this.schedulePolyfill()}schedulePolyfill(){if(this.polyfillScheduled)return;const e=()=>{const t=this.polyfillFunctions;this.polyfillScheduled=!1,this.polyfillFunctions=[],t.forEach(i=>i())};this.polyfillScheduled=!0,this.getFrameworkOverrides().setTimeout(e,lk)}};Op=rk([Se("resizeObserverService")],Op);var _u=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let Pr=class extends ee{constructor(){super(...arguments),this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}setScrollTop(e){const t=this.gridOptionsService.is("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,t&&e===0){const i=this.paginationProxy.getCurrentPage();i!==this.lastPage&&(this.lastPage=i,this.scrollGoingDown=!0)}this.lastScrollTop=e}init(){this.useAnimationFrame=!this.gridOptionsService.is("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(e){this.useAnimationFrame===!1&&console.warn(`AG Grid: AnimationFrameService.${e} called but animation frames are off`)}createTask(e,t,i){this.verifyAnimationFrameOn(i);const n={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[i],n),this.schedule()}cancelTask(e){this.cancelledTasks.add(e)}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((i,n)=>i.index!==n.index?t*(n.index-i.index):n.createOrder-i.createOrder),e.sorted=!0}addDestroyTask(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()}executeFrame(e){this.verifyAnimationFrameOn("executeFrame");const t=this.createTasksP1,i=t.list,n=this.createTasksP2,o=n.list,r=this.destroyTasks,l=new Date().getTime();let a=new Date().getTime()-l;const c=e<=0,d=this.ctrlsService.getGridBodyCtrl();for(;c||a<e;){if(!d.getScrollFeature().scrollGridIfNeeded()){let h;if(i.length)this.sortTaskList(t),h=i.pop().task;else if(o.length)this.sortTaskList(n),h=o.pop().task;else if(r.length)h=r.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(h)||h()}a=new Date().getTime()-l}i.length||o.length||r.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)}requestAnimationFrame(e){const t=this.gridOptionsService.getWindow();t.requestAnimationFrame?t.requestAnimationFrame(e):t.webkitRequestAnimationFrame?t.webkitRequestAnimationFrame(e):t.setTimeout(e,0)}isQueueEmpty(){return!this.ticking}debounce(e){let t=!1;return()=>{if(!this.isOn()){this.getFrameworkOverrides().setTimeout(e,0);return}t||(t=!0,this.addDestroyTask(()=>{t=!1,e()}))}}};_u([y("ctrlsService")],Pr.prototype,"ctrlsService",void 0);_u([y("paginationProxy")],Pr.prototype,"paginationProxy",void 0);_u([de],Pr.prototype,"init",null);Pr=_u([Se("animationFrameService")],Pr);var lc=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let Fo=class extends ee{postConstruct(){this.ctrlsService.whenReady(e=>{this.centerRowContainerCtrl=e.centerRowContainerCtrl})}getPreferredWidthForColumn(e,t){const i=this.getHeaderCellForColumn(e);if(!i)return-1;const n=this.rowRenderer.getAllCellsForColumn(e);return t||n.push(i),this.addElementsToContainerAndGetWidth(n)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.addElementsToContainerAndGetWidth([t]):-1}addElementsToContainerAndGetWidth(e){const t=document.createElement("form");t.style.position="fixed";const i=this.centerRowContainerCtrl.getContainerElement();e.forEach(r=>this.cloneItemIntoDummy(r,t)),i.appendChild(t);const n=t.offsetWidth;i.removeChild(t);const o=this.getAutoSizePadding();return n+o}getAutoSizePadding(){const e=this.gridOptionsService.getNum("autoSizePadding");return e!=null&&e>=0?e:20}getHeaderCellForColumn(e){let t=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(i=>{const n=i.getHtmlElementForColumnHeader(e);n!=null&&(t=n)}),t}cloneItemIntoDummy(e,t){const i=e.cloneNode(!0);i.style.width="",i.style.position="static",i.style.left="";const n=document.createElement("div"),o=n.classList;["ag-header-cell","ag-header-group-cell"].some(a=>i.classList.contains(a))?(o.add("ag-header","ag-header-row"),n.style.position="static"):o.add("ag-row");let l=e.parentElement;for(;l;){if(["ag-header-row","ag-row"].some(c=>l.classList.contains(c))){for(let c=0;c<l.classList.length;c++){const d=l.classList[c];d!="ag-row-position-absolute"&&o.add(d)}break}l=l.parentElement}n.appendChild(i),t.appendChild(n)}};lc([y("rowRenderer")],Fo.prototype,"rowRenderer",void 0);lc([y("ctrlsService")],Fo.prototype,"ctrlsService",void 0);lc([y("rowCssClassCalculator")],Fo.prototype,"rowCssClassCalculator",void 0);lc([de],Fo.prototype,"postConstruct",null);Fo=lc([Se("autoWidthCalculator")],Fo);var Pu=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class ac extends ee{constructor(e,t){super(),this.createRowCon=e,this.destroyRowCtrls=t,this.stickyRowCtrls=[],this.containerHeight=0}postConstruct(){this.isClientSide=this.rowModel.getType()==="clientSide",this.ctrlsService.whenReady(e=>{this.gridBodyCtrl=e.gridBodyCtrl})}getStickyRowCtrls(){return this.stickyRowCtrls}checkStickyRows(){let e=0;if(!this.gridOptionsService.isGroupRowsSticky()){this.refreshNodesAndContainerHeight([],e);return}const t=[],i=this.rowRenderer.getFirstVisibleVerticalPixel(),n=o=>{var r,l,a;t.push(o);let c;if(this.isClientSide){let u=o;for(;u.expanded;)if(u.master)u=u.detailNode;else if(u.childrenAfterSort){if(u.childrenAfterSort.length===0)break;u=ft(u.childrenAfterSort)}c=u.rowTop+u.rowHeight}else if(o.master)c=o.detailNode.rowTop+o.detailNode.rowHeight;else{const u=(r=o.childStore)===null||r===void 0?void 0:r.getStoreBounds();c=((l=u==null?void 0:u.heightPx)!==null&&l!==void 0?l:0)+((a=u==null?void 0:u.topPx)!==null&&a!==void 0?a:0)}const d=i+e+o.rowHeight;c<d?o.stickyRowTop=e+(c-d):o.stickyRowTop=e,e=0,t.forEach(u=>{const h=u.stickyRowTop+u.rowHeight;e<h&&(e=h)})};for(;;){const o=i+e,r=this.rowModel.getRowIndexAtPixel(o),l=this.rowModel.getRow(r);if(l==null||l.level<0)break;const a=[];let c=l.parent;for(;c.level>=0;)a.push(c),c=c.parent;const d=a.reverse().find(u=>t.indexOf(u)<0&&u.displayed);if(d){n(d);continue}if(l.isExpandable()&&l.expanded&&l.rowTop<o){n(l);continue}break}this.refreshNodesAndContainerHeight(t,e)}refreshStickyNode(e){const t=[];for(let i=0;i<this.stickyRowCtrls.length;i++){const n=this.stickyRowCtrls[i].getRowNode();n!==e&&t.push(n)}this.refreshNodesAndContainerHeight(t,this.containerHeight),this.checkStickyRows()}refreshNodesAndContainerHeight(e,t){const i=this.stickyRowCtrls.filter(l=>e.indexOf(l.getRowNode())===-1),n=e.filter(l=>this.stickyRowCtrls.findIndex(a=>a.getRowNode()===l)===-1),o={};i.forEach(l=>{o[l.getRowNode().id]=l,this.stickyRowCtrls=this.stickyRowCtrls.filter(a=>a!==l)});for(const l of Object.values(o))l.getRowNode().sticky=!1;this.destroyRowCtrls(o,!1);const r=n.map(l=>(l.sticky=!0,this.createRowCon(l,!1,!1)));this.stickyRowCtrls.push(...r),this.stickyRowCtrls.forEach(l=>l.setRowTop(l.getRowNode().stickyRowTop)),this.stickyRowCtrls.sort((l,a)=>a.getRowNode().rowIndex-l.getRowNode().rowIndex),this.containerHeight!==t&&(this.containerHeight=t,this.gridBodyCtrl.setStickyTopHeight(t))}}Pu([y("rowModel")],ac.prototype,"rowModel",void 0);Pu([y("rowRenderer")],ac.prototype,"rowRenderer",void 0);Pu([y("ctrlsService")],ac.prototype,"ctrlsService",void 0);Pu([de],ac.prototype,"postConstruct",null);var As=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};const ak=10;let Vi=class extends ee{constructor(){super(...arguments),this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1}postConstruct(){this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl(),this.initialise()})}initialise(){if(this.addManagedListener(this.eventService,m.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,m.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,m.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,m.EVENT_BODY_SCROLL,this.onBodyScroll.bind(this)),this.addManagedListener(this.eventService,m.EVENT_BODY_HEIGHT_CHANGED,this.redraw.bind(this)),this.addManagedPropertyListener("domLayout",this.onDomLayoutChanged.bind(this)),this.addManagedPropertyListener("rowClass",this.redrawRows.bind(this)),this.gridOptionsService.isGroupRowsSticky()){const e=this.rowModel.getType();(e==="clientSide"||e==="serverSide")&&(this.stickyRowFeature=this.createManagedBean(new ac(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsService.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gridOptionsService.is("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gridOptionsService.is("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new ck(t)}}getKeepDetailRowsCount(){const e=this.gridOptionsService.getNum("keepDetailRowsCount");return Q(e)&&e>0?e:ak}getRowCtrls(){return this.allRowCtrls}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]}updateAllRowCtrls(){const e=Us(this.rowCtrlsByRowIndex),t=this.gridOptionsService.is("ensureDomOrder"),i=this.gridOptionsService.isDomLayout("print");(t||i)&&e.sort((r,l)=>r.getRowNode().rowIndex-l.getRowNode.rowIndex);const n=Us(this.zombieRowCtrls),o=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];this.allRowCtrls=[...e,...n,...o]}onCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}registerCellEventListeners(){this.addManagedListener(this.eventService,m.EVENT_CELL_FOCUSED,t=>{this.onCellFocusChanged(t)}),this.addManagedListener(this.eventService,m.EVENT_CELL_FOCUS_CLEARED,()=>{this.onCellFocusChanged()}),this.addManagedListener(this.eventService,m.EVENT_FLASH_CELLS,t=>{this.getAllCellCtrls().forEach(i=>i.onFlashCells(t))}),this.addManagedListener(this.eventService,m.EVENT_COLUMN_HOVER_CHANGED,()=>{this.getAllCellCtrls().forEach(t=>t.onColumnHover())}),this.addManagedListener(this.eventService,m.EVENT_DISPLAYED_COLUMNS_CHANGED,()=>{this.getAllCellCtrls().forEach(t=>t.onDisplayedColumnsChanged())}),this.addManagedListener(this.eventService,m.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,()=>{this.printLayout&&this.getAllCellCtrls().forEach(t=>t.onLeftChanged())}),this.gridOptionsService.isEnableRangeSelection()&&(this.addManagedListener(this.eventService,m.EVENT_RANGE_SELECTION_CHANGED,()=>{this.getAllCellCtrls().forEach(t=>t.onRangeSelectionChanged())}),this.addManagedListener(this.eventService,m.EVENT_COLUMN_MOVED,()=>{this.getAllCellCtrls().forEach(t=>t.updateRangeBordersIfRangeCount())}),this.addManagedListener(this.eventService,m.EVENT_COLUMN_PINNED,()=>{this.getAllCellCtrls().forEach(t=>t.updateRangeBordersIfRangeCount())}),this.addManagedListener(this.eventService,m.EVENT_COLUMN_VISIBLE,()=>{this.getAllCellCtrls().forEach(t=>t.updateRangeBordersIfRangeCount())})),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,m.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners();const e=this.columnModel.getAllGridColumns();e&&e.forEach(t=>{const i=c=>{this.getAllCellCtrls().forEach(d=>{d.getColumn()===t&&c(d)})},n=()=>{i(c=>c.onLeftChanged())},o=()=>{i(c=>c.onWidthChanged())},r=()=>{i(c=>c.onFirstRightPinnedChanged())},l=()=>{i(c=>c.onLastLeftPinnedChanged())},a=()=>{i(c=>c.onColDefChanged())};t.addEventListener("leftChanged",n),t.addEventListener("widthChanged",o),t.addEventListener("firstRightPinnedChanged",r),t.addEventListener("lastLeftPinnedChanged",l),t.addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{t.removeEventListener("leftChanged",n),t.removeEventListener("widthChanged",o),t.removeEventListener("firstRightPinnedChanged",r),t.removeEventListener("lastLeftPinnedChanged",l),t.removeEventListener("colDefChanged",a)})})}onDomLayoutChanged(){const e=this.gridOptionsService.isDomLayout("print"),t=e||this.gridOptionsService.is("embedFullWidthRows"),i=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,i&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsForColumn(e){const t=[];return this.getAllRowCtrls().forEach(i=>{const n=i.getCellElement(e);n&&t.push(n)}),t}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())}getTopRowCtrls(){return this.topRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(e,t){e.forEach(i=>{i.destroyFirstPass(),i.destroySecondPass()}),e.length=0,t&&t.forEach(i=>{const n=new ws(i,this.beans,!1,!1,this.printLayout);e.push(n)})}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}getRenderedIndexesForRowNodes(e){const t=[];return Le(e)||Rt(this.rowCtrlsByRowIndex,(i,n)=>{const o=n.getRowNode();e.indexOf(o)>=0&&t.push(i)}),t}redrawRows(e){const t=e!=null&&e.length>0;if(t){const i=this.getRenderedIndexesForRowNodes(e);this.removeRowCtrls(i)}this.redrawAfterModelUpdate({recycleRows:t})}getCellToRestoreFocusToAfterRefresh(e){const t=e!=null&&e.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(t==null)return null;const n=this.gridOptionsService.getDocument().activeElement,o=this.gridOptionsService.getDomData(n,ys.DOM_DATA_KEY_CELL_CTRL),r=this.gridOptionsService.getDomData(n,ws.DOM_DATA_KEY_ROW_CTRL);return o||r?t:null}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);const i=!e.domLayoutChanged&&!!e.recycleRows,n=e.animate&&this.gridOptionsService.isAnimateRows(),o=i?this.getRowsToRecycle():null;i||this.removeAllRowComps(),this.recycleRows(o,n),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){const t=e.newData||e.newPage,i=this.gridOptionsService.is("suppressScrollOnNewData");t&&!i&&this.gridBodyCtrl.getScrollFeature().scrollToTop()}updateContainerHeights(){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}let e=this.paginationProxy.getCurrentPageHeight();e===0&&(e=1),this.rowContainerHeightService.setModelHeight(e)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0}releaseLockOnRefresh(){this.refreshInProgress=!1}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){e&&(this.focusService.setRestoreFocusedCell(e),this.onCellFocusChanged({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,api:this.beans.gridApi,columnApi:this.beans.columnApi,context:this.beans.gridOptionsService.context,type:"mock"}))}stopEditing(e=!1){this.getAllRowCtrls().forEach(t=>{t.stopEditing(e)})}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),i=t.length;for(let n=0;n<i;n++){const o=t[n].getAllCellCtrls(),r=o.length;for(let l=0;l<r;l++)e.push(o[l])}return e}getAllRowCtrls(){const e=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],t=[...this.topRowCtrls,...this.bottomRowCtrls,...e];for(const i of Object.keys(this.rowCtrlsByRowIndex))t.push(this.rowCtrlsByRowIndex[i]);return t}addRenderedRowListener(e,t,i){const n=this.rowCtrlsByRowIndex[t];n&&n.addEventListener(e,i)}flashCells(e={}){const{flashDelay:t,fadeDelay:i}=e;this.getCellCtrls(e.rowNodes,e.columns).forEach(n=>n.flashCell({flashDelay:t,fadeDelay:i}))}refreshCells(e={}){const t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};this.getCellCtrls(e.rowNodes,e.columns).forEach(i=>{if(i.refreshShouldDestroy()){const n=i.getRowCtrl();n&&n.refreshCell(i)}else i.refreshCell(t)}),this.refreshFullWidthRows(e.rowNodes)}getCellRendererInstances(e){var t;const i=this.getCellCtrls(e.rowNodes,e.columns).map(r=>r.getCellRenderer()).filter(r=>r!=null);if(!((t=e.columns)===null||t===void 0)&&t.length)return i;const n=[],o=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach(r=>{if(o&&!this.isRowInMap(r.getRowNode(),o)||!r.isFullWidth())return;const l=r.getFullWidthCellRenderer();l&&n.push(l)}),[...n,...i]}getCellEditorInstances(e){const t=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(i=>{const n=i.getCellEditor();n&&t.push(n)}),t}getEditingCells(){const e=[];return this.getAllCellCtrls().forEach(t=>{if(t.isEditing()){const i=t.getCellPosition();e.push(i)}}),e}mapRowNodes(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(i=>{const n=i.id;i.rowPinned==="top"?t.top[n]=i:i.rowPinned==="bottom"?t.bottom[n]=i:t.normal[n]=i}),t}isRowInMap(e,t){const i=e.id,n=e.rowPinned;return n==="bottom"?t.bottom[i]!=null:n==="top"?t.top[i]!=null:t.normal[i]!=null}getCellCtrls(e,t){const i=this.mapRowNodes(e),n=[];let o;Q(t)&&(o={},t.forEach(l=>{const a=this.columnModel.getGridColumn(l);Q(a)&&(o[a.getId()]=!0)}));const r=l=>{const a=l.getRowNode();i!=null&&!this.isRowInMap(a,i)||l.getAllCellCtrls().forEach(c=>{const d=c.getColumn().getId();o&&!o[d]||n.push(c)})};return this.getAllRowCtrls().forEach(l=>r(l)),n}destroy(){this.removeAllRowComps(),super.destroy()}removeAllRowComps(){const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}getRowsToRecycle(){const e=[];Rt(this.rowCtrlsByRowIndex,(i,n)=>{n.getRowNode().id==null&&e.push(i)}),this.removeRowCtrls(e);const t={};return Rt(this.rowCtrlsByRowIndex,(i,n)=>{const o=n.getRowNode();t[o.id]=n}),this.rowCtrlsByRowIndex={},t}removeRowCtrls(e){e.forEach(t=>{const i=this.rowCtrlsByRowIndex[t];i&&(i.destroyFirstPass(),i.destroySecondPass()),delete this.rowCtrlsByRowIndex[t]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw()}redraw(e=!0){let t;if(this.stickyRowFeature&&cu()&&(t=this.getCellToRestoreFocusToAfterRefresh()||void 0),this.getLockOnRefresh(),this.recycleRows(null,!1,e),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(e),t!=null){const i=this.getCellToRestoreFocusToAfterRefresh();t!=null&&i==null&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(t))}}removeRowCompsNotToDraw(e){const t={};e.forEach(o=>t[o]=!0);const n=Object.keys(this.rowCtrlsByRowIndex).filter(o=>!t[o]);this.removeRowCtrls(n)}calculateIndexesToDraw(e){let t=Bw(this.firstRenderedRow,this.lastRenderedRow);const i=(n,o)=>{const r=o.getRowNode().rowIndex;r!=null&&(r<this.firstRenderedRow||r>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(o)&&t.push(r)};return Rt(this.rowCtrlsByRowIndex,i),Rt(e,i),t.sort((n,o)=>n-o),t=t.filter(n=>{const o=this.paginationProxy.getRow(n);return o&&!o.sticky}),t}recycleRows(e,t=!1,i=!1){this.rowContainerHeightService.updateOffset(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows();const n=this.calculateIndexesToDraw(e);this.removeRowCompsNotToDraw(n),this.printLayout&&(t=!1),n.forEach(o=>{this.createOrUpdateRowCtrl(o,e,t,i)}),e&&(i&&!this.gridOptionsService.is("suppressAnimationFrame")&&!this.printLayout?this.beans.animationFrameService.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)),this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){const t={type:m.EVENT_DISPLAYED_ROWS_CHANGED,afterScroll:e};this.eventService.dispatchEvent(t)}onDisplayedColumnsChanged(){const e=this.columnModel.isPinningLeft(),t=this.columnModel.isPinningRight();(this.pinningLeft!==e||t!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=t,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const i=t.getRowNode().rowIndex;e.push(i.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw()}getFullWidthRowCtrls(e){const t=this.mapRowNodes(e);return this.getAllRowCtrls().filter(i=>{if(!i.isFullWidth())return!1;const n=i.getRowNode();return!(t!=null&&!this.isRowInMap(n,t))})}refreshFullWidthRow(e){this.refreshFullWidthRows([e])}refreshFullWidthRows(e){const t=this.getFullWidthRowCtrls(e);let i=!1;const n=[];t.forEach(o=>{if(o.refreshFullWidth())return;const l=o.getRowNode();l.sticky?this.stickyRowFeature.refreshStickyNode(l):n.push(l.rowIndex),i=!0}),n.length>0&&this.removeRowCtrls(n),i&&this.redraw(!1)}createOrUpdateRowCtrl(e,t,i,n){let o,r=this.rowCtrlsByRowIndex[e];if(r||(o=this.paginationProxy.getRow(e),Q(o)&&Q(t)&&t[o.id]&&o.alreadyRendered&&(r=t[o.id],t[o.id]=null)),!r)if(o||(o=this.paginationProxy.getRow(e)),Q(o))r=this.createRowCon(o,i,n);else return;return o&&(o.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=r,r}destroyRowCtrls(e,t){const i=[];Rt(e,(n,o)=>{if(o){if(this.cachedRowCtrls&&o.isCacheable()){this.cachedRowCtrls.addRow(o);return}o.destroyFirstPass(),t?(this.zombieRowCtrls[o.getInstanceId()]=o,i.push(()=>{o.destroySecondPass(),delete this.zombieRowCtrls[o.getInstanceId()]})):o.destroySecondPass()}}),t&&(i.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),iw(i))}getRowBuffer(){let e=this.gridOptionsService.getNum("rowBuffer");return typeof e=="number"?e<0&&(st(()=>console.warn("AG Grid: rowBuffer should not be negative"),"warn rowBuffer negative"),e=0,this.gridOptionsService.set("rowBuffer",0)):e=10,e}getRowBufferInPixels(){const e=this.getRowBuffer(),t=this.gridOptionsService.getRowHeightAsNumber();return e*t}workOutFirstAndLastRowsToRender(){let e,t;if(!this.paginationProxy.isRowsToRender())e=0,t=-1;else if(this.printLayout)e=this.paginationProxy.getPageFirstRow(),t=this.paginationProxy.getPageLastRow();else{const a=this.getRowBufferInPixels(),c=this.ctrlsService.getGridBodyCtrl(),d=this.gridOptionsService.is("suppressRowVirtualisation");let u=!1,h,p;do{const C=this.paginationProxy.getPixelOffset(),{pageFirstPixel:E,pageLastPixel:b}=this.paginationProxy.getCurrentPagePixelRange(),S=this.rowContainerHeightService.getDivStretchOffset(),T=c.getScrollFeature().getVScrollPosition(),D=T.top,_=T.bottom;d?(h=E+S,p=b+S):(h=Math.max(D+C-a,E)+S,p=Math.min(_+C+a,b)+S),this.firstVisibleVPixel=Math.max(D+C,E)+S,u=this.ensureAllRowsInRangeHaveHeightsCalculated(h,p)}while(u);let g=this.paginationProxy.getRowIndexAtPixel(h),f=this.paginationProxy.getRowIndexAtPixel(p);const v=this.paginationProxy.getPageFirstRow(),w=this.paginationProxy.getPageLastRow();g<v&&(g=v),f>w&&(f=w),e=g,t=f}const i=this.gridOptionsService.isDomLayout("normal"),n=this.gridOptionsService.is("suppressMaxRenderedRowRestriction"),o=Math.max(this.getRowBuffer(),500);i&&!n&&t-e>o&&(t=e+o);const r=e!==this.firstRenderedRow,l=t!==this.lastRenderedRow;if(r||l){this.firstRenderedRow=e,this.lastRenderedRow=t;const a={type:m.EVENT_VIEWPORT_CHANGED,firstRow:e,lastRow:t};this.eventService.dispatchEvent(a)}}dispatchFirstDataRenderedEvent(){if(this.dataFirstRenderedFired)return;this.dataFirstRenderedFired=!0;const e={type:m.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame(()=>{this.beans.eventService.dispatchEvent(e)})}ensureAllRowsInRangeHaveHeightsCalculated(e,t){const i=this.paginationProxy.ensureRowHeightsValid(e,t,-1,-1);return i&&this.updateContainerHeights(),i}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(e){const n=e.getRowNode(),o=this.focusService.isRowNodeFocused(n),r=e.isEditing(),l=n.detail;return o||r||l?!!this.paginationProxy.isRowPresent(n):!1}createRowCon(e,t,i){const n=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(n)return n;const o=this.gridOptionsService.is("suppressAnimationFrame"),r=i&&!o&&!this.printLayout;return new ws(e,this.beans,t,r,this.printLayout)}getRenderedNodes(){const e=this.rowCtrlsByRowIndex;return Object.keys(e).map(t=>e[t].getRowNode())}getRowByPosition(e){let t;const{rowIndex:i}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[i];break;case"bottom":t=this.bottomRowCtrls[i];break;default:t=this.rowCtrlsByRowIndex[i],t||(t=this.getStickyTopRowCtrls().find(n=>n.getRowNode().rowIndex===i)||null);break}return t}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const n=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!n}};As([y("animationFrameService")],Vi.prototype,"animationFrameService",void 0);As([y("paginationProxy")],Vi.prototype,"paginationProxy",void 0);As([y("columnModel")],Vi.prototype,"columnModel",void 0);As([y("pinnedRowModel")],Vi.prototype,"pinnedRowModel",void 0);As([y("rowModel")],Vi.prototype,"rowModel",void 0);As([y("focusService")],Vi.prototype,"focusService",void 0);As([y("beans")],Vi.prototype,"beans",void 0);As([y("rowContainerHeightService")],Vi.prototype,"rowContainerHeightService",void 0);As([y("ctrlsService")],Vi.prototype,"ctrlsService",void 0);As([de],Vi.prototype,"postConstruct",null);Vi=As([Se("rowRenderer")],Vi);class ck{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.getRowNode()!=e?null:t):null}removeFromCache(e){const t=e.getRowNode().id;delete this.entriesMap[t],Xt(this.entriesList,e)}getEntries(){return this.entriesList}}var kS=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let md=class extends ee{formatValue(e,t,i,n,o=!0){let r=null,l;const a=e.getColDef();if(n?l=n:o&&(l=a.valueFormatter),l){const c={value:i,node:t,data:t?t.data:null,colDef:a,column:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};typeof l=="function"?r=l(c):r=this.expressionService.evaluate(l,c)}else if(a.refData)return a.refData[i]||"";return r==null&&Array.isArray(i)&&(r=i.join(", ")),r}};kS([y("expressionService")],md.prototype,"expressionService",void 0);md=kS([Se("valueFormatterService")],md);var Pg=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let ca=class extends ee{init(){this.setPinnedTopRowData(this.gridOptionsService.get("pinnedTopRowData")),this.setPinnedBottomRowData(this.gridOptionsService.get("pinnedBottomRowData"))}isEmpty(e){const t=e==="top"?this.pinnedTopRows:this.pinnedBottomRows;return Ai(t)}isRowsToRender(e){return!this.isEmpty(e)}getRowAtPixel(e,t){const i=t==="top"?this.pinnedTopRows:this.pinnedBottomRows;if(Ai(i))return 0;for(let n=0;n<i.length;n++){const o=i[n];if(o.rowTop+o.rowHeight-1>=e)return n}return i.length-1}setPinnedTopRowData(e){this.pinnedTopRows=this.createNodesFromData(e,!0);const t={type:m.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(t)}setPinnedBottomRowData(e){this.pinnedBottomRows=this.createNodesFromData(e,!1);const t={type:m.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(t)}createNodesFromData(e,t){const i=[];if(e){let n=0;e.forEach((o,r)=>{const l=new pe(this.beans);l.data=o;const a=t?pe.ID_PREFIX_TOP_PINNED:pe.ID_PREFIX_BOTTOM_PINNED;l.id=a+r,l.rowPinned=t?"top":"bottom",l.setRowTop(n),l.setRowHeight(this.gridOptionsService.getRowHeightForNode(l).height),l.setRowIndex(r),n+=l.rowHeight,i.push(l)})}return i}getPinnedTopRowData(){return this.pinnedTopRows}getPinnedBottomRowData(){return this.pinnedBottomRows}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedTopRowCount(){return this.pinnedTopRows?this.pinnedTopRows.length:0}getPinnedBottomRowCount(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0}getPinnedTopRow(e){return this.pinnedTopRows[e]}getPinnedBottomRow(e){return this.pinnedBottomRows[e]}forEachPinnedTopRow(e){Ai(this.pinnedTopRows)||this.pinnedTopRows.forEach(e)}forEachPinnedBottomRow(e){Ai(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(e)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getTotalHeight(e){if(!e||e.length===0)return 0;const t=ft(e);return t.rowTop+t.rowHeight}};Pg([y("beans")],ca.prototype,"beans",void 0);Pg([de],ca.prototype,"init",null);ca=Pg([Se("pinnedRowModel")],ca);var Vv;(function(s){s.Applied="Applied",s.StoreNotFound="StoreNotFound",s.StoreLoading="StoreLoading",s.StoreWaitingToLoad="StoreWaitingToLoad",s.StoreLoadingFailed="StoreLoadingFailed",s.StoreWrongType="StoreWrongType",s.Cancelled="Cancelled"})(Vv||(Vv={}));class Ag{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(e,t){if(e.children)for(let i=0;i<e.children.length;i++)this.depthFirstSearchChangedPath(e.children[i],t);t(e.rowNode)}depthFirstSearchEverything(e,t,i){if(e.childrenAfterGroup)for(let n=0;n<e.childrenAfterGroup.length;n++){const o=e.childrenAfterGroup[n];o.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[n],t,i):i&&t(o)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,i=!1){this.active&&!i?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,i=0;for(;!this.mapToItems[t.id];){const n={rowNode:t,children:null};this.mapToItems[t.id]=n,i++,t=t.parent}return i}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let i=e;for(;i;)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),t.forEach(n=>this.nodeIdsToColumns[i.id][n.getId()]=!0),i=i.parent}linkPathItems(e,t){let i=e;for(let n=0;n<t;n++){const o=this.mapToItems[i.id],r=this.mapToItems[i.parent.id];r.children||(r.children=[]),r.children.push(o),i=i.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const i=this.createPathItems(e);this.linkPathItems(e,i),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const i=this.nodeIdsToColumns[e.id];return t.filter(o=>i[o.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const i=this.nodeIdsToColumns[e.id];return t.filter(o=>!i[o.getId()])}}class gi extends ee{constructor(e){super(),this.state=gi.STATE_WAITING_TO_LOAD,this.version=0,this.id=e}getId(){return this.id}load(){this.state=gi.STATE_LOADING,this.loadFromDatasource()}getVersion(){return this.version}setStateWaitingToLoad(){this.version++,this.state=gi.STATE_WAITING_TO_LOAD}getState(){return this.state}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state=gi.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)}success(e,t){this.successCommon(e,t)}pageLoaded(e,t,i){this.successCommon(e,{rowData:t,rowCount:i})}isRequestMostRecentAndLive(e){const t=e===this.version,i=this.isAlive();return t&&i}successCommon(e,t){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(e)&&(this.state=gi.STATE_LOADED,this.processServerResult(t))}dispatchLoadCompleted(e=!0){const t={type:gi.EVENT_LOAD_COMPLETE,success:e,block:this};this.dispatchEvent(t)}}gi.EVENT_LOAD_COMPLETE="loadComplete";gi.STATE_WAITING_TO_LOAD="needsLoading";gi.STATE_LOADING="loading";gi.STATE_LOADED="loaded";gi.STATE_FAILED="failed";var Au=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},dk=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},zc;let jn=zc=class extends ee{constructor(){super(...arguments),this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();const e=this.gridOptionsService.getNum("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=Qe.debounce(this.performCheckBlocksToLoad.bind(this),e))}setBeans(e){this.logger=e.create("RowNodeBlockLoader")}getMaxConcurrentDatasourceRequests(){const e=this.gridOptionsService.getNum("maxConcurrentDatasourceRequests");if(e==null)return 2;if(!(e<=0))return e}addBlock(e){this.blocks.push(e),e.addEventListener(gi.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){Qe.removeFromArray(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchEvent({type:zc.BLOCK_LOADED_EVENT}),this.activeBlockLoadsCount==0&&this.dispatchEvent({type:zc.BLOCK_LOADER_FINISHED_EVENT})}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){this.logger.log("checkBlockToLoad: max loads exceeded");return}const e=this.getAvailableLoadingCount(),t=this.blocks.filter(i=>i.getState()===gi.STATE_WAITING_TO_LOAD).slice(0,e);this.registerLoads(t.length),t.forEach(i=>i.load()),this.printCacheStatus()}getBlockState(){if(this.gridOptionsService.isRowModelType("serverSide"))return this.rowModel.getBlockStates();const e={};return this.blocks.forEach(t=>{const{id:i,state:n}=t.getBlockStateJson();e[i]=n}),e}printCacheStatus(){this.logger.isLogging()&&this.logger.log(`printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}isLoading(){return this.activeBlockLoadsCount>0}registerLoads(e){this.activeBlockLoadsCount+=e}getAvailableLoadingCount(){return this.maxConcurrentRequests!==void 0?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}};jn.BLOCK_LOADED_EVENT="blockLoaded";jn.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished";Au([y("rowModel")],jn.prototype,"rowModel",void 0);Au([de],jn.prototype,"postConstruct",null);Au([dk(0,mi("loggerFactory"))],jn.prototype,"setBeans",null);jn=zc=Au([Se("rowNodeBlockLoader")],jn);var Fg=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let da=class extends ee{constructor(){super(...arguments),this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.pixelOffset=0,this.masterRowCount=0}postConstruct(){this.active=this.gridOptionsService.is("pagination"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedListener(this.eventService,m.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedPropertyListener("pagination",this.onPaginationPageSizeChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()}ensureRowHeightsValid(e,t,i,n){const o=this.rowModel.ensureRowHeightsValid(e,t,this.getPageFirstRow(),this.getPageLastRow());return o&&this.calculatePages(),o}isPaginateChildRows(){return this.gridOptionsService.is("groupRemoveSingleChildren")||this.gridOptionsService.is("groupRemoveLowestSingleChildren")?!0:this.gridOptionsService.is("paginateChildRows")}onModelUpdated(e){this.calculatePages();const t={type:m.EVENT_PAGINATION_CHANGED,animate:e?e.animate:!1,newData:e?e.newData:!1,newPage:e?e.newPage:!1,keepRenderedRows:e?e.keepRenderedRows:!1};this.eventService.dispatchEvent(t)}onPaginationPageSizeChanged(){this.active=this.gridOptionsService.is("pagination"),this.calculatePages();const e={type:m.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0};this.eventService.dispatchEvent(e)}goToPage(e){if(!this.active||this.currentPage===e||typeof this.currentPage!="number")return;this.currentPage=e;const t={type:m.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0};this.onModelUpdated(t)}getPixelOffset(){return this.pixelOffset}getRow(e){return this.rowModel.getRow(e)}getRowNode(e){return this.rowModel.getRowNode(e)}getRowIndexAtPixel(e){return this.rowModel.getRowIndexAtPixel(e)}getCurrentPageHeight(){return Le(this.topRowBounds)||Le(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){const e=this.topRowBounds?this.topRowBounds.rowTop:0,t=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:e,pageLastPixel:t}}isRowPresent(e){return this.rowModel.isRowPresent(e)?e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex:!1}isEmpty(){return this.rowModel.isEmpty()}isRowsToRender(){return this.rowModel.isRowsToRender()}forEachNode(e){return this.rowModel.forEachNode(e)}forEachNodeOnPage(e){const t=this.getPageFirstRow(),i=this.getPageLastRow();for(let n=t;n<=i;n++){const o=this.getRow(n);o&&e(o)}}getType(){return this.rowModel.getType()}getRowBounds(e){const t=this.rowModel.getRowBounds(e);return t.rowIndex=e,t}getPageFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getPageLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getRowCount(){return this.rowModel.getRowCount()}getPageForIndex(e){return Math.floor(e/this.pageSize)}goToPageWithIndex(e){if(!this.active)return;const t=this.getPageForIndex(e);this.goToPage(t)}isRowInPage(e){return this.active?this.getPageForIndex(e.rowIndex)===this.currentPage:!0}isLastPageFound(){return this.rowModel.isLastRowIndexKnown()}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPageSize(){this.pageSize=this.gridOptionsService.getNum("paginationPageSize"),(this.pageSize==null||this.pageSize<1)&&(this.pageSize=100)}calculatePages(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(Q(this.topRowBounds)?this.topRowBounds.rowTop:0)}setPixelOffset(e){this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:m.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();const t=this.pageSize*this.currentPage;let i=this.pageSize*(this.currentPage+1)-1;if(i>e&&(i=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(t),i===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{const n=this.rowModel.getTopLevelRowDisplayedIndex(i+1);this.bottomDisplayedRowIndex=n-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}calculatedPagesNotActive(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}};Fg([y("rowModel")],da.prototype,"rowModel",void 0);Fg([de],da.prototype,"postConstruct",null);da=Fg([Se("paginationProxy")],da);var BS=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let vd=class extends ee{processAllCellClasses(e,t,i,n){this.processClassRules(e.cellClassRules,t,i,n),this.processStaticCellClasses(e,t,i)}processClassRules(e,t,i,n){if(e==null)return;const o=Object.keys(e),r={},l={};for(let a=0;a<o.length;a++){const c=o[a],d=e[c];let u;typeof d=="string"?u=this.expressionService.evaluate(d,t):typeof d=="function"&&(u=d(t)),c.split(" ").forEach(h=>{h==null||h.trim()==""||(u?r[h]=!0:l[h]=!0)})}n&&Object.keys(l).forEach(n),Object.keys(r).forEach(i)}getStaticCellClasses(e,t){const{cellClass:i}=e;if(!i)return[];let n;return typeof i=="function"?n=i(t):n=i,typeof n=="string"&&(n=[n]),n||[]}processStaticCellClasses(e,t,i){this.getStaticCellClasses(e,t).forEach(o=>{i(o)})}};BS([y("expressionService")],vd.prototype,"expressionService",void 0);vd=BS([Se("stylingService")],vd);class uk extends Wn{constructor(e){super(e,"ag-toggle-button")}setValue(e,t){return super.setValue(e,t),this.addOrRemoveCssClass("ag-selected",this.getValue()),this}}class hk extends gs{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const i=super.setValue(e,t);return this.eInput.value=e,i}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}}class pk extends No{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct(),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this));const e=ns();this.addManagedListener(this.eInput,"mousedown",()=>{this.isDisabled()||e||this.eInput.focus()}),this.eInput.step="any"}onWheel(e){document.activeElement===this.eInput&&e.preventDefault()}setMin(e){var t;const i=e instanceof Date?(t=es(e??null,!1))!==null&&t!==void 0?t:void 0:e;return this.min===i?this:(this.min=i,kn(this.eInput,"min",i),this)}setMax(e){var t;const i=e instanceof Date?(t=es(e??null,!1))!==null&&t!==void 0?t:void 0:e;return this.max===i?this:(this.max=i,kn(this.eInput,"max",i),this)}setStep(e){return this.step===e?this:(this.step=e,kn(this.eInput,"step",e),this)}getDate(){var e;if(this.eInput.validity.valid)return(e=Rs(this.getValue()))!==null&&e!==void 0?e:void 0}setDate(e,t){this.setValue(es(e??null,!1),t)}}class fk extends gs{constructor(e){super(e,"ag-range-field","range")}postConstruct(){super.postConstruct();const{min:e,max:t,step:i}=this.config;e!=null&&this.setMinValue(e),t!=null&&this.setMaxValue(t),this.setStep(i||1)}addInputListeners(){this.addManagedListener(this.eInput,"input",e=>{const t=e.target.value;this.setValue(t)})}setMinValue(e){return this.min=e,this.eInput.setAttribute("min",e.toString()),this}setMaxValue(e){return this.max=e,this.eInput.setAttribute("max",e.toString()),this}setStep(e){return this.eInput.setAttribute("step",e.toString()),this}setValue(e,t){this.min!=null&&(e=Math.max(parseFloat(e),this.min).toString()),this.max!=null&&(e=Math.min(parseFloat(e),this.max).toString());const i=super.setValue(e,t);return this.eInput.value=e,i}}var Fu=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class so extends sg{constructor(e){super(e,so.TEMPLATE),this.labelAlignment="top"}init(){this.eSlider.addCssClass("ag-slider-field")}onValueChange(e){const t=zs.EVENT_CHANGED;return this.addManagedListener(this.eText,t,()=>{const i=parseFloat(this.eText.getValue());this.eSlider.setValue(i.toString(),!0),e(i||0)}),this.addManagedListener(this.eSlider,t,()=>{const i=this.eSlider.getValue();this.eText.setValue(i,!0),e(parseFloat(i))}),this}setSliderWidth(e){return this.eSlider.setWidth(e),this}setTextFieldWidth(e){return this.eText.setWidth(e),this}setMinValue(e){return this.eSlider.setMinValue(e),this.eText.setMin(e),this}setMaxValue(e){return this.eSlider.setMaxValue(e),this.eText.setMax(e),this}getValue(){return this.eText.getValue()}setValue(e){return this.getValue()===e?this:(this.eText.setValue(e,!0),this.eSlider.setValue(e,!0),this.dispatchEvent({type:zs.EVENT_CHANGED}),this)}setStep(e){return this.eSlider.setStep(e),this.eText.setStep(e),this}}so.TEMPLATE=`<div class="ag-slider">
            <label ref="eLabel"></label>
            <div class="ag-wrapper ag-slider-wrapper">
                <ag-input-range ref="eSlider"></ag-input-range>
                <ag-input-number-field ref="eText"></ag-input-number-field>
            </div>
        </div>`;Fu([ue("eLabel")],so.prototype,"eLabel",void 0);Fu([ue("eSlider")],so.prototype,"eSlider",void 0);Fu([ue("eText")],so.prototype,"eText",void 0);Fu([de],so.prototype,"init",null);var no=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class ui extends ke{constructor(e={}){super(ui.getTemplate(e)),this.suppressEnabledCheckbox=!0,this.suppressOpenCloseIcons=!1;const{title:t,enabled:i,items:n,suppressEnabledCheckbox:o,suppressOpenCloseIcons:r}=e;this.title=t,this.cssIdentifier=e.cssIdentifier||"default",this.enabled=i??!0,this.items=n||[],this.alignItems=e.alignItems||"center",o!=null&&(this.suppressEnabledCheckbox=o),r!=null&&(this.suppressOpenCloseIcons=r)}static getTemplate(e){const t=e.cssIdentifier||"default",i=e.direction||"vertical";return`<div class="ag-group ag-${t}-group" role="presentation">
            <div class="ag-group-title-bar ag-${t}-group-title-bar ag-unselectable" ref="eTitleBar" role="button">
                <span class="ag-group-title-bar-icon ag-${t}-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>
                <span class="ag-group-title-bar-icon ag-${t}-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>
                <span ref="eTitle" class="ag-group-title ag-${t}-group-title"></span>
            </div>
            <div ref="eToolbar" class="ag-group-toolbar ag-${t}-group-toolbar">
                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>
            </div>
            <div ref="eContainer" class="ag-group-container ag-group-container-${i} ag-${t}-group-container"></div>
        </div>`}postConstruct(){if(this.items.length){const t=this.items;this.items=[],this.addItems(t)}const e=this.localeService.getLocaleTextFunc();this.cbGroupEnabled.setLabel(e("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()}setupExpandContract(){this.eGroupClosedIcon.appendChild(Yi("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(Yi("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.eTitleBar,"click",()=>this.toggleGroupExpand()),this.addManagedListener(this.eTitleBar,"keydown",e=>{switch(e.key){case $.ENTER:case $.SPACE:e.preventDefault(),this.toggleGroupExpand();break;case $.RIGHT:case $.LEFT:e.preventDefault(),this.toggleGroupExpand(e.key===$.RIGHT);break}})}refreshAriaStatus(){this.suppressOpenCloseIcons||fs(this.eTitleBar,this.expanded)}refreshChildDisplay(){const e=!this.suppressOpenCloseIcons;Je(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),Je(this.eGroupOpenedIcon,e&&this.expanded),Je(this.eGroupClosedIcon,e&&!this.expanded)}isExpanded(){return this.expanded}setAlignItems(e){this.alignItems!==e&&this.removeCssClass(`ag-group-item-alignment-${this.alignItems}`),this.alignItems=e;const t=`ag-group-item-alignment-${this.alignItems}`;return this.addCssClass(t),this}toggleGroupExpand(e){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),Je(this.eContainer,!0),this):(e=e??!this.expanded,this.expanded===e?this:(this.expanded=e,this.refreshAriaStatus(),this.refreshChildDisplay(),Je(this.eContainer,e),this.dispatchEvent({type:this.expanded?ui.EVENT_EXPANDED:ui.EVENT_COLLAPSED}),this))}addItems(e){e.forEach(t=>this.addItem(t))}addItem(e){const t=this.eContainer,i=e instanceof ke?e.getGui():e;i.classList.add("ag-group-item",`ag-${this.cssIdentifier}-group-item`),t.appendChild(i),this.items.push(i)}hideItem(e,t){const i=this.items[t];Je(i,!e)}setTitle(e){return this.eTitle.innerText=e,this}addCssClassToTitleBar(e){this.eTitleBar.classList.add(e)}setEnabled(e,t){return this.enabled=e,this.refreshDisabledStyles(),this.toggleGroupExpand(e),t||this.cbGroupEnabled.setValue(e),this}isEnabled(){return this.enabled}onEnableChange(e){return this.cbGroupEnabled.onValueChange(t=>{this.setEnabled(t,!0),e(t)}),this}hideEnabledCheckbox(e){return this.suppressEnabledCheckbox=e,this.refreshChildDisplay(),this.refreshDisabledStyles(),this}hideOpenCloseIcons(e){return this.suppressOpenCloseIcons=e,e&&this.toggleGroupExpand(!0),this}refreshDisabledStyles(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)}}ui.EVENT_EXPANDED="expanded";ui.EVENT_COLLAPSED="collapsed";no([ue("eTitleBar")],ui.prototype,"eTitleBar",void 0);no([ue("eGroupOpenedIcon")],ui.prototype,"eGroupOpenedIcon",void 0);no([ue("eGroupClosedIcon")],ui.prototype,"eGroupClosedIcon",void 0);no([ue("eToolbar")],ui.prototype,"eToolbar",void 0);no([ue("cbGroupEnabled")],ui.prototype,"cbGroupEnabled",void 0);no([ue("eTitle")],ui.prototype,"eTitle",void 0);no([ue("eContainer")],ui.prototype,"eContainer",void 0);no([de],ui.prototype,"postConstruct",null);class Mu extends ke{initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();const t=[this.eTopGuard,this.eBottomGuard],i={setTabIndex:n=>{t.forEach(o=>n!=null?o.setAttribute("tabindex",n):o.removeAttribute("tabindex"))}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new Dg({comp:i,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:e.onFocusIn,onFocusOut:e.onFocusOut,focusInnerElement:e.focusInnerElement,handleKeyDown:e.handleKeyDown,onTabKeyDown:e.onTabKeyDown,shouldStopEventPropagation:e.shouldStopEventPropagation}))}createTabGuard(e){const t=document.createElement("div"),i=e==="top"?cr.TAB_GUARD_TOP:cr.TAB_GUARD_BOTTOM;return t.classList.add(cr.TAB_GUARD,i),Ht(t,"presentation"),t}addTabGuards(e,t){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];Ni(this.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t){Ia(e)||(e=e.getGui());const{eBottomGuard:i}=this;i?i.insertAdjacentElement("beforebegin",e):super.appendChild(e,t)}}var $S=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class To extends Mu{constructor(e=1){super('<div class="ag-menu-list" role="tree"></div>'),this.level=e,this.menuItems=[]}postConstruct(){this.initialiseTabGuard({onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e)})}onTabKeyDown(e){const t=this.getParentComponent(),i=t&&t.getGui();i&&i.classList.contains("ag-focus-managed")||e.preventDefault(),e.shiftKey&&this.closeIfIsChild(e)}handleKeyDown(e){switch(e.key){case $.UP:case $.RIGHT:case $.DOWN:case $.LEFT:e.preventDefault(),this.handleNavKey(e.key);break;case $.ESCAPE:const t=this.findTopMenu();t&&this.focusService.focusInto(t.getGui());break}}clearActiveItem(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)}addMenuItems(e){e!=null&&e.forEach(t=>{t==="separator"?this.addSeparator():typeof t=="string"?console.warn(`AG Grid: unrecognised menu item ${t}`):this.addItem(t)})}addItem(e){const t=this.createManagedBean(new Zt(Object.assign(Object.assign({},e),{isAnotherSubMenuOpen:()=>this.menuItems.some(i=>i.isSubMenuOpen())})));t.setParentComponent(this),Ow(t.getGui(),this.level),this.menuItems.push(t),this.appendChild(t.getGui()),this.addManagedListener(t,Zt.EVENT_MENU_ITEM_SELECTED,i=>{this.dispatchEvent(i)}),this.addManagedListener(t,Zt.EVENT_MENU_ITEM_ACTIVATED,i=>{this.activeMenuItem&&this.activeMenuItem!==i.menuItem&&this.activeMenuItem.deactivate(),this.activeMenuItem=i.menuItem})}activateFirstItem(){const e=this.menuItems.filter(t=>!t.isDisabled())[0];e&&e.activate()}addSeparator(){const e=`
            <div class="ag-menu-separator" aria-hidden="true">
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
            </div>`;this.appendChild($t(e))}findTopMenu(){let e=this.getParentComponent();if(!e&&this instanceof To)return this;for(;;){const t=e&&e.getParentComponent&&e.getParentComponent();if(!t||!(t instanceof To||t instanceof Zt))break;e=t}return e instanceof To?e:void 0}handleNavKey(e){switch(e){case $.UP:case $.DOWN:const i=this.findNextItem(e===$.UP);i&&i!==this.activeMenuItem&&i.activate();return}const t=this.gridOptionsService.is("enableRtl")?$.RIGHT:$.LEFT;e===t?this.closeIfIsChild():this.openChild()}closeIfIsChild(e){const t=this.getParentComponent();t&&t instanceof Zt&&(e&&e.preventDefault(),t.closeSubMenu(),t.getGui().focus())}openChild(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)}findNextItem(e){const t=this.menuItems.filter(o=>!o.isDisabled());if(!t.length)return;if(!this.activeMenuItem)return e?ft(t):t[0];e&&t.reverse();let i,n=!1;for(let o=0;o<t.length;o++){const r=t[o];if(!n){r===this.activeMenuItem&&(n=!0);continue}i=r;break}return i||this.activeMenuItem}destroy(){this.clearActiveItem(),super.destroy()}}$S([y("focusService")],To.prototype,"focusService",void 0);$S([de],To.prototype,"postConstruct",null);var gk=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class WS extends Mu{constructor(e){super(),this.wrappedComponent=e,this.setTemplateFromElement(e.getGui())}postConstruct(){this.initialiseTabGuard({onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e)})}handleKeyDown(e){e.key===$.ESCAPE&&this.closePanel()}onTabKeyDown(e){e.defaultPrevented||(this.closePanel(),e.preventDefault())}closePanel(){const e=this.parentComponent;e.closeSubMenu(),setTimeout(()=>e.getGui().focus(),0)}}gk([de],WS.prototype,"postConstruct",null);var US=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class Zt extends ke{constructor(e){super(),this.params=e,this.isActive=!1,this.subMenuIsOpen=!1,this.setTemplate(`<div class="${this.getClassName()}" tabindex="-1" role="treeitem"></div>`)}init(){this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();const e=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),Af(e,!0)):(this.addGuiEventListener("click",t=>this.onItemSelected(t)),this.addGuiEventListener("keydown",t=>{(t.key===$.ENTER||t.key===$.SPACE)&&(t.preventDefault(),this.onItemSelected(t))}),this.addGuiEventListener("mousedown",t=>{t.stopPropagation(),t.preventDefault()}),this.addGuiEventListener("mouseenter",()=>this.onMouseEnter()),this.addGuiEventListener("mouseleave",()=>this.onMouseLeave())),this.params.cssClasses&&this.params.cssClasses.forEach(t=>this.addCssClass(t))}isDisabled(){return!!this.params.disabled}openSubMenu(e=!1){if(this.closeSubMenu(),!this.params.subMenu)return;const t=$t('<div class="ag-menu" role="presentation"></div>');let i;if(this.params.subMenu instanceof Array){const a=bw(this.getGui()),c=isNaN(a)?1:a+1,d=this.createBean(new To(c));d.setParentComponent(this),d.addMenuItems(this.params.subMenu),t.appendChild(d.getGui()),this.addManagedListener(d,Zt.EVENT_MENU_ITEM_SELECTED,u=>this.dispatchEvent(u)),d.addGuiEventListener("mouseenter",()=>this.cancelDeactivate()),i=()=>this.destroyBean(d),e&&setTimeout(()=>d.activateFirstItem(),0)}else{const{subMenu:a}=this.params,c=this.createBean(new WS(a));c.setParentComponent(this);const d=c.getGui(),u="mouseenter",h=()=>this.cancelDeactivate();d.addEventListener(u,h),i=()=>d.removeEventListener(u,h),t.appendChild(d),a.afterGuiAttached&&setTimeout(()=>a.afterGuiAttached(),0)}const n=this.getGui(),o=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:n,ePopup:t}),r=this.localeService.getLocaleTextFunc(),l=this.popupService.addPopup({modal:!0,eChild:t,positionCallback:o,anchorToElement:n,ariaLabel:r("ariaLabelSubMenu","SubMenu")});this.subMenuIsOpen=!0,fs(n,!0),this.hideSubMenu=()=>{l&&l.hideFunc(),this.subMenuIsOpen=!1,fs(n,!1),i()}}closeSubMenu(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,fs(this.getGui(),!1))}isSubMenuOpen(){return this.subMenuIsOpen}activate(e){this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),e&&this.params.subMenu&&window.setTimeout(()=>{this.isAlive()&&this.isActive&&this.openSubMenu()},300),this.onItemActivated())}deactivate(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()}addIcon(){if(!this.params.checked&&!this.params.icon&&this.params.isCompact)return;const e=$t(`<span ref="eIcon" class="${this.getClassName("part")} ${this.getClassName("icon")}" role="presentation"></span>`);this.params.checked?e.appendChild(_t("check",this.gridOptionsService)):this.params.icon&&(Ia(this.params.icon)?e.appendChild(this.params.icon):typeof this.params.icon=="string"?e.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(e)}addName(){if(!this.params.name&&this.params.isCompact)return;const e=$t(`<span ref="eName" class="${this.getClassName("part")} ${this.getClassName("text")}">${this.params.name||""}</span>`);this.getGui().appendChild(e)}addTooltip(){this.params.tooltip&&(this.tooltip=this.params.tooltip,this.gridOptionsService.is("enableBrowserTooltips")?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new mn(this)))}getTooltipParams(){return{location:"menu",value:this.tooltip}}addShortcut(){if(!this.params.shortcut&&this.params.isCompact)return;const e=$t(`<span ref="eShortcut" class="${this.getClassName("part")} ${this.getClassName("shortcut")}">${this.params.shortcut||""}</span>`);this.getGui().appendChild(e)}addSubMenu(){if(!this.params.subMenu&&this.params.isCompact)return;const e=$t(`<span ref="ePopupPointer" class="${this.getClassName("part")} ${this.getClassName("popup-pointer")}"></span>`),t=this.getGui();if(this.params.subMenu){const i=this.gridOptionsService.is("enableRtl")?"smallLeft":"smallRight";fs(t,!1),e.appendChild(_t(i,this.gridOptionsService))}t.appendChild(e)}onItemSelected(e){if(this.params.action?this.params.action():this.openSubMenu(e&&e.type==="keydown"),this.params.subMenu&&!this.params.action)return;const t={type:Zt.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:e};this.dispatchEvent(t)}onItemActivated(){const e={type:Zt.EVENT_MENU_ITEM_ACTIVATED,menuItem:this};this.dispatchEvent(e)}cancelActivate(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)}cancelDeactivate(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)}onMouseEnter(){this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(()=>this.activate(!0),Zt.ACTIVATION_DELAY):this.activate(!0)}onMouseLeave(){this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(()=>this.deactivate(),Zt.ACTIVATION_DELAY):this.deactivate()}getClassName(e){const t=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return e?`${t}-${e}`:t}}Zt.EVENT_MENU_ITEM_SELECTED="menuItemSelected";Zt.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated";Zt.ACTIVATION_DELAY=80;US([y("popupService")],Zt.prototype,"popupService",void 0);US([de],Zt.prototype,"init",null);var cc=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class Ts extends ke{constructor(e){super(Ts.getTemplate(e)),this.closable=!0,this.config=e}static getTemplate(e){const t=e&&e.cssIdentifier||"default";return`<div class="ag-panel ag-${t}-panel" tabindex="-1">
            <div ref="eTitleBar" class="ag-panel-title-bar ag-${t}-panel-title-bar ag-unselectable">
                <span ref="eTitle" class="ag-panel-title-bar-title ag-${t}-panel-title-bar-title"></span>
                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-${t}-panel-title-bar-buttons"></div>
            </div>
            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-${t}-panel-content-wrapper"></div>
        </div>`}postConstruct(){const{component:e,closable:t,hideTitleBar:i,title:n,minWidth:o=250,width:r,minHeight:l=250,height:a,centered:c,popup:d,x:u,y:h}=this.config;this.positionableFeature=new Na(this.getGui(),{minWidth:o,width:r,minHeight:l,height:a,centered:c,x:u,y:h,popup:d,calculateTopBuffer:()=>this.positionableFeature.getHeight()-this.getBodyHeight()}),this.createManagedBean(this.positionableFeature);const p=this.getGui();e&&this.setBodyComponent(e),i?Je(this.eTitleBar,!1):(n&&this.setTitle(n),this.setClosable(t??this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",g=>{const f=this.gridOptionsService.getDocument();if(p.contains(g.relatedTarget)||p.contains(f.activeElement)||this.eTitleBarButtons.contains(g.target)){g.preventDefault();return}const v=this.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");v&&v.focus()}),!(d&&this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")}renderComponent(){const e=this.getGui();e.focus(),this.close=()=>{e.parentElement.removeChild(e),this.destroy()}}getHeight(){return this.positionableFeature.getHeight()}setHeight(e){this.positionableFeature.setHeight(e)}getWidth(){return this.positionableFeature.getWidth()}setWidth(e){this.positionableFeature.setWidth(e)}setClosable(e){if(e!==this.closable&&(this.closable=e),e){const t=this.closeButtonComp=new ke(Ts.CLOSE_BTN_TEMPLATE);this.getContext().createBean(t);const i=t.getGui(),n=_t("close",this.gridOptionsService);n.classList.add("ag-panel-title-bar-button-icon"),i.appendChild(n),this.addTitleBarButton(t),t.addManagedListener(i,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){const t=this.closeButtonComp.getGui();t.parentElement.removeChild(t),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}}setBodyComponent(e){e.setParentComponent(this),this.eContentWrapper.appendChild(e.getGui())}addTitleBarButton(e,t){const i=this.eTitleBarButtons,n=i.children,o=n.length;t==null&&(t=o),t=Math.max(0,Math.min(t,o)),e.addCssClass("ag-panel-title-bar-button");const r=e.getGui();t===0?i.insertAdjacentElement("afterbegin",r):t===o?i.insertAdjacentElement("beforeend",r):n[t-1].insertAdjacentElement("afterend",r),e.setParentComponent(this)}getBodyHeight(){return Ma(this.eContentWrapper)}getBodyWidth(){return du(this.eContentWrapper)}setTitle(e){this.eTitle.innerText=e}onBtClose(){this.close()}destroy(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));const e=this.getGui();e&&e.offsetParent&&this.close(),super.destroy()}}Ts.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>';cc([ue("eContentWrapper")],Ts.prototype,"eContentWrapper",void 0);cc([ue("eTitleBar")],Ts.prototype,"eTitleBar",void 0);cc([ue("eTitleBarButtons")],Ts.prototype,"eTitleBarButtons",void 0);cc([ue("eTitle")],Ts.prototype,"eTitle",void 0);cc([de],Ts.prototype,"postConstruct",null);var mk=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class jS extends Ts{constructor(e){super(Object.assign(Object.assign({},e),{popup:!0})),this.isMaximizable=!1,this.isMaximized=!1,this.maximizeListeners=[],this.resizeListenerDestroy=null,this.lastPosition={x:0,y:0,width:0,height:0}}postConstruct(){const e=this.getGui(),{movable:t,resizable:i,maximizable:n}=this.config;this.addCssClass("ag-dialog"),super.postConstruct(),this.addManagedListener(e,"focusin",o=>{e.contains(o.relatedTarget)||this.popupService.bringPopupToFront(e)}),t&&this.setMovable(t),n&&this.setMaximizable(n),i&&this.setResizable(i)}renderComponent(){const e=this.getGui(),{alwaysOnTop:t,modal:i,title:n}=this.config,o=this.localeService.getLocaleTextFunc(),r=this.popupService.addPopup({modal:i,eChild:e,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:t,ariaLabel:n||o("ariaLabelDialog","Dialog")});r&&(this.close=r.hideFunc)}toggleMaximize(){const e=this.positionableFeature.getPosition();if(this.isMaximized){const{x:t,y:i,width:n,height:o}=this.lastPosition;this.setWidth(n),this.setHeight(o),this.positionableFeature.offsetElement(t,i)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=e.x,this.lastPosition.y=e.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()}refreshMaximizeIcon(){Je(this.maximizeIcon,!this.isMaximized),Je(this.minimizeIcon,this.isMaximized)}clearMaximizebleListeners(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(e=>e()),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)}destroy(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),super.destroy()}setResizable(e){this.positionableFeature.setResizable(e)}setMovable(e){this.positionableFeature.setMovable(e,this.eTitleBar)}setMaximizable(e){if(!e){this.clearMaximizebleListeners(),this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0);return}const t=this.eTitleBar;if(!t||e===this.isMaximizable)return;const i=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),i.addManagedListener(i.getGui(),"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(i,0),this.maximizeListeners.push(this.addManagedListener(t,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",()=>{this.isMaximized=!1,this.refreshMaximizeIcon()})}buildMaximizeAndMinimizeElements(){const e=this.maximizeButtonComp=this.createBean(new ke('<div class="ag-dialog-button"></span>')),t=e.getGui();return this.maximizeIcon=_t("maximize",this.gridOptionsService),t.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=_t("minimize",this.gridOptionsService),t.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),e}}mk([y("popupService")],jS.prototype,"popupService",void 0);var dc=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},_p,Mn;(function(s){s[s.vertical=0]="vertical",s[s.horizontal=1]="horizontal"})(Mn||(Mn={}));let vk=0,zn=_p=class extends ee{constructor(){super(...arguments),this.popupList=[]}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridCtrl=e.gridCtrl,this.addManagedListener(this.gridCtrl,m.EVENT_KEYBOARD_FOCUS,()=>{this.popupList.forEach(t=>t.element.classList.add(Pt.AG_KEYBOARD_FOCUS))}),this.addManagedListener(this.gridCtrl,m.EVENT_MOUSE_FOCUS,()=>{this.popupList.forEach(t=>t.element.classList.remove(Pt.AG_KEYBOARD_FOCUS))})})}getPopupParent(){const e=this.gridOptionsService.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const t=e.eventSource.getBoundingClientRect(),i=this.getParentRect(),n=this.keepXYWithinBounds(e.ePopup,t.top-i.top,Mn.vertical),o=e.ePopup.clientWidth>0?e.ePopup.clientWidth:200;e.ePopup.style.minWidth=`${o}px`;const l=i.right-i.left-o;let a;this.gridOptionsService.is("enableRtl")?(a=d(),a<0&&(a=c()),a>l&&(a=0)):(a=c(),a>l&&(a=d()),a<0&&(a=0)),e.ePopup.style.left=`${a}px`,e.ePopup.style.top=`${n}px`;function c(){return t.right-i.left-2}function d(){return t.left-i.left-o}}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:i,nudgeY:n,skipObserver:o}=e;this.positionPopup({ePopup:t,nudgeX:i,nudgeY:n,keepWithinBounds:!0,skipObserver:o,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const t=e.eventSource.getBoundingClientRect(),i=e.alignSide||"left",n=e.position||"over",o=this.getParentRect(),r=()=>{let l=t.left-o.left;i==="right"&&(l-=e.ePopup.offsetWidth-t.width);const a=n==="over"?t.top-o.top:t.top-o.top+t.height;return{x:l,y:a}};this.positionPopup({ePopup:e.ePopup,nudgeX:e.nudgeX,nudgeY:e.nudgeY,keepWithinBounds:e.keepWithinBounds,updatePosition:r,postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,e.eventSource,null,e.column,e.rowNode)})}callPostProcessPopup(e,t,i,n,o,r){const l=this.gridOptionsService.getCallback("postProcessPopup");l&&l({column:o,rowNode:r,ePopup:t,type:e,eventSource:i,mouseEvent:n})}positionPopup(e){const{ePopup:t,keepWithinBounds:i,nudgeX:n,nudgeY:o,skipObserver:r,updatePosition:l}=e,a={width:0,height:0},c=(d=!1)=>{let{x:u,y:h}=l();d&&t.clientWidth===a.width&&t.clientHeight===a.height||(a.width=t.clientWidth,a.height=t.clientHeight,n&&(u+=n),o&&(h+=o),i&&(u=this.keepXYWithinBounds(t,u,Mn.horizontal),h=this.keepXYWithinBounds(t,h,Mn.vertical)),t.style.left=`${u}px`,t.style.top=`${h}px`,e.postProcessCallback&&e.postProcessCallback())};if(c(),!r){const d=this.resizeObserverService.observeResize(t,()=>c(!0));setTimeout(()=>d(),_p.WAIT_FOR_POPUP_CONTENT_RESIZE)}}getActivePopups(){return this.popupList.map(e=>e.element)}getPopupList(){return this.popupList}getParentRect(){const e=this.gridOptionsService.getDocument();let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),$f(t)}keepXYWithinBounds(e,t,i){const n=i===Mn.vertical,o=n?"clientHeight":"clientWidth",r=n?"top":"left",l=n?"offsetHeight":"offsetWidth",a=n?"scrollTop":"scrollLeft",c=this.gridOptionsService.getDocument(),d=c.documentElement,u=this.getPopupParent(),h=u.getBoundingClientRect(),p=c.documentElement.getBoundingClientRect(),g=u===c.body,f=e[l];let w=g?(n?Bf:uu)(d)+d[a]:u[o];g&&(w-=Math.abs(p[r]-h[r]));const C=w-f;return Math.min(Math.max(t,0),Math.abs(C))}addPopup(e){const t=this.gridOptionsService.getDocument(),{eChild:i,ariaLabel:n,alwaysOnTop:o,positionCallback:r,anchorToElement:l}=e;if(!t)return console.warn("AG Grid: could not find the document, document is empty"),{hideFunc:()=>{}};const a=this.popupList.findIndex(u=>u.element===i);if(a!==-1)return{hideFunc:this.popupList[a].hideFunc};this.initialisePopupPosition(i);const c=this.createPopupWrapper(i,n,!!o),d=this.addEventListenersToPopup(Object.assign(Object.assign({},e),{wrapperEl:c}));return r&&r(),this.addPopupToPopupList(i,c,d,l),{hideFunc:d}}initialisePopupPosition(e){const i=this.getPopupParent().getBoundingClientRect();Q(e.style.top)||(e.style.top=`${i.top*-1}px`),Q(e.style.left)||(e.style.left=`${i.left*-1}px`)}createPopupWrapper(e,t,i){const n=this.getPopupParent(),o=document.createElement("div"),{allThemes:r}=this.environment.getTheme();return r.length&&o.classList.add(...r),o.classList.add("ag-popup"),e.classList.add(this.gridOptionsService.is("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||Ht(e,"dialog"),Qn(e,t),this.focusService.isKeyboardMode()&&e.classList.add(Pt.AG_KEYBOARD_FOCUS),o.appendChild(e),n.appendChild(o),i?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),o}addEventListenersToPopup(e){const t=this.gridOptionsService.getDocument(),i=this.getPopupParent(),{wrapperEl:n,eChild:o,click:r,closedCallback:l,afterGuiAttached:a,closeOnEsc:c,modal:d}=e;let u=!1;const h=v=>{if(!n.contains(t.activeElement))return;v.key===$.ESCAPE&&f({keyboardEvent:v})},p=v=>f({mouseEvent:v}),g=v=>f({touchEvent:v}),f=(v={})=>{const{mouseEvent:w,touchEvent:C,keyboardEvent:E}=v;this.isEventFromCurrentPopup({mouseEvent:w,touchEvent:C},o)||this.isEventSameChainAsOriginalEvent({originalMouseEvent:r,mouseEvent:w,touchEvent:C})||u||(u=!0,i.removeChild(n),t.removeEventListener("keydown",h),t.removeEventListener("mousedown",p),t.removeEventListener("touchstart",g),t.removeEventListener("contextmenu",p),this.eventService.removeEventListener(m.EVENT_DRAG_STARTED,p),l&&l(w||C||E),this.removePopupFromPopupList(o))};return a&&a({hidePopup:f}),window.setTimeout(()=>{c&&t.addEventListener("keydown",h),d&&(t.addEventListener("mousedown",p),this.eventService.addEventListener(m.EVENT_DRAG_STARTED,p),t.addEventListener("touchstart",g),t.addEventListener("contextmenu",p))},0),f}addPopupToPopupList(e,t,i,n){this.popupList.push({element:e,wrapper:t,hideFunc:i,instanceId:vk++,isAnchored:!!n}),n&&this.setPopupPositionRelatedToElement(e,n)}setPopupPositionRelatedToElement(e,t){const i=this.popupList.find(o=>o.element===e);if(!i||(i.stopAnchoringPromise&&i.stopAnchoringPromise.then(o=>o&&o()),i.stopAnchoringPromise=void 0,i.isAnchored=!1,!t))return;const n=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:i.hideFunc});return i.stopAnchoringPromise=n,i.isAnchored=!0,n}removePopupFromPopupList(e){this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),i=t.getBoundingClientRect(),{element:n,ePopup:o}=e,r=n.getBoundingClientRect(),l=i.top-r.top,a=i.left-r.left;let c=l,d=a;const u=o.style.top,h=parseInt(u.substring(0,u.length-1),10),p=o.style.left,g=parseInt(p.substring(0,p.length-1),10);return new ai(f=>{this.getFrameworkOverrides().setInterval(()=>{const v=t.getBoundingClientRect(),w=n.getBoundingClientRect();if(w.top==0&&w.left==0&&w.height==0&&w.width==0){e.hidePopup();return}const E=v.top-w.top;if(E!=c){const S=this.keepXYWithinBounds(o,h+l-E,Mn.vertical);o.style.top=`${S}px`}c=E;const b=v.left-w.left;if(b!=d){const S=this.keepXYWithinBounds(o,g+a-b,Mn.horizontal);o.style.left=`${S}px`}d=b},200).then(v=>{f(()=>{v!=null&&window.clearInterval(v)})})})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:i,touchEvent:n}=e,o=i||n;if(!o)return!1;const r=this.popupList.findIndex(l=>l.element===t);if(r===-1)return!1;for(let l=r;l<this.popupList.length;l++){const a=this.popupList[l];if(dd(a.element,o))return!0}return this.isElementWithinCustomPopup(o.target)}isElementWithinCustomPopup(e){const t=this.gridOptionsService.getDocument();for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}isEventSameChainAsOriginalEvent(e){const{originalMouseEvent:t,mouseEvent:i,touchEvent:n}=e;let o=null;if(i?o=i:n&&(o=n.touches[0]),o&&t){const r=i?i.screenX:0,l=i?i.screenY:0,a=Math.abs(t.screenX-r)<5,c=Math.abs(t.screenY-l)<5;if(a&&c)return!0}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const i=this.getWrapper(e);i&&(i.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(i))}bringPopupToFront(e){const t=this.getPopupParent(),i=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),n=i.length,o=Array.prototype.slice.call(t.querySelectorAll(".ag-popup.ag-always-on-top")),r=o.length,l=this.getWrapper(e);if(!l||n<=1||!t.contains(e))return;const a=i.indexOf(l),c=l.querySelectorAll("div"),d=[];for(c.forEach(h=>{h.scrollTop!==0&&d.push([h,h.scrollTop])}),r?l.classList.contains("ag-always-on-top")?a!==n-1&&ft(o).insertAdjacentElement("afterend",l):a!==n-r-1&&o[0].insertAdjacentElement("beforebegin",l):a!==n-1&&ft(i).insertAdjacentElement("afterend",l);d.length;){const h=d.pop();h[0].scrollTop=h[1]}const u={type:"popupToFront",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,eWrapper:l};this.eventService.dispatchEvent(u)}};zn.WAIT_FOR_POPUP_CONTENT_RESIZE=200;dc([y("focusService")],zn.prototype,"focusService",void 0);dc([y("ctrlsService")],zn.prototype,"ctrlsService",void 0);dc([y("resizeObserverService")],zn.prototype,"resizeObserverService",void 0);dc([de],zn.prototype,"postConstruct",null);zn=_p=dc([Se("popupService")],zn);var Mg=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class uc extends Mu{constructor(e="default",t="listbox",i){super(uc.getTemplate(e)),this.cssIdentifier=e,this.ariaRole=t,this.listName=i,this.renderedRows=new Map,this.rowHeight=20}postConstruct(){this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e),focusInnerElement:e=>this.focusInnerElement(e),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e)}),this.setAriaProperties(),this.addManagedListener(this.eventService,m.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanged.bind(this))}onGridStylesChanged(){this.rowHeight=this.getItemHeight(),this.refresh()}setAriaProperties(){const t=this.localeService.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),i=this.eContainer;Ht(i,this.ariaRole),Qn(i,t)}addResizeObserver(){const e=()=>this.drawVirtualRows(),t=this.resizeObserverService.observeResize(this.getGui(),e);this.addDestroyFunc(t)}focusInnerElement(e){this.focusRow(e?this.model.getRowCount()-1:0)}onFocusIn(e){const t=e.target;return t.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=Ew(t)-1),!1}onFocusOut(e){return this.getFocusableElement().contains(e.relatedTarget)||(this.lastFocusedRowIndex=null),!1}handleKeyDown(e){switch(e.key){case $.UP:case $.DOWN:this.navigate(e.key===$.UP)&&e.preventDefault();break}}onTabKeyDown(e){this.navigate(e.shiftKey)?e.preventDefault():(gn(e),this.forceFocusOutOfContainer(e.shiftKey))}navigate(e){if(this.lastFocusedRowIndex==null)return!1;const t=this.lastFocusedRowIndex+(e?-1:1);return t<0||t>=this.model.getRowCount()?!1:(this.focusRow(t),!0)}getLastFocusedRow(){return this.lastFocusedRowIndex}focusRow(e){this.ensureIndexVisible(e),window.setTimeout(()=>{if(!this.isAlive())return;const t=this.renderedRows.get(e);t&&t.eDiv.focus()},10)}getComponentAt(e){const t=this.renderedRows.get(e);return t&&t.rowComponent}forEachRenderedRow(e){this.renderedRows.forEach((t,i)=>e(t.rowComponent,i))}static getTemplate(e){return`
            <div class="ag-virtual-list-viewport ag-${e}-virtual-list-viewport" role="presentation">
                <div class="ag-virtual-list-container ag-${e}-virtual-list-container" ref="eContainer"></div>
            </div>`}getItemHeight(){return this.environment.getListItemHeight()}ensureIndexVisible(e){const t=this.model.getRowCount();if(typeof e!="number"||e<0||e>=t){console.warn("AG Grid: invalid row index for ensureIndexVisible: "+e);return}const i=e*this.rowHeight,n=i+this.rowHeight,o=this.getGui(),r=o.scrollTop,l=o.offsetHeight,a=r+l,c=r>i,d=a<n;if(c)o.scrollTop=i;else if(d){const u=n-l;o.scrollTop=u}}setComponentCreator(e){this.componentCreator=e}setComponentUpdater(e){this.componentUpdater=e}getRowHeight(){return this.rowHeight}getScrollTop(){return this.getGui().scrollTop}setRowHeight(e){this.rowHeight=e,this.refresh()}refresh(e){if(this.model==null||!this.isAlive())return;const t=this.model.getRowCount();this.eContainer.style.height=`${t*this.rowHeight}px`,Rf(()=>this.eContainer.clientHeight>=t*this.rowHeight,()=>{this.isAlive()&&(this.canSoftRefresh(e)?this.drawVirtualRows(!0):(this.clearVirtualRows(),this.drawVirtualRows()))})}canSoftRefresh(e){return!!(e&&this.renderedRows.size&&typeof this.model.areRowsEqual=="function"&&this.componentUpdater)}clearVirtualRows(){this.renderedRows.forEach((e,t)=>this.removeRow(t))}drawVirtualRows(e){if(!this.isAlive())return;const t=this.getGui(),i=t.scrollTop,n=i+t.offsetHeight,o=Math.floor(i/this.rowHeight),r=Math.floor(n/this.rowHeight);this.ensureRowsRendered(o,r,e)}ensureRowsRendered(e,t,i){this.renderedRows.forEach((n,o)=>{(o<e||o>t)&&o!==this.lastFocusedRowIndex&&this.removeRow(o)}),i&&this.refreshRows();for(let n=e;n<=t;n++)this.renderedRows.has(n)||n<this.model.getRowCount()&&this.insertRow(n)}insertRow(e){const t=this.model.getRow(e),i=document.createElement("div");if(i.classList.add("ag-virtual-list-item",`ag-${this.cssIdentifier}-virtual-list-item`),Ht(i,this.ariaRole==="tree"?"treeitem":"option"),Ff(i,this.model.getRowCount()),Mf(i,e+1),i.setAttribute("tabindex","-1"),typeof this.model.isRowSelected=="function"){const o=this.model.isRowSelected(e);Rr(i,!!o),Nw(i,o)}i.style.height=`${this.rowHeight}px`,i.style.top=`${this.rowHeight*e}px`;const n=this.componentCreator(t,i);n.addGuiEventListener("focusin",()=>this.lastFocusedRowIndex=e),i.appendChild(n.getGui()),this.renderedRows.has(e-1)?this.renderedRows.get(e-1).eDiv.insertAdjacentElement("afterend",i):this.renderedRows.has(e+1)?this.renderedRows.get(e+1).eDiv.insertAdjacentElement("beforebegin",i):this.eContainer.appendChild(i),this.renderedRows.set(e,{rowComponent:n,eDiv:i,value:t})}removeRow(e){const t=this.renderedRows.get(e);this.eContainer.removeChild(t.eDiv),this.destroyBean(t.rowComponent),this.renderedRows.delete(e)}refreshRows(){const e=this.model.getRowCount();this.renderedRows.forEach((t,i)=>{var n,o;if(i>=e)this.removeRow(i);else{const r=this.model.getRow(i);!((o=(n=this.model).areRowsEqual)===null||o===void 0)&&o.call(n,t.value,r)?this.componentUpdater(r,t.rowComponent):this.removeRow(i)}})}addScrollListener(){this.addGuiEventListener("scroll",()=>this.drawVirtualRows(),{passive:!0})}setModel(e){this.model=e}destroy(){this.isAlive()&&(this.clearVirtualRows(),super.destroy())}}Mg([y("resizeObserverService")],uc.prototype,"resizeObserverService",void 0);Mg([ue("eContainer")],uc.prototype,"eContainer",void 0);Mg([de],uc.prototype,"postConstruct",null);const Ck=["mouseover","mouseout","mouseenter","mouseleave","mousemove"],yk=["touchstart","touchend","touchmove","touchcancel"];class zS{constructor(){this.renderingEngine="vanilla",this.isOutsideAngular=e=>Zi(Ck,e)}setTimeout(e,t){window.setTimeout(e,t)}setInterval(e,t){return new ai(i=>{i(window.setInterval(e,t))})}addEventListener(e,t,i,n){const o=Zi(yk,t);e.addEventListener(t,i,{capture:!!n,passive:o})}dispatchEvent(e,t,i=!1){t()}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}}var nl=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let Kn=class extends ee{getNextCellToFocus(e,t,i=!1){return i?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const i=e===$.UP,n=e===$.DOWN,o=e===$.LEFT;let r,l;if(i||n)l=i?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),r=t.column;else{const a=this.columnModel.getAllDisplayedColumns(),c=this.gridOptionsService.is("enableRtl");l=t.rowIndex,r=o!==c?a[0]:ft(a)}return{rowIndex:l,rowPinned:null,column:r}}getNextCellToFocusWithoutCtrlPressed(e,t){let i=t,n=!1;for(;!n;){switch(e){case $.UP:i=this.getCellAbove(i);break;case $.DOWN:i=this.getCellBelow(i);break;case $.RIGHT:this.gridOptionsService.is("enableRtl")?i=this.getCellToLeft(i):i=this.getCellToRight(i);break;case $.LEFT:this.gridOptionsService.is("enableRtl")?i=this.getCellToRight(i):i=this.getCellToLeft(i);break;default:i=null,console.warn("AG Grid: unknown key for navigation "+e);break}i?n=this.isCellGoodToFocusOn(i):n=!0}return i}isCellGoodToFocusOn(e){const t=e.column;let i;switch(e.rowPinned){case"top":i=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":i=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:i=this.rowModel.getRow(e.rowIndex);break}return i?!t.isSuppressNavigable(i):!1}getCellToLeft(e){if(!e)return null;const t=this.columnModel.getDisplayedColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.columnModel.getDisplayedColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getRowBelow(e){const t=e.rowIndex,i=e.rowPinned;if(this.isLastRowInContainer(e))switch(i){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}const n=this.rowModel.getRow(e.rowIndex),o=this.getNextStickyPosition(n);return o||{rowIndex:t+1,rowPinned:i}}getNextStickyPosition(e,t){if(!this.gridOptionsService.isGroupRowsSticky()||!e||!e.sticky)return;const i=[...this.rowRenderer.getStickyTopRowCtrls()].sort((l,a)=>l.getRowNode().rowIndex-a.getRowNode().rowIndex),n=t?-1:1,o=i.findIndex(l=>l.getRowNode().rowIndex===e.rowIndex),r=i[o+n];if(r)return{rowIndex:r.getRowNode().rowIndex,rowPinned:null}}getCellBelow(e){if(!e)return null;const t=this.getRowBelow(e);return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}isLastRowInContainer(e){const t=e.rowPinned,i=e.rowIndex;return t==="top"?this.pinnedRowModel.getPinnedTopRowData().length-1<=i:t==="bottom"?this.pinnedRowModel.getPinnedBottomRowData().length-1<=i:this.paginationProxy.getPageLastRow()<=i}getRowAbove(e){const t=e.rowIndex,i=e.rowPinned;if(i?t===0:t===this.paginationProxy.getPageFirstRow())return i==="top"?null:i?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;const o=this.rowModel.getRow(e.rowIndex),r=this.getNextStickyPosition(o,!0);return r||{rowIndex:t-1,rowPinned:i}}getCellAbove(e){if(!e)return null;const t=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:"top"}}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const t=this.columnModel.getAllDisplayedColumns();let i=e.rowIndex,n=e.rowPinned,o=this.columnModel.getDisplayedColAfter(e.column);if(!o){o=t[0];const r=this.getRowBelow(e);if(Le(r)||!r.rowPinned&&!this.paginationProxy.isRowInPage(r))return null;i=r?r.rowIndex:null,n=r?r.rowPinned:null}return{rowIndex:i,column:o,rowPinned:n}}getNextTabbedCellBackwards(e){const t=this.columnModel.getAllDisplayedColumns();let i=e.rowIndex,n=e.rowPinned,o=this.columnModel.getDisplayedColBefore(e.column);if(!o){o=ft(t);const r=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(Le(r)||!r.rowPinned&&!this.paginationProxy.isRowInPage(r))return null;i=r?r.rowIndex:null,n=r?r.rowPinned:null}return{rowIndex:i,column:o,rowPinned:n}}};nl([y("columnModel")],Kn.prototype,"columnModel",void 0);nl([y("rowModel")],Kn.prototype,"rowModel",void 0);nl([y("rowRenderer")],Kn.prototype,"rowRenderer",void 0);nl([y("pinnedRowModel")],Kn.prototype,"pinnedRowModel",void 0);nl([y("paginationProxy")],Kn.prototype,"paginationProxy",void 0);Kn=nl([Se("cellNavigationService")],Kn);var hc=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},wk=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};let Mo=class extends ee{constructor(){super(...arguments),this.consuming=!1}setBeans(e){this.logger=e.create("AlignedGridsService")}init(){this.addManagedListener(this.eventService,m.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,m.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,m.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,m.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,m.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,m.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))}fireEvent(e){if(this.consuming)return;const t=this.gridOptionsService.get("alignedGrids");t&&t.forEach(i=>{if(i.api){const n=i.api.__getAlignedGridService();e(n)}})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent(t=>{t.onColumnEvent(e)})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent(t=>{t.onScrollEvent(e)})}onScrollEvent(e){this.onEvent(()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}getMasterColumns(e){const t=[];return e.columns?e.columns.forEach(i=>{t.push(i)}):e.column&&t.push(e.column),t}getColumnIds(e){const t=[];return e.columns?e.columns.forEach(i=>{t.push(i.getColId())}):e.column&&t.push(e.column.getColId()),t}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case m.EVENT_COLUMN_MOVED:case m.EVENT_COLUMN_VISIBLE:case m.EVENT_COLUMN_PINNED:case m.EVENT_COLUMN_RESIZED:const t=e;this.processColumnEvent(t);break;case m.EVENT_COLUMN_GROUP_OPENED:const i=e;this.processGroupOpenedEvent(i);break;case m.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}})}processGroupOpenedEvent(e){const t=e.columnGroup;let i=null;if(t){const n=t.getGroupId();i=this.columnModel.getProvidedColumnGroup(n)}t&&!i||(this.logger.log("onColumnEvent-> processing "+e+" expanded = "+t.isExpanded()),this.columnModel.setColumnGroupOpened(i,t.isExpanded(),"alignedGridChanged"))}processColumnEvent(e){var t;const i=e.column;let n=null;if(i&&(n=this.columnModel.getPrimaryColumn(i.getColId())),i&&!n)return;const o=this.getMasterColumns(e);switch(e.type){case m.EVENT_COLUMN_MOVED:{const u=e,p=e.columnApi.getColumnState().map(g=>({colId:g.colId}));this.columnModel.applyColumnState({state:p,applyOrder:!0},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${e.type} toIndex = ${u.toIndex}`)}break;case m.EVENT_COLUMN_VISIBLE:{const u=e,p=e.columnApi.getColumnState().map(g=>({colId:g.colId,hide:g.hide}));this.columnModel.applyColumnState({state:p},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${e.type} visible = ${u.visible}`)}break;case m.EVENT_COLUMN_PINNED:{const u=e,p=e.columnApi.getColumnState().map(g=>({colId:g.colId,pinned:g.pinned}));this.columnModel.applyColumnState({state:p},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${e.type} pinned = ${u.pinned}`)}break;case m.EVENT_COLUMN_RESIZED:const c=e,d={};o.forEach(u=>{this.logger.log(`onColumnEvent-> processing ${e.type} actualWidth = ${u.getActualWidth()}`),d[u.getId()]={key:u.getColId(),newWidth:u.getActualWidth()}}),(t=c.flexColumns)===null||t===void 0||t.forEach(u=>{d[u.getId()]&&delete d[u.getId()]}),this.columnModel.setColumnWidths(Object.values(d),!1,c.finished,"alignedGridChanged");break}const l=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing(),a=this.gridOptionsService.get("alignedGrids");a&&a.forEach(c=>{c.api&&c.api.setAlwaysShowVerticalScroll(l)})}};hc([y("columnModel")],Mo.prototype,"columnModel",void 0);hc([y("ctrlsService")],Mo.prototype,"ctrlsService",void 0);hc([wk(0,mi("loggerFactory"))],Mo.prototype,"setBeans",null);hc([de],Mo.prototype,"init",null);Mo=hc([Se("alignedGridsService")],Mo);var pc=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Sk=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};let Lo=class extends ee{setBeans(e){this.logger=e.create("selectionService"),this.reset()}init(){this.groupSelectsChildren=this.gridOptionsService.is("groupSelectsChildren"),this.addManagedPropertyListener("groupSelectsChildren",e=>this.groupSelectsChildren=e.currentValue),this.rowSelection=this.gridOptionsService.get("rowSelection"),this.addManagedPropertyListener("rowSelection",e=>this.rowSelection=e.currentValue),this.addManagedListener(this.eventService,m.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))}isMultiselect(){return this.rowSelection==="multiple"}setNodesSelected(e){var t;if(e.nodes.length===0)return 0;const{newValue:i,clearSelection:n,suppressFinishActions:o,rangeSelect:r,event:l,source:a="api"}=e;if(e.nodes.length>1&&!this.isMultiselect())return console.warn("AG Grid: cannot multi select while rowSelection='single'"),0;const c=this.groupSelectsChildren&&e.groupSelectsFiltered===!0,d=e.nodes.map(h=>h.footer?h.sibling:h);if(r){if(e.nodes.length>1)return console.warn("AG Grid: cannot range select while selecting multiple rows"),0;const h=this.getLastSelectedNode();if(h){const p=d[0];if(h!==p&&this.isMultiselect()){const f=this.selectRange(p,h,e.newValue,a);return this.setLastSelectedNode(p),f}}}let u=0;for(let h=0;h<d.length;h++){const p=d[h];c&&p.group||p.selectThisNode(i,e.event,a)&&u++,this.groupSelectsChildren&&(!((t=p.childrenAfterGroup)===null||t===void 0)&&t.length)&&(u+=this.selectChildren(p,i,c,a))}if(!o){if(i&&(n||!this.isMultiselect())&&(u+=this.clearOtherNodes(d[0],a)),u>0){this.updateGroupsFromChildrenSelections(a);const p={type:m.EVENT_SELECTION_CHANGED,source:a};this.eventService.dispatchEvent(p)}i&&this.setLastSelectedNode(d[d.length-1])}return u}selectRange(e,t,i=!0,n){const o=this.rowModel.getNodesInRangeForSelection(e,t);let r=0;o.forEach(a=>{if(a.group&&this.groupSelectsChildren||i===!1&&e===a)return;a.selectThisNode(i,void 0,n)&&r++}),this.updateGroupsFromChildrenSelections(n);const l={type:m.EVENT_SELECTION_CHANGED,source:n};return this.eventService.dispatchEvent(l),r}selectChildren(e,t,i,n){const o=i?e.childrenAfterAggFilter:e.childrenAfterGroup;return Qe.missing(o)?0:this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:i,source:n,nodes:o})}setLastSelectedNode(e){this.lastSelectedNode=e}getLastSelectedNode(){return this.lastSelectedNode}getSelectedNodes(){const e=[];return Rt(this.selectedNodes,(t,i)=>{i&&e.push(i)}),e}getSelectedRows(){const e=[];return Rt(this.selectedNodes,(t,i)=>{i&&i.data&&e.push(i.data)}),e}getSelectionCount(){return Object.values(this.selectedNodes).length}filterFromSelection(e){const t={};Object.entries(this.selectedNodes).forEach(([i,n])=>{n&&e(n)&&(t[i]=n)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsChildren||this.rowModel.getType()!=="clientSide")return!1;const n=this.rowModel.getRootNode();t||(t=new Ag(!0,n),t.setInactive());let o=!1;return t.forEachChangedNodeDepthFirst(r=>{if(r!==n){const l=r.calculateSelectedFromChildren();o=r.selectThisNode(l===null?!1:l,void 0,e)||o}}),o}clearOtherNodes(e,t){const i={};let n=0;return Rt(this.selectedNodes,(o,r)=>{if(r&&r.id!==e.id){const l=this.selectedNodes[r.id];n+=l.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:t}),this.groupSelectsChildren&&r.parent&&(i[r.parent.id]=r.parent)}}),Rt(i,(o,r)=>{const l=r.calculateSelectedFromChildren();r.selectThisNode(l===null?!1:l,void 0,t)}),n}onRowSelected(e){const t=e.node;this.groupSelectsChildren&&t.group||(t.isSelected()?this.selectedNodes[t.id]=t:delete this.selectedNodes[t.id])}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}syncInOldRowNode(e,t){if(Q(t)&&e.id!==t.id&&t){const n=t.id;this.selectedNodes[n]==e&&(this.selectedNodes[t.id]=t)}}syncInNewRowNode(e){Q(this.selectedNodes[e.id])?(e.setSelectedInitialValue(!0),this.selectedNodes[e.id]=e):e.setSelectedInitialValue(!1)}reset(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null}getBestCostNodeSelection(){if(this.rowModel.getType()!=="clientSide")return;const t=this.rowModel.getTopLevelNodes();if(t===null)return;const i=[];function n(o){for(let r=0,l=o.length;r<l;r++){const a=o[r];if(a.isSelected())i.push(a);else{const c=a;c.group&&c.children&&n(c.children)}}}return n(t),i}isEmpty(){let e=0;return Rt(this.selectedNodes,(t,i)=>{i&&e++}),e===0}deselectAllRowNodes(e){const t=a=>a.selectThisNode(!1,void 0,n),i=this.rowModel.getType()==="clientSide",{source:n,justFiltered:o,justCurrentPage:r}=e;if(r||o){if(!i){console.error("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'");return}this.getNodesToSelect(o,r).forEach(t)}else Rt(this.selectedNodes,(a,c)=>{c&&t(c)}),this.reset();i&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(n);const l={type:m.EVENT_SELECTION_CHANGED,source:n};this.eventService.dispatchEvent(l)}getSelectAllState(e,t){let i=0,n=0;const o=r=>{this.groupSelectsChildren&&r.group||(r.isSelected()?i++:r.selectable&&n++)};return this.getNodesToSelect(e,t).forEach(o),i===0&&n===0?!1:i>0&&n>0?null:i>0}getNodesToSelect(e=!1,t=!1){if(this.rowModel.getType()!=="clientSide")throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);const i=[];if(t)return this.paginationProxy.forEachNodeOnPage(o=>{if(!o.group){i.push(o);return}if(!o.expanded){const r=l=>{var a;i.push(l),!((a=l.childrenAfterFilter)===null||a===void 0)&&a.length&&l.childrenAfterFilter.forEach(r)};r(o);return}this.groupSelectsChildren||i.push(o)}),i;const n=this.rowModel;return e?(n.forEachNodeAfterFilter(o=>{i.push(o)}),i):(n.forEachNode(o=>{i.push(o)}),i)}selectAllRowNodes(e){if(this.rowModel.getType()!=="clientSide")throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);const{source:t,justFiltered:i,justCurrentPage:n}=e,o=l=>l.selectThisNode(!0,void 0,t);this.getNodesToSelect(i,n).forEach(o),this.rowModel.getType()==="clientSide"&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(t);const r={type:m.EVENT_SELECTION_CHANGED,source:t};this.eventService.dispatchEvent(r)}getServerSideSelectionState(){return null}setServerSideSelectionState(e){}};pc([y("rowModel")],Lo.prototype,"rowModel",void 0);pc([y("paginationProxy")],Lo.prototype,"paginationProxy",void 0);pc([Sk(0,mi("loggerFactory"))],Lo.prototype,"setBeans",null);pc([de],Lo.prototype,"init",null);Lo=pc([Se("selectionService")],Lo);var Lg=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let ua=class{sizeColumnsToFit(e){typeof e>"u"&&console.error("AG Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnModel.sizeColumnsToFit(e,"api")}setColumnGroupOpened(e,t){this.columnModel.setColumnGroupOpened(e,t,"api")}getColumnGroup(e,t){return this.columnModel.getColumnGroup(e,t)}getProvidedColumnGroup(e){return this.columnModel.getProvidedColumnGroup(e)}getDisplayNameForColumn(e,t){return this.columnModel.getDisplayNameForColumn(e,t)||""}getDisplayNameForColumnGroup(e,t){return this.columnModel.getDisplayNameForColumnGroup(e,t)||""}getColumn(e){return this.columnModel.getPrimaryColumn(e)}getColumns(){return this.columnModel.getAllPrimaryColumns()}applyColumnState(e){return this.columnModel.applyColumnState(e,"api")}getColumnState(){return this.columnModel.getColumnState()}resetColumnState(){this.columnModel.resetColumnState("api")}getColumnGroupState(){return this.columnModel.getColumnGroupState()}setColumnGroupState(e){this.columnModel.setColumnGroupState(e,"api")}resetColumnGroupState(){this.columnModel.resetColumnGroupState("api")}isPinning(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()}isPinningLeft(){return this.columnModel.isPinningLeft()}isPinningRight(){return this.columnModel.isPinningRight()}getDisplayedColAfter(e){return this.columnModel.getDisplayedColAfter(e)}getDisplayedColBefore(e){return this.columnModel.getDisplayedColBefore(e)}setColumnVisible(e,t){this.columnModel.setColumnVisible(e,t,"api")}setColumnsVisible(e,t){this.columnModel.setColumnsVisible(e,t,"api")}setColumnPinned(e,t){this.columnModel.setColumnPinned(e,t,"api")}setColumnsPinned(e,t){this.columnModel.setColumnsPinned(e,t,"api")}getAllGridColumns(){return this.columnModel.getAllGridColumns()}getDisplayedLeftColumns(){return this.columnModel.getDisplayedLeftColumns()}getDisplayedCenterColumns(){return this.columnModel.getDisplayedCenterColumns()}getDisplayedRightColumns(){return this.columnModel.getDisplayedRightColumns()}getAllDisplayedColumns(){return this.columnModel.getAllDisplayedColumns()}getAllDisplayedVirtualColumns(){return this.columnModel.getViewportColumns()}moveColumn(e,t){this.columnModel.moveColumn(e,t,"api")}moveColumnByIndex(e,t){this.columnModel.moveColumnByIndex(e,t,"api")}moveColumns(e,t){this.columnModel.moveColumns(e,t,"api")}moveRowGroupColumn(e,t){this.columnModel.moveRowGroupColumn(e,t)}setColumnAggFunc(e,t){this.columnModel.setColumnAggFunc(e,t)}setColumnWidth(e,t,i=!0,n){this.columnModel.setColumnWidths([{key:e,newWidth:t}],!1,i,n)}setColumnWidths(e,t=!0,i){this.columnModel.setColumnWidths(e,!1,t,i)}setPivotMode(e){this.columnModel.setPivotMode(e)}isPivotMode(){return this.columnModel.isPivotMode()}getPivotResultColumn(e,t){return this.columnModel.getSecondaryPivotColumn(e,t)}setValueColumns(e){this.columnModel.setValueColumns(e,"api")}getValueColumns(){return this.columnModel.getValueColumns()}removeValueColumn(e){this.columnModel.removeValueColumn(e,"api")}removeValueColumns(e){this.columnModel.removeValueColumns(e,"api")}addValueColumn(e){this.columnModel.addValueColumn(e,"api")}addValueColumns(e){this.columnModel.addValueColumns(e,"api")}setRowGroupColumns(e){this.columnModel.setRowGroupColumns(e,"api")}removeRowGroupColumn(e){this.columnModel.removeRowGroupColumn(e,"api")}removeRowGroupColumns(e){this.columnModel.removeRowGroupColumns(e,"api")}addRowGroupColumn(e){this.columnModel.addRowGroupColumn(e,"api")}addRowGroupColumns(e){this.columnModel.addRowGroupColumns(e,"api")}getRowGroupColumns(){return this.columnModel.getRowGroupColumns()}setPivotColumns(e){this.columnModel.setPivotColumns(e,"api")}removePivotColumn(e){this.columnModel.removePivotColumn(e,"api")}removePivotColumns(e){this.columnModel.removePivotColumns(e,"api")}addPivotColumn(e){this.columnModel.addPivotColumn(e,"api")}addPivotColumns(e){this.columnModel.addPivotColumns(e,"api")}getPivotColumns(){return this.columnModel.getPivotColumns()}getLeftDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeLeft()}getCenterDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeCentre()}getRightDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeRight()}getAllDisplayedColumnGroups(){return this.columnModel.getAllDisplayedTrees()}autoSizeColumn(e,t){return this.columnModel.autoSizeColumn(e,t,"api")}autoSizeColumns(e,t){this.columnModel.autoSizeColumns({columns:e,skipHeader:t})}autoSizeAllColumns(e){this.columnModel.autoSizeAllColumns(e,"api")}setPivotResultColumns(e){this.columnModel.setSecondaryColumns(e,"api")}getPivotResultColumns(){return this.columnModel.getSecondaryColumns()}cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid(){setTimeout(Qe.removeAllReferences.bind(window,this,"Column API"),100)}getAllColumns(){return qi("28.0","getAllColumns","getColumns"),this.getColumns()}getPrimaryColumns(){return qi("28.0","getPrimaryColumns","getColumns"),this.getColumns()}getSecondaryColumns(){return qi("28.0","getSecondaryColumns","getPivotResultColumns"),this.getPivotResultColumns()}setSecondaryColumns(e){qi("28.0","setSecondaryColumns","setPivotResultColumns"),this.setPivotResultColumns(e)}getSecondaryPivotColumn(e,t){return qi("28.0","getSecondaryPivotColumn","getPivotResultColumn"),this.getPivotResultColumn(e,t)}};Lg([y("columnModel")],ua.prototype,"columnModel",void 0);Lg([hi],ua.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null);ua=Lg([Se("columnApi")],ua);var ol=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let Yn=class extends ee{constructor(){super(...arguments),this.initialised=!1,this.isSsrm=!1}init(){this.isSsrm=this.gridOptionsService.isRowModelType("serverSide"),this.cellExpressions=this.gridOptionsService.is("enableCellExpressions"),this.isTreeData=this.gridOptionsService.is("treeData"),this.initialised=!0,this.eventService.addEventListener(m.EVENT_CELL_VALUE_CHANGED,e=>this.callColumnCellValueChangedHandler(e),this.gridOptionsService.useAsyncEvents()),this.addManagedPropertyListener("treeData",e=>this.isTreeData=e.currentValue)}getValue(e,t,i=!1,n=!1){if(this.initialised||this.init(),!t)return;const o=e.getColDef(),r=o.field,l=e.getColId(),a=t.data;let c;const d=t.groupData&&t.groupData[l]!==void 0,u=!n&&t.aggData&&t.aggData[l]!==void 0,h=this.isSsrm&&n&&!!e.getColDef().aggFunc,p=this.isSsrm&&t.footer&&t.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===t.field);if(i&&o.filterValueGetter?c=this.executeFilterValueGetter(o.filterValueGetter,a,e,t):this.isTreeData&&u?c=t.aggData[l]:this.isTreeData&&o.valueGetter?c=this.executeValueGetter(o.valueGetter,a,e,t):this.isTreeData&&r&&a?c=rr(a,r,e.isFieldContainsDots()):d?c=t.groupData[l]:u?c=t.aggData[l]:o.valueGetter?c=this.executeValueGetter(o.valueGetter,a,e,t):p?c=rr(a,t.field,e.isFieldContainsDots()):r&&a&&!h&&(c=rr(a,r,e.isFieldContainsDots())),this.cellExpressions&&typeof c=="string"&&c.indexOf("=")===0){const g=c.substring(1);c=this.executeValueGetter(g,a,e,t)}if(c==null){const g=this.getOpenedGroup(t,e);if(g!=null)return g}return c}getOpenedGroup(e,t){if(!this.gridOptionsService.is("showOpenedGroup")||!t.getColDef().showRowGroup)return;const n=t.getColDef().showRowGroup;let o=e.parent;for(;o!=null;){if(o.rowGroupColumn&&(n===!0||n===o.rowGroupColumn.getColId()))return o.key;o=o.parent}}setValue(e,t,i,n){const o=this.columnModel.getPrimaryColumn(t);if(!e||!o)return!1;Le(e.data)&&(e.data={});const{field:r,valueSetter:l}=o.getColDef();if(Le(r)&&Le(l))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;if(!this.dataTypeService.checkType(o,i))return console.warn("AG Grid: Data type of the new value does not match the cell data type of the column"),!1;const a={node:e,data:e.data,oldValue:this.getValue(o,e),newValue:i,colDef:o.getColDef(),column:o,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};a.newValue=i;let c;if(Q(l)?typeof l=="function"?c=l(a):c=this.expressionService.evaluate(l,a):c=this.setValueUsingField(e.data,r,i,o.isFieldContainsDots()),c===void 0&&(c=!0),!c)return!1;e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),a.newValue=this.getValue(o,e);const d={type:m.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:a.column,api:a.api,columnApi:a.columnApi,colDef:a.colDef,context:a.context,data:e.data,node:e,oldValue:a.oldValue,newValue:a.newValue,value:a.newValue,source:n};return this.eventService.dispatchEvent(d),!0}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,columnApi:e.columnApi,context:e.context})}setValueUsingField(e,t,i,n){if(!t)return!1;let o=!1;if(!n)o=e[t]==i,o||(e[t]=i);else{const r=t.split(".");let l=e;for(;r.length>0&&l;){const a=r.shift();r.length===0?(o=l[a]==i,o||(l[a]=i)):l=l[a]}}return!o}executeFilterValueGetter(e,t,i,n){const o={data:t,node:n,column:i,colDef:i.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,n)};return typeof e=="function"?e(o):this.expressionService.evaluate(e,o)}executeValueGetter(e,t,i,n){const o=i.getColId(),r=this.valueCache.getValue(n,o);if(r!==void 0)return r;const l={data:t,node:n,column:i,colDef:i.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,n)};let a;return typeof e=="function"?a=e(l):a=this.expressionService.evaluate(e,l),this.valueCache.setValue(n,o,a),a}getValueCallback(e,t){const i=this.columnModel.getPrimaryColumn(t);return i?this.getValue(i,e):null}getKeyForNode(e,t){const i=this.getValue(e,t),n=e.getColDef().keyCreator;let o=i;if(n){const r={value:i,colDef:e.getColDef(),column:e,node:t,data:t.data,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};o=n(r)}return typeof o=="string"||o==null||(o=String(o),o==="[object Object]"&&st(()=>{console.warn("AG Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")},"getKeyForNode - warn about [object,object]")),o}};ol([y("expressionService")],Yn.prototype,"expressionService",void 0);ol([y("columnModel")],Yn.prototype,"columnModel",void 0);ol([y("valueCache")],Yn.prototype,"valueCache",void 0);ol([y("dataTypeService")],Yn.prototype,"dataTypeService",void 0);ol([de],Yn.prototype,"init",null);Yn=ol([Se("valueService")],Yn);var KS=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},bk=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};let Cd=class extends ee{constructor(){super(...arguments),this.expressionToFunctionCache={}}setBeans(e){this.logger=e.create("ExpressionService")}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);console.error("AG Grid: value should be either a string or a function",e)}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.columnApi,t.getValue,t.column,t.columnGroup)}catch(i){return console.log("Processing of the expression failed"),console.log("Expression = "+e),console.log("Params =",t),console.log("Exception = "+i),null}}createExpressionFunction(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];const t=this.createFunctionBody(e),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",t);return this.expressionToFunctionCache[e]=i,i}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}};KS([bk(0,mi("loggerFactory"))],Cd.prototype,"setBeans",null);Cd=KS([Se("expressionService")],Cd);var Ek=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let Pp=class extends ee{constructor(){super(...arguments),this.templateCache={},this.waitingCallbacks={}}getTemplate(e,t){const i=this.templateCache[e];if(i)return i;let n=this.waitingCallbacks[e];const o=this;if(!n){n=[],this.waitingCallbacks[e]=n;const r=new XMLHttpRequest;r.onload=function(){o.handleHttpResult(this,e)},r.open("GET",e),r.send()}return t&&n.push(t),null}handleHttpResult(e,t){if(e.status!==200||e.response===null){console.warn(`AG Grid: Unable to get template error ${e.status} - ${t}`);return}this.templateCache[t]=e.response||e.responseText;const i=this.waitingCallbacks[t];for(let n=0;n<i.length;n++){const o=i[n];o()}}};Pp=Ek([Se("templateService")],Pp);var YS=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Rk=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};let yd=class extends ee{setBeans(e){this.logging=e.is("debug")}create(e){return new Ap(e,this.isLogging.bind(this))}isLogging(){return this.logging}};YS([Rk(0,mi("gridOptionsService"))],yd.prototype,"setBeans",null);yd=YS([Se("loggerFactory")],yd);class Ap{constructor(e,t){this.name=e,this.isLoggingFunc=t}isLogging(){return this.isLoggingFunc()}log(e){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+e)}}var rl=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class $o extends ee{setComp(e,t,i){this.view=e,this.eGridHostDiv=t,this.eGui=i,this.eGui.setAttribute("grid-id",this.context.getGridId()),this.dragAndDropService.addDropTarget({getContainer:()=>this.eGui,isInterestedIn:o=>o===di.HeaderCell||o===di.ToolPanel,getIconName:()=>nt.ICON_NOT_ALLOWED}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(t),this.createManagedBean(new gu(this.view)),this.addRtlSupport(),this.addManagedListener(this,m.EVENT_KEYBOARD_FOCUS,()=>{this.view.addOrRemoveKeyboardFocusClass(!0)}),this.addManagedListener(this,m.EVENT_MOUSE_FOCUS,()=>{this.view.addOrRemoveKeyboardFocusClass(!1)});const n=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>n()),this.ctrlsService.registerGridCtrl(this)}isDetailGrid(){var e;const t=this.focusService.findTabbableParent(this.getGui());return((e=t==null?void 0:t.getAttribute("row-id"))===null||e===void 0?void 0:e.startsWith("detail"))||!1}showDropZones(){return me.__isRegistered(Ee.RowGroupingModule,this.context.getGridId())}showSideBar(){return me.__isRegistered(Ee.SideBarModule,this.context.getGridId())}showStatusBar(){return me.__isRegistered(Ee.StatusBarModule,this.context.getGridId())}showWatermark(){return me.__isRegistered(Ee.EnterpriseCoreModule,this.context.getGridId())}onGridSizeChanged(){const e={type:m.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight};this.eventService.dispatchEvent(e)}addRtlSupport(){const e=this.gridOptionsService.is("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(e)}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.gridOptionsService.getDocument(),i=this.view.getFocusableContainers(),o=i.findIndex(r=>r.contains(t.activeElement))+(e?-1:1);return o<=0||o>=i.length?!1:this.focusService.focusInto(i[o])}focusInnerElement(e){const t=this.view.getFocusableContainers(),i=this.columnModel.getAllDisplayedColumns();if(e){if(t.length>1)return this.focusService.focusInto(ft(t),!0);const n=ft(i);if(this.focusService.focusGridView(n,!0))return!0}return this.gridOptionsService.getNum("headerHeight")===0?this.focusService.focusGridView(i[0]):this.focusService.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}}rl([y("focusService")],$o.prototype,"focusService",void 0);rl([y("resizeObserverService")],$o.prototype,"resizeObserverService",void 0);rl([y("columnModel")],$o.prototype,"columnModel",void 0);rl([y("ctrlsService")],$o.prototype,"ctrlsService",void 0);rl([y("mouseEventService")],$o.prototype,"mouseEventService",void 0);rl([y("dragAndDropService")],$o.prototype,"dragAndDropService",void 0);var fc=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class ll extends Mu{constructor(e){super(),this.eGridDiv=e}postConstruct(){this.logger=this.loggerFactory.create("GridComp");const e={destroyGridUi:()=>this.destroyBean(this),setRtlClass:i=>this.addCssClass(i),addOrRemoveKeyboardFocusClass:i=>this.addOrRemoveCssClass(Pt.AG_KEYBOARD_FOCUS,i),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:i=>{this.getGui().style.userSelect=i??"",this.getGui().style.webkitUserSelect=i??""},setCursor:i=>{this.getGui().style.cursor=i??""}};this.ctrl=this.createManagedBean(new $o);const t=this.createTemplate();this.setTemplate(t),this.ctrl.setComp(e,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:i=>this.ctrl.focusInnerElement(i)})}insertGridIntoDom(){const e=this.getGui();this.eGridDiv.appendChild(e),this.addDestroyFunc(()=>{this.eGridDiv.removeChild(e),this.logger.log("Grid removed from DOM")})}updateLayoutClasses(e,t){const i=this.eRootWrapperBody.classList;i.toggle(Ft.AUTO_HEIGHT,t.autoHeight),i.toggle(Ft.NORMAL,t.normal),i.toggle(Ft.PRINT,t.print),this.addOrRemoveCssClass(Ft.AUTO_HEIGHT,t.autoHeight),this.addOrRemoveCssClass(Ft.NORMAL,t.normal),this.addOrRemoveCssClass(Ft.PRINT,t.print)}createTemplate(){const e=this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",t=this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"",i=this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"",n=this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"";return`<div class="ag-root-wrapper" role="presentation">
                ${e}
                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">
                    <ag-grid-body ref="gridBody"></ag-grid-body>
                    ${t}
                </div>
                ${i}
                <ag-pagination></ag-pagination>
                ${n}
            </div>`}getFocusableElement(){return this.eRootWrapperBody}getFocusableContainers(){const e=[this.gridBodyComp.getGui()];return this.sideBarComp&&e.push(this.sideBarComp.getGui()),e.filter(t=>yn(t))}}fc([y("loggerFactory")],ll.prototype,"loggerFactory",void 0);fc([ue("gridBody")],ll.prototype,"gridBodyComp",void 0);fc([ue("sideBar")],ll.prototype,"sideBarComp",void 0);fc([ue("rootWrapperBody")],ll.prototype,"eRootWrapperBody",void 0);fc([de],ll.prototype,"postConstruct",null);var qS=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Kc;let ha=Kc=class extends ee{progressSort(e,t,i){const n=this.getNextSortDirection(e);this.setSortForColumn(e,n,t,i)}setSortForColumn(e,t,i,n){t!=="asc"&&t!=="desc"&&(t=null);const o=this.gridOptionsService.isColumnsSortingCoupledToGroup();let r=[e];if(o&&e.getColDef().showRowGroup){const a=this.columnModel.getSourceColumnsForGroupColumn(e),c=a==null?void 0:a.filter(d=>d.getColDef().sortable);c&&(r=[e,...c])}r.forEach(a=>a.setSort(t,n)),(i||this.gridOptionsService.is("alwaysMultiSort"))&&!this.gridOptionsService.is("suppressMultiSort")||this.clearSortBarTheseColumns(r,n),this.updateSortIndex(e),this.dispatchSortChangedEvents(n)}updateSortIndex(e){const t=this.gridOptionsService.isColumnsSortingCoupledToGroup(),i=this.columnModel.getGroupDisplayColumnForGroup(e.getId()),n=t&&i||e,o=this.getColumnsWithSortingOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(a=>a.setSortIndex(null));const r=o.filter(a=>a!==n);(n.getSort()?[...r,n]:r).forEach((a,c)=>a.setSortIndex(c))}onSortChanged(e){this.dispatchSortChangedEvents(e)}isSortActive(){const t=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(i=>!!i.getSort());return t&&t.length>0}dispatchSortChangedEvents(e){const t={type:m.EVENT_SORT_CHANGED,source:e};this.eventService.dispatchEvent(t)}clearSortBarTheseColumns(e,t){this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(i=>{e.includes(i)||i.setSort(void 0,t)})}getNextSortDirection(e){let t;if(e.getColDef().sortingOrder?t=e.getColDef().sortingOrder:this.gridOptionsService.get("sortingOrder")?t=this.gridOptionsService.get("sortingOrder"):t=Kc.DEFAULT_SORTING_ORDER,!Array.isArray(t)||t.length<=0)return console.warn(`AG Grid: sortingOrder must be an array with at least one element, currently it's ${t}`),null;const i=t.indexOf(e.getSort()),n=i<0,o=i==t.length-1;let r;return n||o?r=t[0]:r=t[i+1],Kc.DEFAULT_SORTING_ORDER.indexOf(r)<0?(console.warn("AG Grid: invalid sort type "+r),null):r}getIndexedSortMap(){let e=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(r=>!!r.getSort());if(this.columnModel.isPivotMode()){const r=this.gridOptionsService.isColumnsSortingCoupledToGroup();e=e.filter(l=>{const a=!!l.getAggFunc(),c=!l.isPrimary(),d=r?this.columnModel.getGroupDisplayColumnForGroup(l.getId()):l.getColDef().showRowGroup;return a||c||d})}const t=this.columnModel.getRowGroupColumns().filter(r=>!!r.getSort()),i=this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!!t.length;i&&(e=[...new Set(e.map(r=>{var l;return(l=this.columnModel.getGroupDisplayColumnForGroup(r.getId()))!==null&&l!==void 0?l:r}))]);const n={};e.forEach((r,l)=>n[r.getId()]=l),e.sort((r,l)=>{const a=r.getSortIndex(),c=l.getSortIndex();if(a!=null&&c!=null)return a-c;if(a==null&&c==null){const d=n[r.getId()],u=n[l.getId()];return d>u?1:-1}else return c==null?-1:1});const o=new Map;return e.forEach((r,l)=>o.set(r,l)),i&&t.forEach(r=>{const l=this.columnModel.getGroupDisplayColumnForGroup(r.getId());o.set(r,o.get(l))}),o}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([e,t],[i,n])=>t-n).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=this.gridOptionsService.isColumnsSortingCoupledToGroup(),i=!!e.getColDef().showRowGroup;return t&&i}getDisplaySortForColumn(e){const t=this.columnModel.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!(t!=null&&t.length))return e.getSort();const n=!!e.getColDef().field?[e,...t]:t,o=n[0].getSort();return n.every(l=>l.getSort()==o)?o:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}};ha.DEFAULT_SORTING_ORDER=["asc","desc",null];qS([y("columnModel")],ha.prototype,"columnModel",void 0);ha=Kc=qS([Se("sortController")],ha);var Tk=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let Fp=class extends ee{setMouseOver(e){this.selectedColumns=e;const t={type:m.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(t)}clearMouseOver(){this.selectedColumns=null;const e={type:m.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(e)}isHovered(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0}};Fp=Tk([Se("columnHoverService")],Fp);var Ig=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let pa=class extends ee{constructor(){super(...arguments),this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.animationThreadCount=0}postConstruct(){this.ctrlsService.whenReady(e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active}start(){this.active||this.gridOptionsService.is("suppressColumnMoveAnimation")||this.gridOptionsService.is("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)}finish(){this.active&&(this.flush(),this.active=!1)}executeNextVMTurn(e){this.active?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&this.gridBodyCtrl.setColumnMovingCss(!1)})}flush(){const e=this.executeNextFuncs;this.executeNextFuncs=[];const t=this.executeLaterFuncs;this.executeLaterFuncs=[],!(e.length===0&&t.length===0)&&(window.setTimeout(()=>e.forEach(i=>i()),0),window.setTimeout(()=>t.forEach(i=>i()),300))}};Ig([y("ctrlsService")],pa.prototype,"ctrlsService",void 0);Ig([de],pa.prototype,"postConstruct",null);pa=Ig([Se("columnAnimationService")],pa);var Ng=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let fa=class extends ee{postConstruct(){this.ctrlsService.whenReady(e=>{this.centerRowContainerCon=e.centerRowContainerCtrl,this.addManagedListener(this.eventService,m.EVENT_BODY_HEIGHT_CHANGED,this.checkPageSize.bind(this)),this.addManagedListener(this.eventService,m.EVENT_SCROLL_VISIBILITY_CHANGED,this.checkPageSize.bind(this)),this.checkPageSize()})}notActive(){return!this.gridOptionsService.is("paginationAutoPageSize")||this.centerRowContainerCon==null}checkPageSize(){if(this.notActive())return;const e=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(e>0){const t=()=>{const i=this.gridOptionsService.getRowHeightAsNumber(),n=Math.floor(e/i);this.gridOptionsService.set("paginationPageSize",n)};this.isBodyRendered?Vs(()=>t(),50)():(t(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}};Ng([y("ctrlsService")],fa.prototype,"ctrlsService",void 0);Ng([de],fa.prototype,"postConstruct",null);fa=Ng([Se("paginationAutoPageSizeService")],fa);var QS=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let wd=class extends ee{constructor(){super(...arguments),this.cacheVersion=0}init(){this.active=this.gridOptionsService.is("valueCache"),this.neverExpires=this.gridOptionsService.is("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,i){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[t]=i)}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}};QS([de],wd.prototype,"init",null);wd=QS([Se("valueCache")],wd);var Lu=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};const Dk="paste";let Ar=class extends ee{init(){this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,m.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))}onCellValueChanged(e){e.source!==Dk&&this.doChangeDetection(e.node,e.column)}doChangeDetection(e,t){if(this.gridOptionsService.is("suppressChangeDetection"))return;const i=[e];if(this.clientSideRowModel&&!e.isRowPinned()){const n=this.gridOptionsService.is("aggregateOnlyChangedColumns"),o=new Ag(n,this.clientSideRowModel.getRootNode());o.addParentNode(e.parent,[t]),this.clientSideRowModel.doAggregate(o),o.forEachChangedNodeDepthFirst(r=>{i.push(r)})}this.rowRenderer.refreshCells({rowNodes:i})}};Lu([y("rowModel")],Ar.prototype,"rowModel",void 0);Lu([y("rowRenderer")],Ar.prototype,"rowRenderer",void 0);Lu([de],Ar.prototype,"init",null);Ar=Lu([Se("changeDetectionService")],Ar);var XS=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let Sd=class extends ee{adaptFunction(e,t){const i=this.componentMetadataProvider.retrieve(e);return i&&i.functionAdapter?i.functionAdapter(t):null}adaptCellRendererFunction(e){class t{refresh(n){return!1}getGui(){return this.eGui}init(n){const o=e(n),r=typeof o;if(r==="string"||r==="number"||r==="boolean"){this.eGui=$t("<span>"+o+"</span>");return}if(o==null){this.eGui=$t("<span></span>");return}this.eGui=o}}return t}doesImplementIComponent(e){return e?e.prototype&&"getGui"in e.prototype:!1}};XS([y("componentMetadataProvider")],Sd.prototype,"componentMetadataProvider",void 0);Sd=XS([Se("agComponentUtils")],Sd);var xg=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let ga=class extends ee{postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}}retrieve(e){return this.componentMetaData[e]}};xg([y("agComponentUtils")],ga.prototype,"agComponentUtils",void 0);xg([de],ga.prototype,"postConstruct",null);ga=xg([Se("componentMetadataProvider")],ga);var Gg=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};const Ok=25,Hv=10,Lh=8,_k=4,Ih=4,Nh=6,Pk={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:_k*5,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:Lh*7,headerCellMinWidth:48,listItemHeight:Lh*4,rowHeight:Lh*6,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:Ih*8,headerCellMinWidth:24,listItemHeight:Ih*6,rowHeight:Ih*7,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:Nh*8,headerCellMinWidth:36,listItemHeight:Nh*4,rowHeight:Nh*7,chartMenuPanelWidth:240}},kv={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]};let ma=class extends ee{constructor(){super(...arguments),this.calculatedSizes={}}postConstruct(){var e;const t=(e=this.getTheme().el)!==null&&e!==void 0?e:this.eGridDiv;this.mutationObserver=new MutationObserver(()=>{this.calculatedSizes={},this.fireGridStylesChangedEvent()}),this.mutationObserver.observe(t||this.eGridDiv,{attributes:!0,attributeFilter:["class"]})}fireGridStylesChangedEvent(){const e={type:m.EVENT_GRID_STYLES_CHANGED};this.eventService.dispatchEvent(e)}getSassVariable(e){const{themeFamily:t,el:i}=this.getTheme();if(!t||t.indexOf("ag-theme")!==0)return;this.calculatedSizes||(this.calculatedSizes={}),this.calculatedSizes[t]||(this.calculatedSizes[t]={});const n=this.calculatedSizes[t][e];return n??(this.calculatedSizes[t][e]=this.calculateValueForSassProperty(e,t,i),this.calculatedSizes[t][e])}calculateValueForSassProperty(e,t,i){const n="ag-theme-"+(t.match("material")?"material":t.match("balham")?"balham":t.match("alpine")?"alpine":"custom"),o=Pk[n][e],r=this.gridOptionsService.getDocument();if(i||(i=this.eGridDiv),!kv[e])return o;const l=kv[e],a=r.createElement("div"),c=Array.from(i.classList);a.classList.add(t,...c),a.style.position="absolute";const d=l.reduce((h,p)=>{const g=r.createElement("div");return g.style.position="static",g.classList.add(p),h.appendChild(g),g},a);let u=0;if(r.body){r.body.appendChild(a);const h=e.toLowerCase().indexOf("height")!==-1?"height":"width";u=parseInt(window.getComputedStyle(d)[h],10),r.body.removeChild(a)}return u||o}isThemeDark(){const{theme:e}=this.getTheme();return!!e&&e.indexOf("dark")>=0}chartMenuPanelWidth(){return this.getSassVariable("chartMenuPanelWidth")}getTheme(){const e=/\bag-(material|(?:theme-([\w\-]*)))\b/g;let t=this.eGridDiv,i=null,n=[];for(;t;)if(i=e.exec(t.className),!i)t=t.parentElement||void 0;else{const r=t.className.match(e);r&&(n=r);break}if(!i)return{allThemes:n};const o=i[0];return{theme:o,el:t,themeFamily:o.replace(/-dark$/,""),allThemes:n}}getFromTheme(e,t){var i;return(i=this.getSassVariable(t))!==null&&i!==void 0?i:e}getDefaultRowHeight(){return this.getFromTheme(Ok,"rowHeight")}getListItemHeight(){return this.getFromTheme(20,"listItemHeight")}setRowHeightVariable(e){const t=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),i=`${e}px`;t!=i&&this.eGridDiv.style.setProperty("--ag-line-height",i)}getMinColWidth(){const e=this.getFromTheme(null,"headerCellMinWidth");return Q(e)?Math.max(e,Hv):Hv}destroy(){this.calculatedSizes=null,this.mutationObserver&&this.mutationObserver.disconnect(),super.destroy()}};Gg([y("eGridDiv")],ma.prototype,"eGridDiv",void 0);Gg([de],ma.prototype,"postConstruct",null);ma=Gg([Se("environment")],ma);var Iu=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Ak=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};let Fr=class extends ee{constructor(){super(...arguments),this.scrollY=0,this.uiBodyHeight=0}agWire(e){this.logger=e.create("RowContainerHeightService")}postConstruct(){this.addManagedListener(this.eventService,m.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=xw(),this.logger.log("maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,i=this.getUiBodyHeight();(t!==this.scrollY||i!==this.uiBodyHeight)&&(this.scrollY=t,this.uiBodyHeight=i,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;this.logger.log(`Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:m.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventService.dispatchEvent({type:m.EVENT_HEIGHT_SCALE_CHANGED}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return t.bottom-t.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),i=e/t;return this.maxScrollY*i}};Iu([y("ctrlsService")],Fr.prototype,"ctrlsService",void 0);Iu([Ak(0,mi("loggerFactory"))],Fr.prototype,"agWire",null);Iu([de],Fr.prototype,"postConstruct",null);Fr=Iu([Se("rowContainerHeightService")],Fr);var JS=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let bd=class extends ee{init(){this.groupSelectsChildren=this.gridOptionsService.is("groupSelectsChildren"),this.isRowSelectableFunc=this.gridOptionsService.get("isRowSelectable")}updateSelectableAfterGrouping(e){if(this.isRowSelectableFunc){const t=i=>i.childrenAfterGroup;this.recurseDown(e.childrenAfterGroup,t)}}recurseDown(e,t){e&&e.forEach(i=>{if(!i.group)return;i.hasChildren()&&this.recurseDown(t(i),t);let n;if(this.groupSelectsChildren){const o=(t(i)||[]).find(r=>r.selectable===!0);n=Q(o)}else n=this.isRowSelectableFunc?this.isRowSelectableFunc(i):!1;i.setRowSelectable(n)})}};JS([de],bd.prototype,"init",null);bd=JS([Se("selectableService")],bd);var cs=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class ji extends ke{constructor(){super(),this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1}postConstruct(){const e=this.gridOptionsService.is("enableRtl");this.setTemplate(this.getTemplate());const{btFirst:t,btPrevious:i,btNext:n,btLast:o}=this;this.activateTabIndex([t,i,n,o]),t.insertAdjacentElement("afterbegin",_t(e?"last":"first",this.gridOptionsService)),i.insertAdjacentElement("afterbegin",_t(e?"next":"previous",this.gridOptionsService)),n.insertAdjacentElement("afterbegin",_t(e?"previous":"next",this.gridOptionsService)),o.insertAdjacentElement("afterbegin",_t(e?"first":"last",this.gridOptionsService)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.onPaginationChanged()}onPaginationChanged(){const t=this.gridOptionsService.is("pagination")&&!this.gridOptionsService.is("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels())}setupListeners(){this.areListenersSetup||(this.addManagedListener(this.eventService,m.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:t,fn:i}=e;this.addManagedListener(t,"click",i),this.addManagedListener(t,"keydown",n=>{(n.key===$.ENTER||n.key===$.SPACE)&&(n.preventDefault(),i())})}),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()}setCurrentPageLabel(){const e=this.paginationProxy.getTotalPages()>0,t=this.paginationProxy.getCurrentPage(),i=e?t+1:0;this.lbCurrent.innerHTML=this.formatNumber(i)}formatNumber(e){const t=this.gridOptionsService.getCallback("paginationNumberFormatter");if(t)return t({value:e});const i=this.localeService.getLocaleTextFunc(),n=i("thousandSeparator",","),o=i("decimalSeparator",".");return Vf(e,n,o)}getTemplate(){const e=this.localeService.getLocaleTextFunc(),t=e("page","Page"),i=e("to","to"),n=e("of","of"),o=e("firstPage","First Page"),r=e("previousPage","Previous Page"),l=e("nextPage","Next Page"),a=e("lastPage","Last Page"),c=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${c}">
                <span class="ag-paging-row-summary-panel" role="status">
                    <span id="ag-${c}-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${c}-to">${i}</span>
                    <span id="ag-${c}-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${c}-of">${n}</span>
                    <span id="ag-${c}-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${o}"></div>
                    <div ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${r}"></div>
                    <span class="ag-paging-description" role="status">
                        <span id="ag-${c}-start-page">${t}</span>
                        <span id="ag-${c}-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-${c}-of-page">${n}</span>
                        <span id="ag-${c}-of-page-number" ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${l}"></div>
                    <div ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${a}"></div>
                </span>
            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()}enableOrDisableButtons(){const e=this.paginationProxy.getCurrentPage(),t=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const n=this.isZeroPagesToDisplay(),o=t&&e===i-1;this.nextButtonDisabled=o||n,this.lastButtonDisabled=!t||n||e===i-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){Af(e,t),e.classList.toggle("ag-disabled",t)}updateRowLabels(){const e=this.paginationProxy.getCurrentPage(),t=this.paginationProxy.getPageSize(),i=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;let o,r;if(this.isZeroPagesToDisplay()?o=r=0:(o=t*e+1,r=o+t-1,i&&r>n&&(r=n)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(o),this.rowNodeBlockLoader.isLoading()){const l=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=l("pageLastRowUnknown","?")}else this.lbLastRowOnPage.innerHTML=this.formatNumber(r)}isZeroPagesToDisplay(){const e=this.paginationProxy.isLastPageFound(),t=this.paginationProxy.getTotalPages();return e&&t===0}setTotalLabels(){const e=this.paginationProxy.isLastPageFound(),t=this.paginationProxy.getTotalPages(),i=e?this.paginationProxy.getMasterRowCount():null;if(i===1){const n=this.paginationProxy.getRow(0);if(n&&n.group&&!(n.groupData||n.aggData)){this.setTotalLabelsToZero();return}}if(e)this.lbTotal.innerHTML=this.formatNumber(t),this.lbRecordCount.innerHTML=this.formatNumber(i);else{const n=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=n,this.lbRecordCount.innerHTML=n}}setTotalLabelsToZero(){this.lbFirstRowOnPage.innerHTML=this.formatNumber(0),this.lbCurrent.innerHTML=this.formatNumber(0),this.lbLastRowOnPage.innerHTML=this.formatNumber(0),this.lbTotal.innerHTML=this.formatNumber(0),this.lbRecordCount.innerHTML=this.formatNumber(0)}}cs([y("paginationProxy")],ji.prototype,"paginationProxy",void 0);cs([y("rowNodeBlockLoader")],ji.prototype,"rowNodeBlockLoader",void 0);cs([ue("btFirst")],ji.prototype,"btFirst",void 0);cs([ue("btPrevious")],ji.prototype,"btPrevious",void 0);cs([ue("btNext")],ji.prototype,"btNext",void 0);cs([ue("btLast")],ji.prototype,"btLast",void 0);cs([ue("lbRecordCount")],ji.prototype,"lbRecordCount",void 0);cs([ue("lbFirstRowOnPage")],ji.prototype,"lbFirstRowOnPage",void 0);cs([ue("lbLastRowOnPage")],ji.prototype,"lbLastRowOnPage",void 0);cs([ue("lbCurrent")],ji.prototype,"lbCurrent",void 0);cs([ue("lbTotal")],ji.prototype,"lbTotal",void 0);cs([de],ji.prototype,"postConstruct",null);var al=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Zo;(function(s){s[s.Loading=0]="Loading",s[s.NoRows=1]="NoRows"})(Zo||(Zo={}));class tn extends ke{constructor(){super(tn.TEMPLATE),this.inProgress=!1,this.destroyRequested=!1,this.manuallyDisplayed=!1}updateLayoutClasses(e,t){const i=this.eOverlayWrapper.classList;i.toggle(Ft.AUTO_HEIGHT,t.autoHeight),i.toggle(Ft.NORMAL,t.normal),i.toggle(Ft.PRINT,t.print)}postConstruct(){this.createManagedBean(new gu(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.addManagedListener(this.eventService,m.EVENT_ROW_DATA_UPDATED,this.onRowDataUpdated.bind(this)),this.addManagedListener(this.eventService,m.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.gridOptionsService.isRowModelType("clientSide")&&!this.gridOptionsService.get("rowData")&&this.showLoadingOverlay(),this.gridApi.registerOverlayWrapperComp(this)}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;t.toggle("ag-overlay-loading-wrapper",e===Zo.Loading),t.toggle("ag-overlay-no-rows-wrapper",e===Zo.NoRows)}showLoadingOverlay(){if(this.gridOptionsService.is("suppressLoadingOverlay"))return;const e={},i=this.userComponentFactory.getLoadingOverlayCompDetails(e).newAgStackInstance();this.showOverlay(i,Zo.Loading)}showNoRowsOverlay(){if(this.gridOptionsService.is("suppressNoRowsOverlay"))return;const e={},i=this.userComponentFactory.getNoRowsOverlayCompDetails(e).newAgStackInstance();this.showOverlay(i,Zo.NoRows)}showOverlay(e,t){this.inProgress||(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.inProgress=!0,e&&e.then(i=>{this.inProgress=!1,this.eOverlayWrapper.appendChild(i.getGui()),this.activeOverlay=i,this.destroyRequested&&(this.destroyRequested=!1,this.destroyActiveOverlay())}),this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.setDisplayed(!0,{skipAriaHidden:!0}))}destroyActiveOverlay(){if(this.inProgress){this.destroyRequested=!0;return}this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),Ni(this.eOverlayWrapper))}hideOverlay(){this.manuallyDisplayed=!1,this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.destroyActiveOverlay(),super.destroy()}showOrHideOverlay(){const e=this.paginationProxy.isEmpty(),t=this.gridOptionsService.is("suppressNoRowsOverlay");e&&!t?this.showNoRowsOverlay():this.hideOverlay()}onRowDataUpdated(){this.showOrHideOverlay()}onNewColumnsLoaded(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()}}tn.TEMPLATE=`
        <div class="ag-overlay" aria-hidden="true">
            <div class="ag-overlay-panel">
                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>
            </div>
        </div>`;al([y("userComponentFactory")],tn.prototype,"userComponentFactory",void 0);al([y("paginationProxy")],tn.prototype,"paginationProxy",void 0);al([y("gridApi")],tn.prototype,"gridApi",void 0);al([y("columnModel")],tn.prototype,"columnModel",void 0);al([ue("eOverlayWrapper")],tn.prototype,"eOverlayWrapper",void 0);al([de],tn.prototype,"postConstruct",null);var Nu=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let Mr=class extends ee{getFirstRow(){let e=0,t;return this.pinnedRowModel.getPinnedTopRowCount()?t="top":this.rowModel.getRowCount()?(t=null,e=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(t="bottom"),t===void 0?null:{rowIndex:e,rowPinned:t}}getLastRow(){let e,t=null;const i=this.pinnedRowModel.getPinnedBottomRowCount(),n=this.pinnedRowModel.getPinnedTopRowCount();return i?(t="bottom",e=i-1):this.rowModel.getRowCount()?(t=null,e=this.paginationProxy.getPageLastRow()):n&&(t="top",e=n-1),e===void 0?null:{rowIndex:e,rowPinned:t}}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}}sameRow(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}before(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(Q(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}rowMax(e){let t;return e.forEach(i=>{(t===void 0||this.before(t,i))&&(t=i)}),t}rowMin(e){let t;return e.forEach(i=>{(t===void 0||this.before(i,t))&&(t=i)}),t}};Nu([y("rowModel")],Mr.prototype,"rowModel",void 0);Nu([y("pinnedRowModel")],Mr.prototype,"pinnedRowModel",void 0);Nu([y("paginationProxy")],Mr.prototype,"paginationProxy",void 0);Mr=Nu([Se("rowPositionUtils")],Mr);var Fk=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let Mp=class extends ee{createId(e){const{rowIndex:t,rowPinned:i,column:n}=e;return this.createIdFromValues({rowIndex:t,column:n,rowPinned:i})}createIdFromValues(e){const{rowIndex:t,rowPinned:i,column:n}=e;return`${t}.${i??"null"}.${n.getId()}`}equals(e,t){const i=e.column===t.column,n=e.rowPinned===t.rowPinned,o=e.rowIndex===t.rowIndex;return i&&n&&o}};Mp=Fk([Se("cellPositionUtils")],Mp);class El{constructor(e){this.cellValueChanges=e}}class xh extends El{constructor(e,t,i,n){super(e),this.initialRange=t,this.finalRange=i,this.ranges=n}}class va{constructor(e){this.actionStack=[],this.maxStackSize=e||va.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}}va.DEFAULT_STACK_SIZE=10;var sn=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let os=class extends ee{constructor(){super(...arguments),this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},i=this.activeCellEdit!==null&&this.cellPositionUtils.equals(this.activeCellEdit,t),n=this.activeRowEdit!==null&&this.rowPositionUtils.sameRow(this.activeRowEdit,t);if(!(i||n||this.isPasting||this.isRangeInAction))return;const{rowPinned:r,rowIndex:l,column:a,oldValue:c,value:d}=e,u={rowPinned:r,rowIndex:l,columnId:a.getColId(),newValue:d,oldValue:c};this.cellValueChanges.push(u)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}init(){if(!this.gridOptionsService.is("undoRedoCellEditing"))return;const e=this.gridOptionsService.getNum("undoRedoCellEditingLimit");e<=0||(this.undoStack=new va(e),this.redoStack=new va(e),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,m.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,m.EVENT_MODEL_UPDATED,t=>{t.keepUndoRedoStack||this.clearStacks()}),this.addManagedListener(this.eventService,m.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,m.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,m.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,m.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,m.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,m.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,m.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,m.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl()}))}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(e){const t={type:m.EVENT_UNDO_STARTED,source:e};this.eventService.dispatchEvent(t);const i=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo"),n={type:m.EVENT_UNDO_ENDED,source:e,operationPerformed:i};this.eventService.dispatchEvent(n)}redo(e){const t={type:m.EVENT_REDO_STARTED,source:e};this.eventService.dispatchEvent(t);const i=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo"),n={type:m.EVENT_REDO_ENDED,source:e,operationPerformed:i};this.eventService.dispatchEvent(n)}undoRedo(e,t,i,n,o){if(!e)return!1;const r=e.pop();return!r||!r.cellValueChanges?!1:(this.processAction(r,l=>l[n],o),r instanceof xh?this.processRange(r.ranges||[r[i]]):this.processCell(r.cellValueChanges),t.push(r),!0)}processAction(e,t,i){e.cellValueChanges.forEach(n=>{const{rowIndex:o,rowPinned:r,columnId:l}=n,a={rowIndex:o,rowPinned:r},c=this.getRowNode(a);c.displayed&&c.setDataValue(l,t(n),i)})}processRange(e){let t;this.rangeService.removeAllCellRanges(!0),e.forEach((i,n)=>{if(!i)return;const o=i.startRow,r=i.endRow;n===e.length-1&&(t={rowPinned:o.rowPinned,rowIndex:o.rowIndex,columnId:i.startColumn.getColId()},this.setLastFocusedCell(t));const l={rowStartIndex:o.rowIndex,rowStartPinned:o.rowPinned,rowEndIndex:r.rowIndex,rowEndPinned:r.rowPinned,columnStart:i.startColumn,columns:i.columns};this.rangeService.addCellRange(l)})}processCell(e){const t=e[0],{rowIndex:i,rowPinned:n}=t,o={rowIndex:i,rowPinned:n},r=this.getRowNode(o),l={rowPinned:t.rowPinned,rowIndex:r.rowIndex,columnId:t.columnId};this.setLastFocusedCell(l,!!this.rangeService)}setLastFocusedCell(e,t){const{rowIndex:i,columnId:n,rowPinned:o}=e,r=this.gridBodyCtrl.getScrollFeature(),l=this.columnModel.getGridColumn(n);if(!l)return;r.ensureIndexVisible(i),r.ensureColumnVisible(l);const a={rowIndex:i,column:l,rowPinned:o};this.focusService.setFocusedCell(Object.assign(Object.assign({},a),{forceBrowserFocus:!0})),t&&this.rangeService.setRangeToCell(a)}addRowEditingListeners(){this.addManagedListener(this.eventService,m.EVENT_ROW_EDITING_STARTED,e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}}),this.addManagedListener(this.eventService,m.EVENT_ROW_EDITING_STOPPED,()=>{const e=new El(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null})}addCellEditingListeners(){this.addManagedListener(this.eventService,m.EVENT_CELL_EDITING_STARTED,e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}}),this.addManagedListener(this.eventService,m.EVENT_CELL_EDITING_STOPPED,e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const i=new El(this.cellValueChanges);this.pushActionsToUndoStack(i)}})}addPasteListeners(){this.addManagedListener(this.eventService,m.EVENT_PASTE_START,()=>{this.isPasting=!0}),this.addManagedListener(this.eventService,m.EVENT_PASTE_END,()=>{const e=new El(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1})}addFillListeners(){this.addManagedListener(this.eventService,m.EVENT_FILL_START,()=>{this.isRangeInAction=!0}),this.addManagedListener(this.eventService,m.EVENT_FILL_END,e=>{const t=new xh(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1})}addCellKeyListeners(){this.addManagedListener(this.eventService,m.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,()=>{this.isRangeInAction=!0}),this.addManagedListener(this.eventService,m.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,()=>{let e;this.rangeService&&this.gridOptionsService.isEnableRangeSelection()?e=new xh(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):e=new El(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}}};sn([y("focusService")],os.prototype,"focusService",void 0);sn([y("ctrlsService")],os.prototype,"ctrlsService",void 0);sn([y("rowModel")],os.prototype,"rowModel",void 0);sn([y("pinnedRowModel")],os.prototype,"pinnedRowModel",void 0);sn([y("cellPositionUtils")],os.prototype,"cellPositionUtils",void 0);sn([y("rowPositionUtils")],os.prototype,"rowPositionUtils",void 0);sn([y("columnModel")],os.prototype,"columnModel",void 0);sn([ht("rangeService")],os.prototype,"rangeService",void 0);sn([de],os.prototype,"init",null);os=sn([Se("undoRedoService")],os);var Vg=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let Ca=class extends ee{findHeader(e,t){let i,n,o;if(e.column instanceof wt?(n=`getDisplayedGroup${t}`,i=this.columnModel[n](e.column)):(o=`getDisplayedCol${t}`,i=this.columnModel[o](e.column)),!i)return;let{headerRowIndex:r}=e;if(this.getHeaderRowType(r)===Wt.COLUMN_GROUP){const a=i;if(a.isPadding()&&this.isAnyChildSpanningHeaderHeight(a)){const{nextFocusColumn:c,nextRow:d}=this.getColumnVisibleChild(a,r,t);c&&(i=c,r=d)}}return{column:i,headerRowIndex:r}}isAnyChildSpanningHeaderHeight(e){return e?e.getLeafColumns().some(t=>t.isSpanHeaderHeight()):!1}getColumnVisibleParent(e,t){const i=this.getHeaderRowType(t),n=i===Wt.FLOATING_FILTER,o=i===Wt.COLUMN;let r=n?e:e.getParent(),l=t-1;if(o&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;r&&r.isPadding();)r=r.getParent(),l--;l<0&&(r=e,l=t)}return{nextFocusColumn:r,nextRow:l}}getColumnVisibleChild(e,t,i="After"){const n=this.getHeaderRowType(t);let o=e,r=t+1;if(n===Wt.COLUMN_GROUP){const l=e.getLeafColumns(),a=i==="After"?l[0]:ft(l);if(this.isAnyChildSpanningHeaderHeight(a.getParent())){o=a;let c=a.getParent();for(;c&&c!==e;)c=c.getParent(),r++}else o=e.getDisplayedChildren()[0]}return{nextFocusColumn:o,nextRow:r}}getHeaderRowType(e){const t=this.ctrlsService.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){const i=this.columnModel.getAllDisplayedColumns(),n=i[t==="start"?0:i.length-1];if(!n)return;const r=this.ctrlsService.getHeaderRowContainerCtrl(n.getPinned()).getRowType(e);if(r==Wt.COLUMN_GROUP){const l=this.columnModel.getColumnGroupAtLevel(n,e);return{headerRowIndex:e,column:l}}return{headerRowIndex:r==null?-1:e,column:n}}};Vg([y("columnModel")],Ca.prototype,"columnModel",void 0);Vg([y("ctrlsService")],Ca.prototype,"ctrlsService",void 0);Ca=Vg([Se("headerPositionUtils")],Ca);var Mk=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let Lp=class{buildColumnDefs(e,t,i){const n=[],o={};return e.forEach(r=>{const l=this.createDefFromColumn(r,t,i);let a=!0,c=l,d=r.getOriginalParent(),u=null;for(;d;){let h=null;if(d.isPadding()){d=d.getOriginalParent();continue}const p=o[d.getGroupId()];if(p){p.children.push(c),a=!1;break}if(h=this.createDefFromGroup(d),h&&(h.children=[c],o[h.groupId]=h,c=h,d=d.getOriginalParent()),d!=null&&u===d){a=!1;break}u=d}a&&n.push(c)}),n}createDefFromGroup(e){const t=ld(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,i){const n=ld(e.getColDef());return n.colId=e.getColId(),n.width=e.getActualWidth(),n.rowGroup=e.isRowGroupActive(),n.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,n.pivot=e.isPivotActive(),n.pivotIndex=e.isPivotActive()?i.indexOf(e):null,n.aggFunc=e.isValueActive()?e.getAggFunc():null,n.hide=e.isVisible()?void 0:!0,n.pinned=e.isPinned()?e.getPinned():null,n.sort=e.getSort()?e.getSort():null,n.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,n}};Lp=Mk([Se("columnDefFactory")],Lp);var Hg=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let ya=class{getInitialRowClasses(e){const t=[];return Q(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),mp(t,this.processClassesFromGridOptions(e.rowNode)),mp(t,this.preProcessRowClassRules(e.rowNode)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),e.fullWidthRow&&(e.pinned==="left"&&t.push("ag-cell-last-left-pinned"),e.pinned==="right"&&t.push("ag-cell-first-right-pinned")),t}processClassesFromGridOptions(e){const t=[],i=r=>{typeof r=="string"?t.push(r):Array.isArray(r)&&r.forEach(l=>t.push(l))},n=this.gridOptionsService.get("rowClass");if(n){if(typeof n=="function")return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];i(n)}const o=this.gridOptionsService.getCallback("getRowClass");if(o){const r={data:e.data,node:e,rowIndex:e.rowIndex},l=o(r);i(l)}return t}preProcessRowClassRules(e){const t=[];return this.processRowClassRules(e,i=>{t.push(i)},i=>{}),t}processRowClassRules(e,t,i){const n={data:e.data,node:e,rowIndex:e.rowIndex,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};this.stylingService.processClassRules(this.gridOptionsService.get("rowClassRules"),n,t,i)}calculateRowLevel(e){return e.group?e.level:e.parent?e.parent.level+1:0}};Hg([y("stylingService")],ya.prototype,"stylingService",void 0);Hg([y("gridOptionsService")],ya.prototype,"gridOptionsService",void 0);ya=Hg([Se("rowCssClassCalculator")],ya);var xu=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let Lr=class extends ee{init(){this.isAccentedSort=this.gridOptionsService.is("accentedSort"),this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",e=>this.isAccentedSort=e.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup())}doFullSort(e,t){const i=(o,r)=>({currentPos:r,rowNode:o}),n=e.map(i);return n.sort(this.compareRowNodes.bind(this,t)),n.map(o=>o.rowNode)}compareRowNodes(e,t,i){const n=t.rowNode,o=i.rowNode;for(let r=0,l=e.length;r<l;r++){const a=e[r],c=a.sort==="desc",d=this.getValue(n,a.column),u=this.getValue(o,a.column);let h;const p=this.getComparator(a,n);if(p?h=p(d,u,n,o,c):h=Qe.defaultComparator(d,u,this.isAccentedSort),!isNaN(h)&&h!==0)return a.sort==="asc"?h:h*-1}return t.currentPos-i.currentPos}getComparator(e,t){const i=e.column,n=i.getColDef().comparator;if(n!=null)return n;if(!i.getColDef().showRowGroup)return;const o=!t.group&&i.getColDef().field;if(!o)return;const r=this.columnModel.getPrimaryColumn(o);if(r)return r.getColDef().comparator}getValue(e,t){var i,n;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(t,e,!1,!1);if(e.rowGroupColumn===t){if(this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotActive())){if(t.getColDef().keyCreator)return e.key;const c=(i=e.allLeafChildren)===null||i===void 0?void 0:i[0];return c?this.valueService.getValue(t,c,!1,!1):void 0}const l=this.columnModel.getGroupDisplayColumnForGroup(t.getId());return l?(n=e.groupData)===null||n===void 0?void 0:n[l.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return this.valueService.getValue(t,e,!1,!1)}};xu([y("valueService")],Lr.prototype,"valueService",void 0);xu([y("columnModel")],Lr.prototype,"columnModel",void 0);xu([de],Lr.prototype,"init",null);Lr=xu([Se("rowNodeSorter")],Lr);var Lk=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Ip;let Ed=Ip=class extends ee{constructor(){super(...arguments),this.ready=!1,this.readyCallbacks=[]}checkReady(){if(this.ready=this.gridCtrl!=null&&this.gridBodyCtrl!=null&&this.centerRowContainerCtrl!=null&&this.leftRowContainerCtrl!=null&&this.rightRowContainerCtrl!=null&&this.bottomCenterRowContainerCtrl!=null&&this.bottomLeftRowContainerCtrl!=null&&this.bottomRightRowContainerCtrl!=null&&this.topCenterRowContainerCtrl!=null&&this.topLeftRowContainerCtrl!=null&&this.topRightRowContainerCtrl!=null&&this.stickyTopCenterRowContainerCtrl!=null&&this.stickyTopLeftRowContainerCtrl!=null&&this.stickyTopRightRowContainerCtrl!=null&&this.centerHeaderRowContainerCtrl!=null&&this.leftHeaderRowContainerCtrl!=null&&this.rightHeaderRowContainerCtrl!=null&&this.fakeHScrollComp!=null&&this.fakeVScrollComp!=null&&this.gridHeaderCtrl!=null,this.ready){const e=this.createReadyParams();this.readyCallbacks.forEach(t=>t(e)),this.readyCallbacks.length=0}}whenReady(e){this.ready?e(this.createReadyParams()):this.readyCallbacks.push(e)}createReadyParams(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollComp:this.fakeHScrollComp,fakeVScrollComp:this.fakeVScrollComp,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}}registerFakeHScrollComp(e){this.fakeHScrollComp=e,this.checkReady()}registerFakeVScrollComp(e){this.fakeVScrollComp=e,this.checkReady()}registerGridHeaderCtrl(e){this.gridHeaderCtrl=e,this.checkReady()}registerCenterRowContainerCtrl(e){this.centerRowContainerCtrl=e,this.checkReady()}registerLeftRowContainerCtrl(e){this.leftRowContainerCtrl=e,this.checkReady()}registerRightRowContainerCtrl(e){this.rightRowContainerCtrl=e,this.checkReady()}registerTopCenterRowContainerCtrl(e){this.topCenterRowContainerCtrl=e,this.checkReady()}registerTopLeftRowContainerCon(e){this.topLeftRowContainerCtrl=e,this.checkReady()}registerTopRightRowContainerCtrl(e){this.topRightRowContainerCtrl=e,this.checkReady()}registerStickyTopCenterRowContainerCtrl(e){this.stickyTopCenterRowContainerCtrl=e,this.checkReady()}registerStickyTopLeftRowContainerCon(e){this.stickyTopLeftRowContainerCtrl=e,this.checkReady()}registerStickyTopRightRowContainerCtrl(e){this.stickyTopRightRowContainerCtrl=e,this.checkReady()}registerBottomCenterRowContainerCtrl(e){this.bottomCenterRowContainerCtrl=e,this.checkReady()}registerBottomLeftRowContainerCtrl(e){this.bottomLeftRowContainerCtrl=e,this.checkReady()}registerBottomRightRowContainerCtrl(e){this.bottomRightRowContainerCtrl=e,this.checkReady()}registerHeaderContainer(e,t){switch(t){case"left":this.leftHeaderRowContainerCtrl=e;break;case"right":this.rightHeaderRowContainerCtrl=e;break;default:this.centerHeaderRowContainerCtrl=e;break}this.checkReady()}registerGridBodyCtrl(e){this.gridBodyCtrl=e,this.checkReady()}registerGridCtrl(e){this.gridCtrl=e,this.checkReady()}getFakeHScrollComp(){return this.fakeHScrollComp}getFakeVScrollComp(){return this.fakeVScrollComp}getGridHeaderCtrl(){return this.gridHeaderCtrl}getGridCtrl(){return this.gridCtrl}getCenterRowContainerCtrl(){return this.centerRowContainerCtrl}getTopCenterRowContainerCtrl(){return this.topCenterRowContainerCtrl}getBottomCenterRowContainerCtrl(){return this.bottomCenterRowContainerCtrl}getStickyTopCenterRowContainerCtrl(){return this.stickyTopCenterRowContainerCtrl}getGridBodyCtrl(){return this.gridBodyCtrl}getHeaderRowContainerCtrls(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]}getHeaderRowContainerCtrl(e){switch(e){case"left":return this.leftHeaderRowContainerCtrl;case"right":return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}}};Ed.NAME="ctrlsService";Ed=Ip=Lk([Se(Ip.NAME)],Ed);var Ik=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let Np=class extends ee{constructor(){super(...arguments),this.registry={}}register(e){this.registry[e.controllerName]=e.controllerClass}getInstance(e){const t=this.registry[e];if(t!=null)return new t}};Np=Ik([Se("ctrlsFactory")],Np);var gc=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class Wo extends ke{constructor(e,t){super(e),this.direction=t,this.hideTimeout=null}postConstruct(){this.addManagedListener(this.eventService,m.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",Gf()||Xn())}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=lr(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=["mouseenter","mousedown","touchstart"],t=["mouseleave","touchend"],i=this.getGui();e.forEach(n=>this.addManagedListener(i,n,()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0))),t.forEach(n=>this.addManagedListener(i,n,()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1)))}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedListener(this.eventService,m.EVENT_BODY_SCROLL,e=>{e.direction===this.direction&&(this.hideTimeout!==null&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))}),this.addManagedListener(this.eventService,m.EVENT_BODY_SCROLL_END,()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null},400)})}attemptSettingScrollPosition(e){const t=this.getViewport();Rf(()=>yn(t),()=>this.setScrollPosition(e),100)}getViewport(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(e){this.addManagedListener(this.getViewport(),"scroll",e)}}gc([ue("eViewport")],Wo.prototype,"eViewport",void 0);gc([ue("eContainer")],Wo.prototype,"eContainer",void 0);gc([y("scrollVisibleService")],Wo.prototype,"scrollVisibleService",void 0);gc([y("ctrlsService")],Wo.prototype,"ctrlsService",void 0);gc([y("animationFrameService")],Wo.prototype,"animationFrameService",void 0);var mc=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class En extends Wo{constructor(){super(En.TEMPLATE,"horizontal")}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,m.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,m.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,m.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedPropertyListener("domLayout",e),this.ctrlsService.registerFakeHScrollComp(this),this.createManagedBean(new Jr(t=>this.eContainer.style.width=`${t}px`))}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gridOptionsService.is("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleService.isVerticalScrollShowing();let t=this.columnModel.getDisplayedColumnsRightWidth();const i=!this.enableRtl&&e,n=this.gridOptionsService.getScrollbarWidth();i&&(t+=n),ts(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=n);let o=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&e&&(o+=n),ts(this.eLeftSpacer,o),this.eLeftSpacer.classList.toggle("ag-scroller-corner",o<=n)}setScrollVisible(){const e=this.scrollVisibleService.isHorizontalScrollShowing(),t=this.invisibleScrollbar,i=this.gridOptionsService.is("suppressHorizontalScroll"),n=e&&this.gridOptionsService.getScrollbarWidth()||0,r=i?0:n===0&&t?16:n;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),Ro(this.getGui(),r),Ro(this.eViewport,r),Ro(this.eContainer,r),this.setDisplayed(e,{skipAriaHidden:!0})}getScrollPosition(){return sa(this.getViewport(),this.enableRtl)}setScrollPosition(e){yn(this.getViewport())||this.attemptSettingScrollPosition(e),na(this.getViewport(),e,this.enableRtl)}}En.TEMPLATE=`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>
        </div>`;mc([ue("eLeftSpacer")],En.prototype,"eLeftSpacer",void 0);mc([ue("eRightSpacer")],En.prototype,"eRightSpacer",void 0);mc([y("columnModel")],En.prototype,"columnModel",void 0);mc([y("pinnedRowModel")],En.prototype,"pinnedRowModel",void 0);mc([de],En.prototype,"postConstruct",null);var kg=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let wa=class extends ee{postConstruct(){const e=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,m.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,m.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const e=this.gridOptionsService.isDomLayout("print"),t=e?0:this.columnModel.getDisplayedColumnsLeftWidth(),i=e?0:this.columnModel.getDisplayedColumnsRightWidth();t!=this.leftWidth&&(this.leftWidth=t,this.eventService.dispatchEvent({type:m.EVENT_LEFT_PINNED_WIDTH_CHANGED})),i!=this.rightWidth&&(this.rightWidth=i,this.eventService.dispatchEvent({type:m.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}};kg([y("columnModel")],wa.prototype,"columnModel",void 0);kg([de],wa.prototype,"postConstruct",null);wa=kg([Se("pinnedWidthService")],wa);var Gu=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let Ir=class extends ee{constructor(){super(...arguments),this.events=[]}postConstruct(){this.rowModel.getType()=="clientSide"&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(e){if(this.clientSideRowModel==null){this.eventService.dispatchEvent(e);return}this.events.push(e);const t=()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach(i=>this.eventService.dispatchEvent(i)),this.events=[]};this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(t)),this.dispatchExpandedDebounced()}};Gu([y("animationFrameService")],Ir.prototype,"animationFrameService",void 0);Gu([y("rowModel")],Ir.prototype,"rowModel",void 0);Gu([de],Ir.prototype,"postConstruct",null);Ir=Gu([Se("rowNodeEventThrottle")],Ir);var oo=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Bv=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};function Nk(s){if(typeof s=="number")return s;if(typeof s=="string")return parseInt(s,10)}function $v(s){return s===!0||s==="true"}let qs=class{constructor(){this.destroyed=!1,this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new Es}get context(){return this.gridOptions.context}agWire(e,t){this.gridOptions.api=e,this.gridOptions.columnApi=t,this.api=e,this.columnApi=t}init(){this.gridOptionLookup=new Set([...Ke.ALL_PROPERTIES,...Ke.EVENT_CALLBACKS]);const e=!this.is("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandler.bind(this),e),this.getScrollbarWidth()}destroy(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.destroyed=!0}is(e){return $v(this.gridOptions[e])}get(e){return this.gridOptions[e]}getNum(e){return Nk(this.gridOptions[e])}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return Q(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(i=>{const n=i;return n.api=this.api,n.columnApi=this.columnApi,n.context=this.context,e(n)})}set(e,t,i=!1,n={}){if(this.gridOptionLookup.has(e)){const o=this.gridOptions[e];if(i||o!==t){this.gridOptions[e]=t;const r=Object.assign({type:e,currentValue:t,previousValue:o},n);this.propertyEventService.dispatchEvent(r)}}}addEventListener(e,t){this.propertyEventService.addEventListener(e,t)}removeEventListener(e,t){this.propertyEventService.removeEventListener(e,t)}globalEventHandler(e,t){if(this.destroyed)return;const i=Ke.getCallbackForEvent(e);typeof this.gridOptions[i]=="function"&&this.gridOptions[i](t)}getGridId(){return this.api.getGridId()}getScrollbarWidth(){if(this.scrollbarWidth==null){const t=typeof this.gridOptions.scrollbarWidth=="number"&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:Hw();t!=null&&(this.scrollbarWidth=t,this.eventService.dispatchEvent({type:m.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth}isRowModelType(e){return this.gridOptions.rowModelType===e||e==="clientSide"&&Le(this.gridOptions.rowModelType)}isDomLayout(e){var t;return((t=this.gridOptions.domLayout)!==null&&t!==void 0?t:"normal")===e}isRowSelection(){return this.gridOptions.rowSelection==="single"||this.gridOptions.rowSelection==="multiple"}useAsyncEvents(){return!this.is("suppressAsyncEvents")}isGetRowHeightFunction(){return typeof this.gridOptions.getRowHeight=="function"}getRowHeightForNode(e,t=!1,i){if(i==null&&(i=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(t)return{height:i,estimated:!0};const o={node:e,data:e.data},r=this.getCallback("getRowHeight")(o);if(this.isNumeric(r))return r===0&&st(()=>console.warn("AG Grid: The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),"invalidRowHeight"),{height:Math.max(1,r),estimated:!1}}return e.detail&&this.is("masterDetail")?this.getMasterDetailRowHeight():{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:i,estimated:!1}}getMasterDetailRowHeight(){return this.is("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}}getRowHeightAsNumber(){if(!this.gridOptions.rowHeight||Le(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();const e=this.gridOptions.rowHeight;return e&&this.isNumeric(e)?(this.environment.setRowHeightVariable(e),e):(console.warn("AG Grid row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())}isNumeric(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}getDomDataKey(){return this.domDataKey}getDomData(e,t){const i=e[this.getDomDataKey()];return i?i[t]:void 0}setDomData(e,t,i){const n=this.getDomDataKey();let o=e[n];Le(o)&&(o={},e[n]=o),o[t]=i}getDocument(){let e=null;return this.gridOptions.getDocument&&Q(this.gridOptions.getDocument)?e=this.gridOptions.getDocument():this.eGridDiv&&(e=this.eGridDiv.ownerDocument),e&&Q(e)?e:document}getWindow(){return this.getDocument().defaultView||window}getRootNode(){return this.eGridDiv.getRootNode()}getAsyncTransactionWaitMillis(){return Q(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50}isAnimateRows(){return this.is("ensureDomOrder")?!1:this.is("animateRows")}isGroupRowsSticky(){return!(this.is("suppressGroupRowsSticky")||this.is("paginateChildRows")||this.is("groupHideOpenParents"))}isTreeData(){return this.is("treeData")&&me.__assertRegistered(Ee.RowGroupingModule,"Tree Data",this.api.getGridId())}isMasterDetail(){return this.is("masterDetail")&&me.__assertRegistered(Ee.MasterDetailModule,"masterDetail",this.api.getGridId())}isEnableRangeSelection(){return this.is("enableRangeSelection")&&me.__isRegistered(Ee.RangeSelectionModule,this.api.getGridId())}isColumnsSortingCoupledToGroup(){const e=this.gridOptions.autoGroupColumnDef;return this.isRowModelType("clientSide")&&!(e!=null&&e.comparator)&&!this.isTreeData()}getGroupAggFiltering(){const e=this.gridOptions.groupAggFiltering;if(typeof e=="function")return this.getCallback("groupAggFiltering");if($v(e))return()=>!0}isGroupMultiAutoColumn(){return this.gridOptions.groupDisplayType?vp("multipleColumns",this.gridOptions.groupDisplayType):this.is("groupHideOpenParents")}isGroupUseEntireRow(e){return e?!1:this.gridOptions.groupDisplayType?vp("groupRows",this.gridOptions.groupDisplayType):!1}};oo([y("gridOptions")],qs.prototype,"gridOptions",void 0);oo([y("eventService")],qs.prototype,"eventService",void 0);oo([y("environment")],qs.prototype,"environment",void 0);oo([y("eGridDiv")],qs.prototype,"eGridDiv",void 0);oo([Bv(0,mi("gridApi")),Bv(1,mi("columnApi"))],qs.prototype,"agWire",null);oo([de],qs.prototype,"init",null);oo([hi],qs.prototype,"destroy",null);qs=oo([Se("gridOptionsService")],qs);var xk=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let xp=class extends ee{getLocaleTextFunc(){const e=this.gridOptionsService.getCallback("getLocaleText");if(e)return(i,n,o)=>e({key:i,defaultValue:n,variableValues:o});const t=this.gridOptionsService.get("localeText");return(i,n,o)=>{let r=t&&t[i];if(r&&o&&o.length){let l=0;for(;!(l>=o.length||r.indexOf("${variable}")===-1);)r=r.replace("${variable}",o[l++])}return r??n}}};xp=xk([Se("localeService")],xp);var Gk=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class vc extends Wo{constructor(){super(vc.TEMPLATE,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new vu(this.eContainer)),this.ctrlsService.registerFakeVScrollComp(this),this.addManagedListener(this.eventService,m.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onRowContainerHeightChanged.bind(this))}setScrollVisible(){const e=this.scrollVisibleService.isVerticalScrollShowing(),t=this.invisibleScrollbar,i=e&&this.gridOptionsService.getScrollbarWidth()||0,n=i===0&&t?16:i;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),ts(this.getGui(),n),ts(this.eViewport,n),ts(this.eContainer,n),this.setDisplayed(e,{skipAriaHidden:!0})}onRowContainerHeightChanged(){const t=this.ctrlsService.getGridBodyCtrl().getBodyViewportElement();this.eViewport.scrollTop!=t.scrollTop&&(this.eViewport.scrollTop=t.scrollTop)}getScrollPosition(){return this.getViewport().scrollTop}setScrollPosition(e){yn(this.getViewport())||this.attemptSettingScrollPosition(e),this.getViewport().scrollTop=e}}vc.TEMPLATE=`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">
                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>
            </div>
        </div>`;Gk([de],vc.prototype,"postConstruct",null);var Uo=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};const Wv={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},Uv=["january","february","march","april","may","june","july","august","september","october","november","december"];let vn=class extends ee{constructor(){super(...arguments),this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}init(){this.groupHideOpenParents=this.gridOptionsService.is("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",()=>{this.groupHideOpenParents=this.gridOptionsService.is("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",()=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs("gridOptionsChanged")})}processDataTypeDefinitions(){var e;const t=this.getDefaultDataTypes();this.dataTypeDefinitions={},Object.entries(t).forEach(([n,o])=>{this.dataTypeDefinitions[n]=Object.assign(Object.assign({},o),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(o)})});const i=(e=this.gridOptionsService.get("dataTypeDefinitions"))!==null&&e!==void 0?e:{};this.dataTypeMatchers={},Object.entries(i).forEach(([n,o])=>{const r=this.processDataTypeDefinition(o,i,[n],t);r&&(this.dataTypeDefinitions[n]=r,o.dataTypeMatcher&&(this.dataTypeMatchers[n]=o.dataTypeMatcher))}),this.checkObjectValueHandlers(t),["dateString","text","number","boolean","date"].forEach(n=>{const o=this.dataTypeMatchers[n];o&&delete this.dataTypeMatchers[n],this.dataTypeMatchers[n]=o??t[n].dataTypeMatcher})}mergeDataTypeDefinitions(e,t){const i=Object.assign(Object.assign({},e),t);return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(i.columnTypes=[...this.convertColumnTypes(e.columnTypes),...this.convertColumnTypes(t.columnTypes)]),i}processDataTypeDefinition(e,t,i,n){let o;const r=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){const l=n[r];if(!this.validateDataTypeDefinition(e,l,r))return;o=this.mergeDataTypeDefinitions(l,e)}else{if(i.includes(r)){st(()=>console.warn('AG Grid: Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.'),"dataTypeExtendsCircularRef");return}const l=t[r];if(!this.validateDataTypeDefinition(e,l,r))return;const a=this.processDataTypeDefinition(l,t,[...i,r],n);if(!a)return;o=this.mergeDataTypeDefinitions(a,e)}return Object.assign(Object.assign({},o),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(o)})}validateDataTypeDefinition(e,t,i){return t?t.baseDataType!==e.baseDataType?(st(()=>console.warn('AG Grid: The "baseDataType" property of a data type definition must match that of its parent.'),"dataTypeBaseTypesMatch"),!1):!0:(st(()=>console.warn(`AG Grid: The data type definition ${i} does not exist.`),"dataTypeDefMissing"+i),!1)}createGroupSafeValueFormatter(e){if(e.valueFormatter)return t=>{var i,n;if(!((i=t.node)===null||i===void 0)&&i.group){const o=t.column.getAggFunc();if(o){if(o==="first"||o==="last")return e.valueFormatter(t);if(e.baseDataType==="number"&&o!=="count"){if(typeof t.value=="number")return e.valueFormatter(t);if(typeof t.value=="object"){if(!t.value)return;if("toNumber"in t.value)return e.valueFormatter(Object.assign(Object.assign({},t),{value:t.value.toNumber()}));if("value"in t.value)return e.valueFormatter(Object.assign(Object.assign({},t),{value:t.value.value}))}}}return}else if(this.groupHideOpenParents&&t.column.isRowGroupActive())return typeof t.value!="string"||!((n=e.dataTypeMatcher)===null||n===void 0)&&n.call(e,t.value)?e.valueFormatter(t):void 0;return e.valueFormatter(t)}}updateColDefAndGetDataTypeDefinitionColumnType(e,t,i){let{cellDataType:n}=t;const{field:o}=t;if(n===void 0&&(n=e.cellDataType),(n==null||n===!0)&&(n=this.canInferCellDataType(e,t)?this.inferCellDataType(o,i):!1),!n){e.cellDataType=!1;return}const r=this.dataTypeDefinitions[n];if(!r){st(()=>console.warn(`AG Grid: Missing data type definition - "${n}"`),"dataTypeMissing"+n);return}return e.cellDataType=n,r.groupSafeValueFormatter&&(e.valueFormatter=r.groupSafeValueFormatter),r.valueParser&&(e.valueParser=r.valueParser),r.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,r,i),r.columnTypes}updateColDefAndGetColumnType(e,t,i){var n,o;const r=this.updateColDefAndGetDataTypeDefinitionColumnType(e,t,i),l=(o=(n=t.type)!==null&&n!==void 0?n:r)!==null&&o!==void 0?o:e.type;return e.type=l,l?this.convertColumnTypes(l):void 0}addColumnListeners(e){if(!this.isWaitingForRowData)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const i=n=>{t.add(n.key)};e.addEventListener(He.EVENT_STATE_UPDATED,i),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.removeEventListener(He.EVENT_STATE_UPDATED,i))}canInferCellDataType(e,t){var i;if(this.rowModel.getType()!=="clientSide")return!1;const n={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(t,n))return!1;const o=t.type===null?e.type:t.type;if(o){const r=(i=this.gridOptionsService.get("columnTypes"))!==null&&i!==void 0?i:{};if(this.convertColumnTypes(o).some(a=>{const c=r[a.trim()];return c&&this.doColDefPropsPreventInference(c,n)}))return!1}return!this.doColDefPropsPreventInference(e,n)}doColDefPropsPreventInference(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([i,n])=>this.doesColDefPropPreventInference(e,t,i,n))}doesColDefPropPreventInference(e,t,i,n){if(!t[i])return!1;const o=e[i];return o===null?(t[i]=!1,!1):n===void 0?!!o:o===n}inferCellDataType(e,t){var i;if(!e)return;let n;const o=this.getInitialData();if(o){const l=e.indexOf(".")>=0&&!this.gridOptionsService.is("suppressFieldDotNotation");n=rr(o,e,l)}else this.initWaitForRowData(t);if(n==null)return;const[r]=(i=Object.entries(this.dataTypeMatchers).find(([l,a])=>a(n)))!==null&&i!==void 0?i:["object"];return r}getInitialData(){const e=this.gridOptionsService.get("rowData");if(e!=null&&e.length)return e[0];if(this.initialData)return this.initialData;{const t=this.rowModel.getRootNode().allLeafChildren;if(t!=null&&t.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions;t&&this.columnModel.queueResizeOperations();const i=this.addManagedListener(this.eventService,m.EVENT_ROW_DATA_UPDATE_STARTED,n=>{const{firstRowData:o}=n;o&&(i==null||i(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(o,t),this.columnStateUpdatesPendingInference={},t&&this.columnModel.processResizeOperations())})}processColumnsPendingInference(e,t){this.initialData=e;const i=[];this.columnStateUpdateListenerDestroyFuncs.forEach(r=>r()),this.columnStateUpdateListenerDestroyFuncs=[];const n={},o={};Object.entries(this.columnStateUpdatesPendingInference).forEach(([r,l])=>{const a=this.columnModel.getGridColumn(r);if(!a)return;const c=a.getColDef();if(!this.columnModel.resetColumnDefIntoColumn(a))return;const d=a.getColDef();if(t&&d.type&&d.type!==c.type){const u=this.getUpdatedColumnState(a,l);u.rowGroup&&u.rowGroupIndex==null&&(n[r]=u),u.pivot&&u.pivotIndex==null&&(o[r]=u),i.push(u)}}),t&&i.push(...this.columnModel.generateColumnStateForRowGroupAndPivotIndexes(n,o)),i.length&&this.columnModel.applyColumnState({state:i},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(e,t){const i=this.columnModel.getColumnStateFromColDef(e);return t.forEach(n=>{delete i[n],n==="rowGroup"?delete i.rowGroupIndex:n==="pivot"&&delete i.pivotIndex}),i}checkObjectValueHandlers(e){const t=this.dataTypeDefinitions.object,i=e.object;this.hasObjectValueParser=t.valueParser!==i.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==i.valueFormatter}convertColumnTypes(e){let t=[];return e instanceof Array?e.some(n=>typeof n!="string")?console.warn("AG Grid: if colDef.type is supplied an array it should be of type 'string[]'"):t=e:typeof e=="string"?t=e.split(","):console.warn("AG Grid: colDef.type should be of type 'string' | 'string[]'"),t}getDateStringTypeDefinition(){return this.dataTypeDefinitions.dateString}getDateParserFunction(){return this.getDateStringTypeDefinition().dateParser}getDateFormatterFunction(){return this.getDateStringTypeDefinition().dateFormatter}checkType(e,t){var i;const n=e.getColDef();if(!n.cellDataType||t==null)return!0;const o=(i=this.dataTypeDefinitions[n.cellDataType])===null||i===void 0?void 0:i.dataTypeMatcher;return o?o(t):!0}validateColDef(e){e.cellDataType==="object"&&(e.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&st(()=>console.warn('AG Grid: Cell data type is "object" but no value formatter has been provided. Please either provide an object data type definition with a value formatter, or set "colDef.valueFormatter"'),"dataTypeObjectValueFormatter"),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&st(()=>console.warn('AG Grid: Cell data type is "object" but no value parser has been provided. Please either provide an object data type definition with a value parser, or set "colDef.valueParser"'),"dataTypeObjectValueParser"))}setColDefPropertiesForBaseDataType(e,t,i){const n=(a,c,d)=>{let u=a.getColDef().valueFormatter;return u===t.groupSafeValueFormatter&&(u=t.valueFormatter),this.valueFormatterService.formatValue(a,c,d,u)},o=me.__isRegistered(Ee.SetFilterModule,this.context.getGridId()),r=this.localeService.getLocaleTextFunc(),l=a=>{const{filterParams:c}=e;e.filterParams=typeof c=="object"?Object.assign(Object.assign({},c),a):a};switch(e.useValueFormatterForExport=!0,e.useValueParserForImport=!0,t.baseDataType){case"number":{e.cellEditor="agNumberCellEditor",o&&l({comparator:(a,c)=>{const d=a==null?0:parseInt(a),u=c==null?0:parseInt(c);return d===u?0:d>u?1:-1}});break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=a=>!!a.colDef.editable&&a.event.key===$.SPACE,l(o?{valueFormatter:a=>Q(a.value)?r(String(a.value),a.value?"True":"False"):r("blanks","(Blanks)")}:{maxNumConditions:1,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(a,c)=>c,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(a,c)=>c===!1,numberOfInputs:0}]});break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=a=>n(a.column,a.node,a.value),o&&l({valueFormatter:a=>{const c=n(a.column,a.node,a.value);return Q(c)?c:r("blanks","(Blanks)")},treeList:!0,treeListFormatter:(a,c)=>{if(c===1&&a!=null){const d=Uv[Number(a)-1];return r(d,Wv[d])}return a??r("blanks","(Blanks)")}});break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=c=>n(c.column,c.node,c.value);const a=this.getDateParserFunction();l(o?{valueFormatter:c=>{const d=n(c.column,c.node,c.value);return Q(d)?d:r("blanks","(Blanks)")},treeList:!0,treeListPathGetter:c=>{const d=a(c??void 0);return d?[String(d.getFullYear()),String(d.getMonth()+1),String(d.getDate())]:null},treeListFormatter:(c,d)=>{if(d===1&&c!=null){const u=Uv[Number(c)-1];return r(u,Wv[u])}return c??r("blanks","(Blanks)")}}:{comparator:(c,d)=>{const u=a(d);return d==null||u<c?-1:u>c?1:0}});break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=(a,c)=>{const d=this.columnModel.getPrimaryColumn(i),u=d==null?void 0:d.getColDef();if(!d||!u)return 0;const h=a==null?"":n(d,null,a),p=c==null?"":n(d,null,c);return h===p?0:h>p?1:-1},e.keyCreator=a=>n(a.column,a.node,a.value),o?l({valueFormatter:a=>{const c=n(a.column,a.node,a.value);return Q(c)?c:r("blanks","(Blanks)")}}):e.filterValueGetter=a=>n(a.column,a.node,this.valueService.getValue(a.column,a.node));break}}}getDefaultDataTypes(){const e=i=>!!i.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:i=>i.newValue===""?null:Number(i.newValue),valueFormatter:i=>i.value==null?"":typeof i.value!="number"||isNaN(i.value)?t("invalidNumber","Invalid Number"):String(i.value),dataTypeMatcher:i=>typeof i=="number"},text:{baseDataType:"text",valueParser:i=>i.newValue===""?null:Jl(i.newValue),dataTypeMatcher:i=>typeof i=="string"},boolean:{baseDataType:"boolean",valueParser:i=>i.newValue===""?null:String(i.newValue).toLowerCase()==="true",valueFormatter:i=>i.value==null?"":String(i.value),dataTypeMatcher:i=>typeof i=="boolean"},date:{baseDataType:"date",valueParser:i=>Rs(i.newValue==null?null:String(i.newValue)),valueFormatter:i=>{var n;return i.value==null?"":!(i.value instanceof Date)||isNaN(i.value.getTime())?t("invalidDate","Invalid Date"):(n=es(i.value,!1))!==null&&n!==void 0?n:""},dataTypeMatcher:i=>i instanceof Date},dateString:{baseDataType:"dateString",dateParser:i=>{var n;return(n=Rs(i))!==null&&n!==void 0?n:void 0},dateFormatter:i=>{var n;return(n=es(i??null,!1))!==null&&n!==void 0?n:void 0},valueParser:i=>e(String(i.newValue))?i.newValue:null,valueFormatter:i=>e(String(i.value))?i.value:"",dataTypeMatcher:i=>typeof i=="string"&&e(i)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:i=>{var n;return(n=Jl(i.value))!==null&&n!==void 0?n:""}}}}};Uo([y("rowModel")],vn.prototype,"rowModel",void 0);Uo([y("columnModel")],vn.prototype,"columnModel",void 0);Uo([y("columnUtils")],vn.prototype,"columnUtils",void 0);Uo([y("valueService")],vn.prototype,"valueService",void 0);Uo([y("valueFormatterService")],vn.prototype,"valueFormatterService",void 0);Uo([de],vn.prototype,"init",null);vn=Uo([Se("dataTypeService")],vn);var ZS=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let Rd=class extends ee{parseValue(e,t,i,n){const o=e.getColDef(),r={node:t,data:t==null?void 0:t.data,oldValue:n,newValue:i,colDef:o,column:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context},l=o.valueParser;return Q(l)?typeof l=="function"?l(r):this.expressionService.evaluate(l,r):i}};ZS([y("expressionService")],Rd.prototype,"expressionService",void 0);Rd=ZS([Se("valueParserService")],Rd);class Vk{constructor(e,t,i){if(!t){console.error("AG Grid: no gridOptions provided to the grid");return}this.gridOptions=t,new kk().create(e,t,n=>{const o=new ll(e);n.createBean(o)},void 0,i)}destroy(){this.gridOptions&&this.gridOptions.api&&this.gridOptions.api.destroy()}}let Hk=1;class kk{create(e,t,i,n,o){var r;const l=!!t.debug,a=(r=t.gridId)!==null&&r!==void 0?r:String(Hk++),c=this.getRegisteredModules(o,a),d=this.createBeansList(t.rowModelType,c,a),u=this.createProvidedBeans(e,t,o);if(!d)return;const h={providedBeanInstances:u,beanClasses:d,debug:l,gridId:a},p=new Ap("AG Grid",()=>t.debug),g=new Ap("Context",()=>h.debug),f=new C1(h,g),v=f.getBean("beans");this.registerModuleUserComponents(v,c),this.registerStackComponents(v,c),this.registerControllers(v,c),i(f),v.ctrlsService.whenReady(()=>{this.setColumnsAndData(v),this.dispatchGridReadyEvent(v);const w=me.__isRegistered(Ee.EnterpriseCoreModule,a);p.log(`initialised successfully, enterprise = ${w}`)}),n&&n(f)}registerControllers(e,t){t.forEach(i=>{i.controllers&&i.controllers.forEach(n=>e.ctrlsFactory.register(n))})}registerStackComponents(e,t){const i=this.createAgStackComponentsList(t);e.agStackComponentsRegistry.setupComponents(i)}getRegisteredModules(e,t){const i=e?e.modules:null,n=me.__getRegisteredModules(t),o=[],r={},l=(a,c,d)=>{(h=>{r[h.moduleName]||(r[h.moduleName]=!0,o.push(h),me.__register(h,a,d))})(c),c.dependantModules&&c.dependantModules.forEach(h=>l(a,h,d))};return i&&i.forEach(a=>l(!0,a,t)),n&&n.forEach(a=>l(!me.__isPackageBased(),a,void 0)),o}registerModuleUserComponents(e,t){this.extractModuleEntity(t,n=>n.userComponents?n.userComponents:[]).forEach(n=>{e.userComponentRegistry.registerDefaultComponent(n.componentName,n.componentClass)})}createProvidedBeans(e,t,i){let n=i?i.frameworkOverrides:null;Le(n)&&(n=new zS);const o={gridOptions:t,eGridDiv:e,globalEventListener:i?i.globalEventListener:null,frameworkOverrides:n};return i&&i.providedBeanInstances&&Object.assign(o,i.providedBeanInstances),o}createAgStackComponentsList(e){let t=[{componentName:"AgCheckbox",componentClass:Wn},{componentName:"AgRadioButton",componentClass:rS},{componentName:"AgToggleButton",componentClass:uk},{componentName:"AgInputTextField",componentClass:No},{componentName:"AgInputTextArea",componentClass:hk},{componentName:"AgInputNumberField",componentClass:lg},{componentName:"AgInputDateField",componentClass:pk},{componentName:"AgInputRange",componentClass:fk},{componentName:"AgSelect",componentClass:Zn},{componentName:"AgSlider",componentClass:so},{componentName:"AgGridBody",componentClass:_s},{componentName:"AgHeaderRoot",componentClass:oc},{componentName:"AgSortIndicator",componentClass:ki},{componentName:"AgPagination",componentClass:ji},{componentName:"AgOverlayWrapper",componentClass:tn},{componentName:"AgGroupComponent",componentClass:ui},{componentName:"AgPanel",componentClass:Ts},{componentName:"AgDialog",componentClass:jS},{componentName:"AgRowContainer",componentClass:ko},{componentName:"AgFakeHorizontalScroll",componentClass:En},{componentName:"AgFakeVerticalScroll",componentClass:vc}];const i=this.extractModuleEntity(e,n=>n.agStackComponents?n.agStackComponents:[]);return t=t.concat(i),t}createBeansList(e="clientSide",t,i){const n=t.filter(c=>!c.rowModel||c.rowModel===e),o={clientSide:Ee.ClientSideRowModelModule,infinite:Ee.InfiniteRowModelModule,serverSide:Ee.ServerSideRowModelModule,viewport:Ee.ViewportRowModelModule};if(!o[e]){console.error("AG Grid: could not find row model for rowModelType = "+e);return}if(!me.__assertRegistered(o[e],`rowModelType = '${e}'`,i))return;const r=[Be,Mr,Mp,Ca,fa,Ze,oa,Sd,ga,Op,Un,Fr,aa,xp,Er,ca,ra,yp,Es,qs,zn,Lo,Ys,Nt,Po,da,Vi,Cd,br,Pp,Mo,si,wd,Yn,yd,Cp,Fo,Ao,nt,ua,Pt,_r,ma,Kn,md,vd,la,ha,Fp,pa,bd,ta,Ar,Pr,os,wp,Lp,ya,jn,Lr,Ed,wa,Ir,Np,vn,Rd],l=this.extractModuleEntity(n,c=>c.beans?c.beans:[]);r.push(...l);const a=[];return r.forEach(c=>{a.indexOf(c)<0&&a.push(c)}),a}extractModuleEntity(e,t){return[].concat(...e.map(t))}setColumnsAndData(e){const t=e.gridOptionsService.get("columnDefs");e.columnModel.setColumnDefs(t||[],"gridInitializing"),e.rowModel.start()}dispatchGridReadyEvent(e){const t={type:m.EVENT_GRID_READY};e.eventService.dispatchEvent(t)}}class Bk{wrap(e,t,i=[],n){const o=this.createWrapper(e,n);return t.forEach(r=>{this.createMethod(o,r,!0)}),i.forEach(r=>{this.createMethod(o,r,!1)}),o}unwrap(e){return e}createMethod(e,t,i){e.addMethod(t,this.createMethodProxy(e,t,i))}createMethodProxy(e,t,i){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(i&&console.warn("AG Grid: Framework component is missing the method "+t+"()"),null)}}}var jv;(function(s){s.InsideBase="insideBase",s.InsideEnd="insideEnd",s.Center="center",s.OutsideEnd="outsideEnd"})(jv||(jv={}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v30.0.6
 * @link https://www.ag-grid.com/
 * @license MIT
 */const cl=typeof global>"u"?{}:global;cl.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement;cl.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement;cl.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement;cl.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement;cl.Node=typeof Node>"u"?{}:Node;cl.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;class Sa{static getComponentDefinition(e,t){let i;return typeof e=="string"?i=this.searchForComponentInstance(t,e):i={extends:Ae(Object.assign({},e))},i||console.error(`Could not find component with name of ${e}. Is it in Vue.components?`),i.extends?(i.extends.setup&&(i.setup=i.extends.setup),i.extends.props=this.addParamsToProps(i.extends.props)):i.props=this.addParamsToProps(i.props),i}static addParamsToProps(e){return!e||Array.isArray(e)&&e.indexOf("params")===-1?e=["params",...e||[]]:typeof e=="object"&&!e.params&&(e.params={type:Object}),e}static createAndMountComponent(e,t,i,n){const o=Sa.getComponentDefinition(e,i);if(!o)return;const{vNode:r,destroy:l,el:a}=this.mount(o,{params:Object.freeze(t)},i,n||{});return{componentInstance:r.component.proxy,element:a,destroy:l}}static mount(e,t,i,n){let o=le(e,t);o.appContext=i.$.appContext,o.appContext.provides=Object.assign(Object.assign(Object.assign({},n),o.appContext.provides?o.appContext.provides:{}),i.$parent.$options.provide?i.$parent.$options.provide:{});let r=document.createElement("div");return Pm(o,r),{vNode:o,destroy:()=>{r&&Pm(null,r),r=null,o=null},el:r}}static searchForComponentInstance(e,t,i=10,n=!1){let o=null,r=e.$parent,l=0;for(;!o&&r&&r.$options&&++l<i;){const a=r;o=a.$options&&a.$options.components?a.$options.components[t]:null,r=r.$parent}if(!o){const a=e.$.appContext.components;a&&a[t]&&(o=a[t])}return!o&&!n?(console.error(`Could not find component with name of ${t}. Is it in Vue.components?`),null):o}}class Hl extends Bk{constructor(e,t){super(),this.parent=e,Hl.provides||(Hl.provides=t)}createWrapper(e){const t=this;class i extends $k{init(r){super.init(r)}hasMethod(r){return n.getFrameworkComponentInstance()[r]!=null}callMethod(r,l){const a=this.getFrameworkComponentInstance();return n.getFrameworkComponentInstance()[r].apply(a,l)}addMethod(r,l){n[r]=l}overrideProcessing(r){return t.parent.autoParamsRefresh&&r==="refresh"}processMethod(r,l){return r==="refresh"&&(this.getFrameworkComponentInstance().params=l[0]),this.hasMethod(r)?this.callMethod(r,l):r==="refresh"}createComponent(r){return t.createComponent(e,r)}}const n=new i;return n}createComponent(e,t){return Sa.createAndMountComponent(e,t,this.parent,Hl.provides)}createMethodProxy(e,t,i){return function(){return e.overrideProcessing(t)?e.processMethod(t,arguments):e.hasMethod(t)?e.callMethod(t,arguments):(i&&console.warn("AG Grid: Framework component is missing the method "+t+"()"),null)}}destroy(){this.parent=null}}class $k{getGui(){return this.element}destroy(){this.getFrameworkComponentInstance()&&typeof this.getFrameworkComponentInstance().destroy=="function"&&this.getFrameworkComponentInstance().destroy(),this.unmount()}getFrameworkComponentInstance(){return this.componentInstance}init(e){const{componentInstance:t,element:i,destroy:n}=this.createComponent(e);this.componentInstance=t,this.unmount=n,this.element=i.firstElementChild}}const Wk=s=>s.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Uk=s=>`on${s.charAt(0).toUpperCase()}${s.substring(1,s.length)}`,jk=()=>{const s={};Ke.PUBLIC_EVENTS.map(i=>Uk(Wk(i))).forEach(i=>s[i]=void 0);const t={};return Ke.ALL_PROPERTIES.filter(i=>i!="gridOptions").forEach(i=>{s[i]={},t[i]={handler(n,o){this.processChanges(i,n,o)},deep:i!=="popupParent"&&i!=="context"}}),[s,t]};class zk extends zS{constructor(e){super(),this.parent=e}frameworkComponent(e,t){let i=Sa.searchForComponentInstance(this.parent,e,10,!0)?e:null;if(!i&&t&&t[e]){const n=t[e];i=Sa.searchForComponentInstance(this.parent,n,10,!0)?n:null}return i}isFrameworkComponent(e){return typeof e=="object"}}const Kk=["rowDataChanged","rowDataUpdated","cellValueChanged","rowValueChanged"],zv="onUpdate:modelValue",Yk="update:modelValue",[qk,Qk]=jk(),Xk=Ae({render(){return Bt("div")},props:Object.assign({gridOptions:{type:Object,default:()=>({})},autoParamsRefresh:{type:Boolean,default:()=>!1},componentDependencies:{type:Array,default:()=>[]},plugins:[],modules:{type:Array,default:()=>[]},modelValue:{type:Array,default:void 0,required:!1}},qk),data(){return{gridCreated:!1,isDestroyed:!1,gridReadyFired:!1,emitRowModel:void 0}},watch:Object.assign({modelValue:{handler(s,e){this.processChanges("rowData",s,e)},deep:!0}},Qk),methods:{globalEventListener(s,e){this.isDestroyed||(s==="gridReady"&&(this.gridReadyFired=!0),this.updateModelIfUsed(s))},processChanges(s,e,t){if(this.gridCreated){if(this.skipChange(s,e,t))return;const i={};i[s]={currentValue:s==="rowData"?Object.isFrozen(e)?e:Rl(tt(e)):e,previousValue:t},Ke.processOnChange(i,this.gridOptions.api)}},checkForBindingConflicts(){const s=this;(s.rowData||this.gridOptions.rowData)&&s.modelValue&&console.warn("AG Grid: Using both rowData and v-model. rowData will be ignored.")},getRowData(){const s=[];return this.gridOptions.api.forEachNode(e=>{s.push(e.data)}),s},updateModelIfUsed(s){this.gridReadyFired&&this.$attrs[zv]&&Kk.indexOf(s)!==-1&&this.emitRowModel&&this.emitRowModel()},getRowDataBasedOnBindings(){const s=this,e=s.modelValue;return e||(s.rowData?s.rowData:s.gridOptions.rowData)},getProvides(){let s=$r(),e={};for(;s;)s&&s.provides&&(e=Object.assign(Object.assign({},e),s.provides)),s=s.parent;return e},skipChange(s,e,t){if(this.gridReadyFired&&s==="rowData"&&this.$attrs[zv]){if(e===t)return!0;if(e&&t){const i=e,n=t;if(i.length===n.length){for(let o=0;o<i.length;o++)if(i[o]!==n[o])return!1;return!0}}}return!1},debounce(s,e){let t;return()=>{const i=function(){s()};window.clearTimeout(t),t=window.setTimeout(i,e)}}},mounted(){this.emitRowModel=this.debounce(()=>{this.$emit(Yk,Object.freeze(this.getRowData()))},20);const s=this.getProvides(),e=new Hl(this,s),t=Rl(Ke.copyAttributesToGridOptions(tt(this.gridOptions),this,!0));this.checkForBindingConflicts();const i=this.getRowDataBasedOnBindings();t.rowData=i&&(Object.isFrozen(i)?i:Rl(tt(i)));const n={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:new zk(this),providedBeanInstances:{frameworkComponentWrapper:e},modules:this.modules};new Vk(this.$el,t,n),this.gridCreated=!0},unmounted(){this.gridCreated&&(this.gridOptions.api&&this.gridOptions.api.destroy(),this.isDestroyed=!0)}});class Nn{constructor(e,t,i,n,o,r){this.nextId=0,this.allNodesMap={},this.rootNode=e,this.gridOptionsService=t,this.eventService=i,this.columnModel=n,this.beans=r,this.selectionService=o,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=Nn.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}postConstruct(){this.suppressParentsInRowNodes=this.gridOptionsService.is("suppressParentsInRowNodes"),this.isRowMasterFunc=this.gridOptionsService.get("isRowMaster"),this.doingTreeData=this.gridOptionsService.isTreeData(),this.doingMasterDetail=this.gridOptionsService.isMasterDetail()}getCopyOfNodesMap(){return Qe.cloneObject(this.allNodesMap)}getRowNode(e){return this.allNodesMap[e]}setRowData(e){if(typeof e=="string"){console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first");return}this.dispatchRowDataUpdateStartedEvent(e);const t=this.rootNode,i=this.rootNode.sibling;t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?t.allLeafChildren=e.map(n=>this.createNode(n,this.rootNode,Nn.TOP_LEVEL)):(t.allLeafChildren=[],t.childrenAfterGroup=[]),i&&(i.childrenAfterFilter=t.childrenAfterFilter,i.childrenAfterGroup=t.childrenAfterGroup,i.childrenAfterAggFilter=t.childrenAfterAggFilter,i.childrenAfterSort=t.childrenAfterSort,i.childrenMapped=t.childrenMapped,i.allLeafChildren=t.allLeafChildren)}updateRowData(e,t){this.dispatchRowDataUpdateStartedEvent(e.add);const i={remove:[],update:[],add:[]},n=[];return this.executeRemove(e,i,n),this.executeUpdate(e,i,n),this.executeAdd(e,i),this.updateSelection(n,"rowDataChanged"),t&&Qe.sortRowNodesByOrder(this.rootNode.allLeafChildren,t),i}dispatchRowDataUpdateStartedEvent(e){const t={type:m.EVENT_ROW_DATA_UPDATE_STARTED,firstRowData:e!=null&&e.length?e[0]:null};this.eventService.dispatchEvent(t)}updateSelection(e,t){const i=e.length>0;if(i&&this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),this.selectionService.updateGroupsFromChildrenSelections(t),i){const n={type:m.EVENT_SELECTION_CHANGED,source:t};this.eventService.dispatchEvent(n)}}executeAdd(e,t){var i;const{add:n,addIndex:o}=e;if(Qe.missingOrEmpty(n))return;const r=n.map(l=>this.createNode(l,this.rootNode,Nn.TOP_LEVEL));if(typeof o=="number"&&o>=0){const{allLeafChildren:l}=this.rootNode,a=l.length;let c=o;if(this.doingTreeData&&o>0&&a>0){for(let h=0;h<a;h++)if(((i=l[h])===null||i===void 0?void 0:i.rowIndex)==o-1){c=h+1;break}}const d=l.slice(0,c),u=l.slice(c,l.length);this.rootNode.allLeafChildren=[...d,...r,...u]}else this.rootNode.allLeafChildren=[...this.rootNode.allLeafChildren,...r];this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),t.add=r}executeRemove(e,t,i){const{remove:n}=e;if(Qe.missingOrEmpty(n))return;const o={};n.forEach(r=>{const l=this.lookupRowNode(r);l&&(l.isSelected()&&i.push(l),l.clearRowTopAndRowIndex(),o[l.id]=!0,delete this.allNodesMap[l.id],t.remove.push(l))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(r=>!o[r.id]),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}executeUpdate(e,t,i){const{update:n}=e;Qe.missingOrEmpty(n)||n.forEach(o=>{const r=this.lookupRowNode(o);r&&(r.updateData(o),!r.selectable&&r.isSelected()&&i.push(r),this.setMasterForRow(r,o,Nn.TOP_LEVEL,!1),t.update.push(r))})}lookupRowNode(e){const t=this.gridOptionsService.getCallback("getRowId");let i;if(t){const n=t({data:e,level:0});if(i=this.allNodesMap[n],!i)return console.error(`AG Grid: could not find row id=${n}, data item was not found for this id`),null}else if(i=this.rootNode.allLeafChildren.find(n=>n.data===e),!i)return console.error("AG Grid: could not find data item as object was not found",e),console.error("Consider using getRowId to help the Grid find matching row data"),null;return i||null}createNode(e,t,i){const n=new pe(this.beans);return n.group=!1,this.setMasterForRow(n,e,i,!0),t&&!this.suppressParentsInRowNodes&&(n.parent=t),n.level=i,n.setDataAndId(e,this.nextId.toString()),this.allNodesMap[n.id]&&console.warn(`AG Grid: duplicate node id '${n.id}' detected from getRowId callback, this could cause issues in your grid.`),this.allNodesMap[n.id]=n,this.nextId++,n}setMasterForRow(e,t,i,n){if(this.doingTreeData)e.setMaster(!1),n&&(e.expanded=!1);else if(this.doingMasterDetail?this.isRowMasterFunc?e.setMaster(this.isRowMasterFunc(t)):e.setMaster(!0):e.setMaster(!1),n){const o=this.columnModel.getRowGroupColumns(),r=o?o.length:0,l=i+r;e.expanded=e.master?this.isExpanded(l):!1}}isExpanded(e){const t=this.gridOptionsService.getNum("groupDefaultExpanded");return t===-1?!0:e<t}}Nn.TOP_LEVEL=0;Nn.ROOT_NODE_ID="ROOT_NODE_ID";var Di=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Ms;(function(s){s[s.Normal=0]="Normal",s[s.AfterFilter=1]="AfterFilter",s[s.AfterFilterAndSort=2]="AfterFilterAndSort",s[s.PivotNodes=3]="PivotNodes"})(Ms||(Ms={}));let ni=class extends ee{constructor(){super(...arguments),this.onRowHeightChanged_debounced=Qe.debounce(this.onRowHeightChanged.bind(this),100),this.rowsToDisplay=[]}init(){const e=this.refreshModel.bind(this,{step:ut.EVERYTHING}),t=!this.gridOptionsService.is("suppressAnimationFrame"),i=this.refreshModel.bind(this,{step:ut.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:t});this.addManagedListener(this.eventService,m.EVENT_NEW_COLUMNS_LOADED,i),this.addManagedListener(this.eventService,m.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.addManagedListener(this.eventService,m.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,m.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:ut.PIVOT})),this.addManagedListener(this.eventService,m.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,m.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,m.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.addManagedListener(this.eventService,m.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanges.bind(this));const n=this.refreshModel.bind(this,{step:ut.MAP,keepRenderedRows:!0,animate:t});this.addManagedPropertyListener("groupRemoveSingleChildren",n),this.addManagedPropertyListener("groupRemoveLowestSingleChildren",n),this.rootNode=new pe(this.beans),this.nodeManager=new Nn(this.rootNode,this.gridOptionsService,this.eventService,this.columnModel,this.selectionService,this.beans)}start(){const e=this.gridOptionsService.get("rowData");e&&this.setRowData(e)}ensureRowHeightsValid(e,t,i,n){let o,r=!1;do{o=!1;const l=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),c=Math.max(l,i),d=Math.min(a,n);for(let u=c;u<=d;u++){const h=this.getRow(u);if(h.rowHeightEstimated){const p=this.gridOptionsService.getRowHeightForNode(h);h.setRowHeight(p.height),o=!0,r=!0}}o&&this.setRowTopAndRowIndex()}while(o);return r}setRowTopAndRowIndex(){const e=this.environment.getDefaultRowHeight();let t=0;const i=new Set,n=this.gridOptionsService.isDomLayout("normal");for(let o=0;o<this.rowsToDisplay.length;o++){const r=this.rowsToDisplay[o];if(r.id!=null&&i.add(r.id),r.rowHeight==null){const l=this.gridOptionsService.getRowHeightForNode(r,n,e);r.setRowHeight(l.height,l.estimated)}r.setRowTop(t),r.setRowIndex(o),t+=r.rowHeight}return i}clearRowTopAndRowIndex(e,t){const i=e.isActive(),n=r=>{r&&r.id!=null&&!t.has(r.id)&&r.clearRowTopAndRowIndex()},o=r=>{if(n(r),n(r.detailNode),n(r.sibling),r.hasChildren()&&r.childrenAfterGroup){const l=r.level==-1;i&&!l&&!r.expanded||r.childrenAfterGroup.forEach(o)}};o(this.rootNode)}ensureRowsAtPixel(e,t,i=0){const n=this.getRowIndexAtPixel(t),o=this.getRow(n),r=!this.gridOptionsService.is("suppressAnimationFrame");return o===e[0]?!1:(e.forEach(l=>{Qe.removeFromArray(this.rootNode.allLeafChildren,l)}),e.forEach((l,a)=>{Qe.insertIntoArray(this.rootNode.allLeafChildren,l,Math.max(n+i,0)+a)}),this.refreshModel({step:ut.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:r}),!0)}highlightRowAtPixel(e,t){const i=t!=null?this.getRowIndexAtPixel(t):null,n=i!=null?this.getRow(i):null;if(!n||!e||n===e||t==null){this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null);return}const o=this.getHighlightPosition(t,n);this.lastHighlightedRow&&this.lastHighlightedRow!==n&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),n.setHighlighted(o),this.lastHighlightedRow=n}getHighlightPosition(e,t){if(!t){const o=this.getRowIndexAtPixel(e);if(t=this.getRow(o||0),!t)return un.Below}const{rowTop:i,rowHeight:n}=t;return e-i<n/2?un.Above:un.Below}getLastHighlightedRowNode(){return this.lastHighlightedRow}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;const t=this.rootNode.childrenAfterAggFilter;return t?t.length:0}getTopLevelRowDisplayedIndex(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;let i=this.rootNode.childrenAfterSort[e];if(this.gridOptionsService.is("groupHideOpenParents"))for(;i.expanded&&i.childrenAfterSort&&i.childrenAfterSort.length>0;)i=i.childrenAfterSort[0];return i.rowIndex}getRowBounds(e){if(Qe.missing(this.rowsToDisplay))return null;const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=this.gridOptionsService.isAnimateRows();this.refreshModel({step:ut.MAP,keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=this.gridOptionsService.isAnimateRows(),n=e.columns.length===0||e.columns.some(o=>o.isPrimary())?ut.FILTER:ut.FILTER_AGGREGATES;this.refreshModel({step:n,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=this.gridOptionsService.isAnimateRows();this.refreshModel({step:ut.SORT,keepRenderedRows:!0,animate:e,keepEditingRows:!0})}getType(){return"clientSide"}onValueChanged(){this.columnModel.isPivotActive()?this.refreshModel({step:ut.PIVOT}):this.refreshModel({step:ut.AGGREGATE})}createChangePath(e){const t=Qe.missingOrEmpty(e),i=new Ag(!1,this.rootNode);return(t||this.gridOptionsService.isTreeData())&&i.setInactive(),i}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gridOptionsService.is("suppressModelUpdateAfterUpdateTransaction")||e.rowNodeTransactions==null)return!1;const t=e.rowNodeTransactions.filter(n=>n.add!=null&&n.add.length>0||n.remove!=null&&n.remove.length>0);return t==null||t.length==0}buildRefreshModelParams(e){let t=ut.EVERYTHING;const i={everything:ut.EVERYTHING,group:ut.EVERYTHING,filter:ut.FILTER,map:ut.MAP,aggregate:ut.AGGREGATE,sort:ut.SORT,pivot:ut.PIVOT};if(Qe.exists(e)&&(t=i[e]),Qe.missing(t)){console.error(`AG Grid: invalid step ${e}, available steps are ${Object.keys(i).join(", ")}`);return}const n=!this.gridOptionsService.is("suppressAnimationFrame");return{step:t,keepRenderedRows:!0,keepEditingRows:!0,animate:n}}refreshModel(e){let t=typeof e=="object"&&"step"in e?e:this.buildRefreshModelParams(e);if(!t||this.isSuppressModelUpdateAfterUpdateTransaction(t))return;const i=this.createChangePath(t.rowNodeTransactions);switch(t.step){case ut.EVERYTHING:this.doRowGrouping(t.groupState,t.rowNodeTransactions,t.rowNodeOrder,i,!!t.afterColumnsChanged);case ut.FILTER:this.doFilter(i);case ut.PIVOT:this.doPivot(i);case ut.AGGREGATE:this.doAggregate(i);case ut.FILTER_AGGREGATES:this.doFilterAggregates(i);case ut.SORT:this.doSort(t.rowNodeTransactions,i);case ut.MAP:this.doRowsToDisplay()}const n=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(i,n);const o={type:m.EVENT_MODEL_UPDATED,animate:t.animate,keepRenderedRows:t.keepRenderedRows,newData:t.newData,newPage:!1,keepUndoRedoStack:t.keepUndoRedoStack};this.eventService.dispatchEvent(o)}isEmpty(){const e=Qe.missing(this.rootNode.allLeafChildren)||this.rootNode.allLeafChildren.length===0;return Qe.missing(this.rootNode)||e||!this.columnModel.isReady()}isRowsToRender(){return Qe.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let i=!t,n=!1;const o=[],r=this.gridOptionsService.is("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort(l=>{if(n)return;if(i&&(l===t||l===e)&&(n=!0,l.group&&r)){o.push(...l.allLeafChildren);return}if(!i){if(l!==t&&l!==e)return;i=!0}if(!l.group||!r){o.push(l);return}}),o}setDatasource(e){console.error("AG Grid: should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){if(this.isEmpty()||this.rowsToDisplay.length===0)return-1;let t=0,i=this.rowsToDisplay.length-1;if(e<=0)return 0;if(Qe.last(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;let o=-1,r=-1;for(;;){const l=Math.floor((t+i)/2),a=this.rowsToDisplay[l];if(this.isRowInPixel(a,e)||(a.rowTop<e?t=l+1:a.rowTop>e&&(i=l-1),o===t&&r===i))return l;o=t,r=i}}isRowInPixel(e,t){const i=e.rowTop,n=e.rowTop+e.rowHeight;return i<=t&&n>t}forEachLeafNode(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((t,i)=>e(t,i))}forEachNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback:e,recursionType:Ms.Normal,index:0,includeFooterNodes:t})}forEachNodeAfterFilter(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback:e,recursionType:Ms.AfterFilter,index:0,includeFooterNodes:t})}forEachNodeAfterFilterAndSort(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback:e,recursionType:Ms.AfterFilterAndSort,index:0,includeFooterNodes:t})}forEachPivotNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:Ms.PivotNodes,index:0,includeFooterNodes:t})}recursivelyWalkNodesAndCallback(e){var t;const{nodes:i,callback:n,recursionType:o,includeFooterNodes:r}=e;let{index:l}=e;const a=i[0];r&&(!((t=a==null?void 0:a.parent)===null||t===void 0)&&t.sibling)&&i.push(a.parent.sibling);for(let c=0;c<i.length;c++){const d=i[c];if(n(d,l++),d.hasChildren()&&!d.footer){let u=null;switch(o){case Ms.Normal:u=d.childrenAfterGroup;break;case Ms.AfterFilter:u=d.childrenAfterAggFilter;break;case Ms.AfterFilterAndSort:u=d.childrenAfterSort;break;case Ms.PivotNodes:u=d.leafGroup?null:d.childrenAfterSort;break}u&&(l=this.recursivelyWalkNodesAndCallback({nodes:[...u],callback:n,recursionType:o,index:l,includeFooterNodes:r}))}}return l}doAggregate(e){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:e})}doFilterAggregates(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}expandOrCollapseAll(e){const t=this.gridOptionsService.isTreeData(),i=this.columnModel.isPivotActive(),n=l=>{l&&l.forEach(a=>{const c=()=>{a.expanded=e,n(a.childrenAfterGroup)};if(t){Qe.exists(a.childrenAfterGroup)&&c();return}if(i){!a.leafGroup&&c();return}a.group&&c()})};this.rootNode&&n(this.rootNode.childrenAfterGroup),this.refreshModel({step:ut.MAP});const o=e?"expandAll":"collapseAll",r={type:m.EVENT_EXPAND_COLLAPSE_ALL,source:o};this.eventService.dispatchEvent(r)}doSort(e,t){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:t})}doRowGrouping(e,t,i,n,o){if(this.groupStage){if(t?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,rowNodeOrder:i,changedPath:n}):(this.groupStage.execute({rowNode:this.rootNode,changedPath:n,afterColumnsChanged:o}),this.restoreGroupState(e)),this.gridOptionsService.is("groupSelectsChildren")&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",n)){const l={type:m.EVENT_SELECTION_CHANGED,source:"rowGroupChanged"};this.eventService.dispatchEvent(l)}}else this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren()}restoreGroupState(e){e&&Qe.traverseNodesWithKey(this.rootNode.childrenAfterGroup,(t,i)=>{typeof e[i]=="boolean"&&(t.expanded=e[i])})}doFilter(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})}doPivot(e){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:e})}getGroupState(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsService.is("rememberGroupStateWhenNewData"))return null;const e={};return Qe.traverseNodesWithKey(this.rootNode.childrenAfterGroup,(t,i)=>e[i]=t.expanded),e}getCopyOfNodesMap(){return this.nodeManager.getCopyOfNodesMap()}getRowNode(e){if(typeof e=="string"&&e.indexOf(pe.ID_PREFIX_ROW_GROUP)==0){let i;return this.forEachNode(n=>{n.id===e&&(i=n)}),i}return this.nodeManager.getRowNode(e)}setRowData(e){const t=this.getGroupState();this.nodeManager.setRowData(e),this.selectionService.reset(),this.filterManager.onNewRowsLoaded("rowDataUpdated");const i={type:m.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(i),this.refreshModel({step:ut.EVERYTHING,groupState:t,newData:!0})}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const i=this.gridOptionsService.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.executeBatchUpdateRowData()},i)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache.onDataChanged();const e=[],t=[];let i=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(n=>{const o=this.nodeManager.updateRowData(n.rowDataTransaction,void 0);t.push(o),n.callback&&e.push(n.callback.bind(null,o)),typeof n.rowDataTransaction.addIndex=="number"&&(i=!0)}),this.commonUpdateRowData(t,void 0,i),e.length>0&&window.setTimeout(()=>{e.forEach(n=>n())},0),t.length>0){const n={type:m.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:t};this.eventService.dispatchEvent(n)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e,t){this.valueCache.onDataChanged();const i=this.nodeManager.updateRowData(e,t),n=typeof e.addIndex=="number";return this.commonUpdateRowData([i],t,n),i}createRowNodeOrder(){if(this.gridOptionsService.is("suppressMaintainUnsortedOrder"))return;const t={};if(this.rootNode&&this.rootNode.allLeafChildren)for(let i=0;i<this.rootNode.allLeafChildren.length;i++){const n=this.rootNode.allLeafChildren[i];t[n.id]=i}return t}commonUpdateRowData(e,t,i){const n=!this.gridOptionsService.is("suppressAnimationFrame");i&&(t=this.createRowNodeOrder()),this.refreshModel({step:ut.EVERYTHING,rowNodeTransactions:e,rowNodeOrder:t,keepRenderedRows:!0,keepEditingRows:!0,animate:n}),this.filterManager.onNewRowsLoaded("rowDataUpdated");const o={type:m.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(o)}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:ut.MAP,keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){const e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),e&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const i=t.detailNode;i&&i.setRowHeight(i.rowHeight,!0),e=!0}),e}onGridStylesChanges(){this.columnModel.isAutoRowHeightActive()||this.resetRowHeights()}};Di([y("columnModel")],ni.prototype,"columnModel",void 0);Di([y("selectionService")],ni.prototype,"selectionService",void 0);Di([y("filterManager")],ni.prototype,"filterManager",void 0);Di([y("valueCache")],ni.prototype,"valueCache",void 0);Di([y("beans")],ni.prototype,"beans",void 0);Di([y("filterStage")],ni.prototype,"filterStage",void 0);Di([y("sortStage")],ni.prototype,"sortStage",void 0);Di([y("flattenStage")],ni.prototype,"flattenStage",void 0);Di([ht("groupStage")],ni.prototype,"groupStage",void 0);Di([ht("aggregationStage")],ni.prototype,"aggregationStage",void 0);Di([ht("pivotStage")],ni.prototype,"pivotStage",void 0);Di([ht("filterAggregatesStage")],ni.prototype,"filterAggregatesStage",void 0);Di([de],ni.prototype,"init",null);ni=Di([Se("rowModel")],ni);var eb=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let Td=class extends ee{execute(e){const{changedPath:t}=e;this.filterService.filter(t)}};eb([y("filterService")],Td.prototype,"filterService",void 0);Td=eb([Se("filterStage")],Td);var Vu=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let Nr=class extends ee{execute(e){const t=this.sortController.getSortOptions(),i=Qe.exists(t)&&t.length>0,n=i&&Qe.exists(e.rowNodeTransactions)&&this.gridOptionsService.is("deltaSort"),o=t.some(r=>!!this.columnModel.getGroupDisplayColumnForGroup(r.column.getId()));this.sortService.sort(t,i,n,e.rowNodeTransactions,e.changedPath,o)}};Vu([y("sortService")],Nr.prototype,"sortService",void 0);Vu([y("sortController")],Nr.prototype,"sortController",void 0);Vu([y("columnModel")],Nr.prototype,"columnModel",void 0);Nr=Vu([Se("sortStage")],Nr);var Bg=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let ba=class extends ee{execute(e){const t=e.rowNode,i=[],n={value:0},o=this.columnModel.isPivotMode(),r=o&&t.leafGroup,l=r?[t]:t.childrenAfterSort;this.recursivelyAddToRowsToDisplay(l,i,n,o,0);const a=i.length>0;return!r&&a&&this.gridOptionsService.is("groupIncludeTotalFooter")&&(t.createFooter(),this.addRowNodeToRowsToDisplay(t.sibling,i,n,0)),i}recursivelyAddToRowsToDisplay(e,t,i,n,o){if(Qe.missingOrEmpty(e))return;const r=this.gridOptionsService.is("groupHideOpenParents"),l=this.gridOptionsService.is("groupRemoveSingleChildren"),a=!l&&this.gridOptionsService.is("groupRemoveLowestSingleChildren");for(let c=0;c<e.length;c++){const d=e[c],u=d.hasChildren(),h=n&&!u,p=l&&u&&d.childrenAfterGroup.length===1,g=a&&u&&d.leafGroup&&d.childrenAfterGroup.length===1,f=n&&d.leafGroup,v=r&&d.expanded&&!d.master&&!f;if(!h&&!v&&!p&&!g&&this.addRowNodeToRowsToDisplay(d,t,i,o),!(n&&d.leafGroup)){if(u){const C=p||g;if(d.expanded||C){const E=C?o:o+1;this.recursivelyAddToRowsToDisplay(d.childrenAfterSort,t,i,n,E),this.gridOptionsService.is("groupIncludeFooter")&&this.addRowNodeToRowsToDisplay(d.sibling,t,i,E)}}else if(d.master&&d.expanded){const C=this.createDetailNode(d);this.addRowNodeToRowsToDisplay(C,t,i,o)}}}}addRowNodeToRowsToDisplay(e,t,i,n){const o=this.gridOptionsService.isGroupMultiAutoColumn();t.push(e),e.setUiLevel(o?0:n)}createDetailNode(e){if(Qe.exists(e.detailNode))return e.detailNode;const t=new pe(this.beans);return t.detail=!0,t.selectable=!1,t.parent=e,Qe.exists(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,t}};Bg([y("columnModel")],ba.prototype,"columnModel",void 0);Bg([y("beans")],ba.prototype,"beans",void 0);ba=Bg([Se("flattenStage")],ba);var Hu=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let xr=class extends ee{init(){this.postSortFunc=this.gridOptionsService.getCallback("postSortRows")}sort(e,t,i,n,o,r){const l=this.gridOptionsService.is("groupMaintainOrder"),a=this.columnModel.getAllGridColumns().some(h=>h.isRowGroupActive());let c={};i&&n&&(c=this.calculateDirtyNodes(n));const d=this.columnModel.isPivotMode(),u=h=>{this.pullDownGroupDataForHideOpenParents(h.childrenAfterAggFilter,!0);const p=d&&h.leafGroup;if(l&&a&&!h.leafGroup&&!r){const f=h.childrenAfterAggFilter.slice(0);if(h.childrenAfterSort){const v={};h.childrenAfterSort.forEach((w,C)=>{v[w.id]=C}),f.sort((w,C)=>{var E,b;return((E=v[w.id])!==null&&E!==void 0?E:0)-((b=v[C.id])!==null&&b!==void 0?b:0)})}h.childrenAfterSort=f}else!t||p?h.childrenAfterSort=h.childrenAfterAggFilter.slice(0):i?h.childrenAfterSort=this.doDeltaSort(h,c,o,e):h.childrenAfterSort=this.rowNodeSorter.doFullSort(h.childrenAfterAggFilter,e);if(h.sibling&&(h.sibling.childrenAfterSort=h.childrenAfterSort),this.updateChildIndexes(h),this.postSortFunc){const f={nodes:h.childrenAfterSort};this.postSortFunc(f)}};o&&o.forEachChangedNodeDepthFirst(u),this.updateGroupDataForHideOpenParents(o)}calculateDirtyNodes(e){const t={},i=n=>{n&&n.forEach(o=>t[o.id]=!0)};return e&&e.forEach(n=>{i(n.add),i(n.update),i(n.remove)}),t}doDeltaSort(e,t,i,n){const o=e.childrenAfterAggFilter,r=e.childrenAfterSort;if(!r)return this.rowNodeSorter.doFullSort(o,n);const l={},a=[];o.forEach(h=>{t[h.id]||!i.canSkip(h)?a.push(h):l[h.id]=!0});const c=r.filter(h=>l[h.id]),d=(h,p)=>({currentPos:p,rowNode:h}),u=a.map(d).sort((h,p)=>this.rowNodeSorter.compareRowNodes(n,h,p));return this.mergeSortedArrays(n,u,c.map(d)).map(({rowNode:h})=>h)}mergeSortedArrays(e,t,i){const n=[];let o=0,r=0;for(;o<t.length&&r<i.length;)this.rowNodeSorter.compareRowNodes(e,t[o],i[r])<0?n.push(t[o++]):n.push(i[r++]);for(;o<t.length;)n.push(t[o++]);for(;r<i.length;)n.push(i[r++]);return n}updateChildIndexes(e){if(Qe.missing(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let i=0;i<t.length;i++){const n=t[i],o=i===0,r=i===e.childrenAfterSort.length-1;n.setFirstChild(o),n.setLastChild(r),n.setChildIndex(i)}}updateGroupDataForHideOpenParents(e){if(!this.gridOptionsService.is("groupHideOpenParents"))return;if(this.gridOptionsService.isTreeData()){const i="AG Grid: The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them (as opposed to Row Grouping, which only has Aggregated Values at the group level).";return Qe.doOnce(()=>console.warn(i),"sortService.hideOpenParentsWithTreeData"),!1}const t=i=>{this.pullDownGroupDataForHideOpenParents(i.childrenAfterSort,!1),i.childrenAfterSort.forEach(n=>{n.hasChildren()&&t(n)})};e&&e.executeFromRootNode(i=>t(i))}pullDownGroupDataForHideOpenParents(e,t){!this.gridOptionsService.is("groupHideOpenParents")||Qe.missing(e)||e.forEach(i=>{this.columnModel.getGroupDisplayColumns().forEach(o=>{const r=o.getColDef().showRowGroup;if(typeof r!="string"){console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");return}const l=r,a=this.columnModel.getPrimaryColumn(l);if(a!==i.rowGroupColumn)if(t)i.setGroupValue(o.getId(),void 0);else{const d=i.getFirstChildOfFirstChild(a);d&&i.setGroupValue(o.getId(),d.key)}})})}};Hu([y("columnModel")],xr.prototype,"columnModel",void 0);Hu([y("rowNodeSorter")],xr.prototype,"rowNodeSorter",void 0);Hu([de],xr.prototype,"init",null);xr=Hu([Se("sortService")],xr);var tb=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let Dd=class extends ee{filter(e){const t=this.filterManager.isColumnFilterPresent()||this.filterManager.isQuickFilterPresent()||this.filterManager.isExternalFilterPresent();this.filterNodes(t,e)}filterNodes(e,t){const i=(n,o)=>{n.hasChildren()&&e&&!o?n.childrenAfterFilter=n.childrenAfterGroup.filter(r=>{const l=r.childrenAfterFilter&&r.childrenAfterFilter.length>0,a=r.data&&this.filterManager.doesRowPassFilter({rowNode:r});return l||a}):n.childrenAfterFilter=n.childrenAfterGroup,n.sibling&&(n.sibling.childrenAfterFilter=n.childrenAfterFilter)};if(this.doingTreeDataFiltering()){const n=(r,l)=>{if(r.childrenAfterGroup)for(let a=0;a<r.childrenAfterGroup.length;a++){const c=r.childrenAfterGroup[a],d=l||this.filterManager.doesRowPassFilter({rowNode:c});c.childrenAfterGroup?n(r.childrenAfterGroup[a],d):i(c,d)}i(r,l)},o=r=>n(r,!1);t.executeFromRootNode(o)}else{const n=o=>i(o,!1);t.forEachChangedNodeDepthFirst(n,!0)}}doingTreeDataFiltering(){return this.gridOptionsService.isTreeData()&&!this.gridOptionsService.is("excludeChildrenWhenTreeDataFiltering")}};tb([y("filterManager")],Dd.prototype,"filterManager",void 0);Dd=tb([Se("filterService")],Dd);var ku=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let Gr=class extends ee{postConstruct(){this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel)}isActive(){const e=this.gridOptionsService.exists("getRowId");return this.gridOptionsService.is("resetRowDataOnUpdate")?!1:e}setRowData(e){const t=this.createTransactionForRowData(e);if(!t)return;const[i,n]=t;this.clientSideRowModel.updateRowData(i,n)}createTransactionForRowData(e){if(Qe.missing(this.clientSideRowModel)){console.error("AG Grid: ImmutableService only works with ClientSideRowModel");return}const t=this.gridOptionsService.getCallback("getRowId");if(t==null){console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!");return}const i={remove:[],update:[],add:[]},n=this.clientSideRowModel.getCopyOfNodesMap(),r=this.gridOptionsService.is("suppressMaintainUnsortedOrder")?void 0:{};return Qe.exists(e)&&e.forEach((l,a)=>{const c=t({data:l,level:0}),d=n[c];r&&(r[c]=a),d?(d.data!==l&&i.update.push(l),n[c]=void 0):i.add.push(l)}),Qe.iterateObject(n,(l,a)=>{a&&i.remove.push(a.data)}),[i,r]}};ku([y("rowModel")],Gr.prototype,"rowModel",void 0);ku([y("rowRenderer")],Gr.prototype,"rowRenderer",void 0);ku([de],Gr.prototype,"postConstruct",null);Gr=ku([Se("immutableService")],Gr);const Jk="30.0.6",Zk={version:Jk,moduleName:Ee.ClientSideRowModelModule,rowModel:"clientSide",beans:[ni,Td,Nr,ba,xr,Dd,Gr]};me.registerModules([Zk]);const eB={name:"AgGrid",components:{AgGridVue:Xk},props:{columnDefs:{type:Object},rowData:{type:Array}},setup(s){const e=K();return{gridApi:e,onGridReady:i=>{e.value=i.api}}}};function tB(s,e,t,i,n,o){const r=we("ag-grid-vue");return U(),ot(r,{style:{height:"400px"},class:"ag-theme-alpine",columnDefs:t.columnDefs,rowData:t.rowData,onGridReady:i.onGridReady},null,8,["columnDefs","rowData","onGridReady"])}const dl=Ge(eB,[["render",tB]]),iB=Ae({name:"FeedBack",components:{AgGrid:dl},props:{type:{type:String,default:"1"}},setup(){const s=yt({optionList:["online","offline"],rowData:[],columnDefs:[{headerName:"Meeting ID",field:"id"},{headerName:"Topic Name",field:"theme"},{headerName:"Type",field:"type"},{headerName:"Date",field:"date"},{headerName:"Feedback",field:"feedback"},{headerName:"Provided by",field:"member"}]});xt(()=>{s.rowData=[{id:"M001",theme:"Budget",type:"online",feedback:"Communication is good",member:"Manager: Tom",date:"2023/5/10"},{id:"M001",theme:"Budget",type:"online",feedback:"Not efficient",member:"Direct report: Jerry",date:"2023/5/10"},{id:"M002",theme:"performance review",type:"offline",feedback:"Feel not comfortable",member:"Manager:Tom",date:"2023/5/10"}]});const e=()=>{};return{...jt(s),save:e}}});const sB={class:"feedback"};function nB(s,e,t,i,n,o){const r=we("ag-grid");return U(),te("div",sB,[le(r,{columnDefs:s.columnDefs,rowData:s.rowData,ref:"gridRef"},null,8,["columnDefs","rowData"])])}const ib=Ge(iB,[["render",nB],["__scopeId","data-v-8dd78847"]]),oB=Ae({name:"ActionItem",components:{Button:Ii,Input:ms},setup(){const s=yt({action:""}),e=()=>{};return{...jt(s),save:e}}}),rB={class:"container"};function lB(s,e,t,i,n,o){const r=we("Input"),l=we("Button");return U(),te("div",rB,[le(r,{modelValue:s.action,"onUpdate:modelValue":e[0]||(e[0]=a=>s.action=a),label:"title"},null,8,["modelValue"]),le(l,null,{default:qe(()=>[ct("Save")]),_:1})])}const aB=Ge(oB,[["render",lB]]),cB=Ae({name:"Reward",components:{Button:Ii},setup(){const s=rf();return{jumpToIndividual:()=>{s.push("/individual-reward")},jumpToTeam:()=>{s.push("/team-reward")}}}}),dB={class:"reward-container"};function uB(s,e,t,i,n,o){const r=we("Button");return U(),te("div",dB,[le(r,{onClick:s.jumpToTeam},{default:qe(()=>[ct("Team Award ")]),_:1},8,["onClick"]),le(r,{type:"blank",onClick:s.jumpToIndividual},{default:qe(()=>[ct("Individual Award")]),_:1},8,["onClick"])])}const hB=Ge(cB,[["render",uB]]),pB=Ae({components:{Tabs:Ll,Pane:Il,ManagerDiscussion:Qy,FeedBack:ib,Button:Ii},setup(){const s=yt({selectModel:"1",tabList:[{label:"Discussion",value:"1",components:"ManagerDiscussion"},{label:"Feedback",value:"2",components:"FeedBack"}]});return{...jt(s)}}});const fB=s=>(Ds("data-v-7669eb19"),s=s(),Os(),s),gB=fB(()=>M("div",{class:"title header"},"TeamMember",-1));function mB(s,e,t,i,n,o){const r=we("ManagerDiscussion"),l=we("pane"),a=we("FeedBack"),c=we("Tabs");return U(),te(Ue,null,[gB,M("main",null,[le(c,{modelValue:s.selectModel,"onUpdate:modelValue":e[0]||(e[0]=d=>s.selectModel=d)},{default:qe(()=>[le(l,{label:s.tabList[0].label,name:s.tabList[0].value},{default:qe(()=>[le(r,{type:1})]),_:1},8,["label","name"]),le(l,{label:s.tabList[1].label,name:s.tabList[1].value},{default:qe(()=>[le(a)]),_:1},8,["label","name"])]),_:1},8,["modelValue"])])],64)}const vB=Ge(pB,[["render",mB],["__scopeId","data-v-7669eb19"]]),CB=Ae({name:"ActionItem",components:{Button:Ii,Input:ms,DatePicker:Vn,AgGrid:dl},setup(){const s=yt({rowData:[],columnDefs:[{headerName:"Title",field:"title"},{headerName:"Content",field:"content"},{headerName:"DeadLine",field:"date"},{headerName:"Owner",field:"owner"}]}),e=yt({title:"",content:"",date:"",owner:""}),t=K();let i=[];const n=()=>{var r;i.push({...e}),console.log(i),(r=t.value)==null||r.gridApi.setRowData(i)},o=()=>{history.go(-1)};return{...jt(s),form:e,save:n,back:o,gridRef:t}}});const yB=s=>(Ds("data-v-3683d958"),s=s(),Os(),s),wB={class:"title"},SB={class:"btn-list"},bB={class:"container"},EB={class:"list"},RB=yB(()=>M("h3",{class:"title"},"List",-1));function TB(s,e,t,i,n,o){const r=we("Button"),l=we("Input"),a=we("DatePicker"),c=we("ag-grid");return U(),te(Ue,null,[M("div",wB,[ct(" Add meeting Actions "),M("div",SB,[le(r,{onClick:s.save},{default:qe(()=>[ct("Save")]),_:1},8,["onClick"]),le(r,{onClick:s.back,type:"blank"},{default:qe(()=>[ct("Back")]),_:1},8,["onClick"])])]),M("div",bB,[le(l,{modelValue:s.form.title,"onUpdate:modelValue":e[0]||(e[0]=d=>s.form.title=d),label:"Title"},null,8,["modelValue"]),le(l,{modelValue:s.form.content,"onUpdate:modelValue":e[1]||(e[1]=d=>s.form.content=d),label:"Content"},null,8,["modelValue"]),le(a,{label:"Dead line",modelValue:s.form.date,"onUpdate:modelValue":e[2]||(e[2]=d=>s.form.date=d)},null,8,["modelValue"]),le(l,{modelValue:s.form.owner,"onUpdate:modelValue":e[3]||(e[3]=d=>s.form.owner=d),label:"Owner"},null,8,["modelValue"])]),M("div",EB,[RB,le(c,{columnDefs:s.columnDefs,rowData:s.rowData,ref:"gridRef"},null,8,["columnDefs","rowData"])])],64)}const DB=Ge(CB,[["render",TB],["__scopeId","data-v-3683d958"]]),OB=Ae({components:{Tabs:Ll,Pane:Il,Button:Ii,ManagerDiscussion:Qy,FeedBack:ib,ActionItem:aB,Reward:hB},setup(){const s=yt({selectModel:"1",tabList:[{label:"Discussion",value:"1",components:"ManagerDiscussion"},{label:"Feedback",value:"2",components:"FeedBack"},{label:"R&R",value:"3",components:"Reward"}]});return{...jt(s)}}});const _B=s=>(Ds("data-v-2e282a70"),s=s(),Os(),s),PB=_B(()=>M("div",{class:"title header"},"Manager",-1));function AB(s,e,t,i,n,o){const r=we("pane"),l=we("Tabs");return U(),te(Ue,null,[PB,M("main",null,[le(l,{modelValue:s.selectModel,"onUpdate:modelValue":e[0]||(e[0]=a=>s.selectModel=a)},{default:qe(()=>[(U(!0),te(Ue,null,vi(s.tabList,(a,c)=>(U(),ot(r,{key:c,label:a.label,name:a.value},{default:qe(()=>[(U(),ot(_C(a.components)))]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"])])],64)}const FB=Ge(OB,[["render",AB],["__scopeId","data-v-2e282a70"]]),MB=Ae({components:{Input:ms,Select:wo,AgGrid:dl,Button:Ii,DatePicker:Vn},name:"Notes",setup(){const s=yt({optionList:["Sharing Gxd business","Training vue3","technology sharing","Monthly conclusion"],rowData:[],columnDefs:[{headerName:"Topic Name",field:"theme"},{headerName:"Feedback",field:"feedback"}]}),e=yt({theme:"",type:"",content:"",member:"",date:"",feedback:""}),t=K();let i=[];const n=()=>{var r;i.push({...e}),(r=t.value)==null||r.gridApi.setRowData(i)},o=()=>{history.go(-1)};return{...jt(s),form:e,save:n,gridRef:t,back:o}}});const LB=s=>(Ds("data-v-48b5544a"),s=s(),Os(),s),IB={class:"title"},NB={class:"btn-list"},xB={class:"form"},GB={class:"list"},VB=LB(()=>M("h3",{class:"title"},"History",-1));function HB(s,e,t,i,n,o){const r=we("Button"),l=we("Select"),a=we("ag-grid");return U(),te(Ue,null,[M("div",IB,[ct(" Feedback "),M("div",NB,[le(r,{onClick:s.save},{default:qe(()=>[ct("Save")]),_:1},8,["onClick"]),le(r,{onClick:s.back,type:"blank"},{default:qe(()=>[ct("Back")]),_:1},8,["onClick"])])]),M("div",xB,[le(l,{label:"Topic Name",modelValue:s.form.theme,"onUpdate:modelValue":e[0]||(e[0]=c=>s.form.theme=c),"option-list":s.optionList},null,8,["modelValue","option-list"])]),at(M("textarea",{name:"feedback","onUpdate:modelValue":e[1]||(e[1]=c=>s.form.feedback=c),cols:"80",rows:"6",class:"text-area"},null,512),[[Gc,s.form.feedback]]),M("div",GB,[VB,le(a,{columnDefs:s.columnDefs,rowData:s.rowData,ref:"gridRef"},null,8,["columnDefs","rowData"])])],64)}const kB=Ge(MB,[["render",HB],["__scopeId","data-v-48b5544a"]]),BB=Ae({components:{Input:ms,Select:wo,AgGrid:dl,Button:Ii,DatePicker:Vn},name:"Notes",setup(){const s=yt({optionList:["online","offline"],rowData:[],columnDefs:[{headerName:"Agenda",field:"theme"},{headerName:"Type",field:"type"},{headerName:"Attendes",field:"attendes"},{headerName:"Meeting Content",field:"content"},{headerName:"Meeting Date",field:"date"}]}),e=yt({theme:"",type:"",content:"",attendes:"",member:"",date:"",feedback:""}),t=K();let i=[];const n=()=>{var r;i.push({...e}),(r=t.value)==null||r.gridApi.setRowData(i)},o=()=>{history.go(-1)};return{...jt(s),form:e,save:n,gridRef:t,back:o}}});const $B=s=>(Ds("data-v-616ce15b"),s=s(),Os(),s),WB={class:"title"},UB={class:"btn-list"},jB={class:"form"},zB={class:"list"},KB=$B(()=>M("h3",{class:"title"},"History",-1));function YB(s,e,t,i,n,o){const r=we("Button"),l=we("Input"),a=we("Select"),c=we("DatePicker"),d=we("ag-grid");return U(),te(Ue,null,[M("div",WB,[ct(" Meeting information "),M("div",UB,[le(r,{onClick:s.save},{default:qe(()=>[ct("Save")]),_:1},8,["onClick"]),le(r,{onClick:s.back,type:"blank"},{default:qe(()=>[ct("Back")]),_:1},8,["onClick"])])]),M("div",jB,[le(l,{label:"Agenda",modelValue:s.form.theme,"onUpdate:modelValue":e[0]||(e[0]=u=>s.form.theme=u)},null,8,["modelValue"]),le(a,{label:"Type",modelValue:s.form.type,"onUpdate:modelValue":e[1]||(e[1]=u=>s.form.type=u),"option-list":s.optionList},null,8,["modelValue","option-list"]),le(l,{label:"Attendes",modelValue:s.form.attendes,"onUpdate:modelValue":e[2]||(e[2]=u=>s.form.attendes=u)},null,8,["modelValue"]),le(l,{label:"Meeting Content",modelValue:s.form.content,"onUpdate:modelValue":e[3]||(e[3]=u=>s.form.content=u)},null,8,["modelValue"]),le(c,{label:"Meeting Date",modelValue:s.form.date,"onUpdate:modelValue":e[4]||(e[4]=u=>s.form.date=u)},null,8,["modelValue"])]),M("div",zB,[KB,le(d,{columnDefs:s.columnDefs,rowData:s.rowData,ref:"gridRef"},null,8,["columnDefs","rowData"])])],64)}const qB=Ge(BB,[["render",YB],["__scopeId","data-v-616ce15b"]]),QB=Ae({components:{Input:ms,Select:wo,AgGrid:dl,Button:Ii,DatePicker:Vn},name:"Notes",setup(){const s=yt({optionList:["Project Completion Award","Best Project team award"],rowData:[],columnDefs:[{headerName:"Type",field:"type"},{headerName:"Description",field:"description"}]}),e=yt({description:"",type:""}),t=K();let i=[];const n=()=>{var r;i.push({...e}),(r=t.value)==null||r.gridApi.setRowData(i)},o=()=>{history.go(-1)};return{...jt(s),form:e,save:n,gridRef:t,back:o}}});const XB=s=>(Ds("data-v-1ca13600"),s=s(),Os(),s),JB={class:"title"},ZB={class:"btn-list"},e3={class:"form"},t3={class:"list"},i3=XB(()=>M("h3",{class:"title"},"List",-1));function s3(s,e,t,i,n,o){const r=we("Button"),l=we("Select"),a=we("Input"),c=we("ag-grid");return U(),te(Ue,null,[M("div",JB,[ct(" Base information "),M("div",ZB,[le(r,{onClick:s.save},{default:qe(()=>[ct("Save")]),_:1},8,["onClick"]),le(r,{onClick:s.back,type:"blank"},{default:qe(()=>[ct("Back")]),_:1},8,["onClick"])])]),M("div",e3,[le(l,{label:"Type",modelValue:s.form.type,"onUpdate:modelValue":e[0]||(e[0]=d=>s.form.type=d),"option-list":s.optionList},null,8,["modelValue","option-list"]),le(a,{label:"Description",modelValue:s.form.description,"onUpdate:modelValue":e[1]||(e[1]=d=>s.form.description=d)},null,8,["modelValue"])]),M("div",t3,[i3,le(c,{columnDefs:s.columnDefs,rowData:s.rowData,ref:"gridRef"},null,8,["columnDefs","rowData"])])],64)}const n3=Ge(QB,[["render",s3],["__scopeId","data-v-1ca13600"]]),o3=Ae({components:{Input:ms,Select:wo,AgGrid:dl,Button:Ii,DatePicker:Vn},name:"Notes",setup(){const s=yt({optionList:["Employee of the year","Titan of the month","Spotlight award","Customer appreciation award"],rowData:[],columnDefs:[{headerName:"Type",field:"type"},{headerName:"Description",field:"description"}]}),e=yt({description:"",type:""}),t=K();let i=[];const n=()=>{var r;i.push({...e}),(r=t.value)==null||r.gridApi.setRowData(i)},o=()=>{history.go(-1)};return{...jt(s),form:e,save:n,gridRef:t,back:o}}});const r3=s=>(Ds("data-v-0c1fbdb2"),s=s(),Os(),s),l3={class:"title"},a3={class:"btn-list"},c3={class:"form"},d3={class:"list"},u3=r3(()=>M("h3",{class:"title"},"List",-1));function h3(s,e,t,i,n,o){const r=we("Button"),l=we("Select"),a=we("Input"),c=we("ag-grid");return U(),te(Ue,null,[M("div",l3,[ct(" Base information "),M("div",a3,[le(r,{onClick:s.save},{default:qe(()=>[ct("Save")]),_:1},8,["onClick"]),le(r,{onClick:s.back,type:"blank"},{default:qe(()=>[ct("Back")]),_:1},8,["onClick"])])]),M("div",c3,[le(l,{label:"Type",modelValue:s.form.type,"onUpdate:modelValue":e[0]||(e[0]=d=>s.form.type=d),"option-list":s.optionList,class:"item"},null,8,["modelValue","option-list"]),le(a,{label:"Description",modelValue:s.form.description,"onUpdate:modelValue":e[1]||(e[1]=d=>s.form.description=d),class:"item"},null,8,["modelValue"])]),M("div",d3,[u3,le(c,{columnDefs:s.columnDefs,rowData:s.rowData,ref:"gridRef"},null,8,["columnDefs","rowData"])])],64)}const p3=Ge(o3,[["render",h3],["__scopeId","data-v-0c1fbdb2"]]),f3=$T({history:nT("/"),routes:[{path:"/",redirect:"/home"},{path:"/home",name:"Home",component:iD},{path:"/team-member",name:"TeamMember",component:vB},{path:"/action-page",name:"ActionPage",component:DB},{path:"/manager",name:"Manager",component:FB},{path:"/notes",name:"Notes",component:kB},{path:"/setup",name:"Setup",component:qB},{path:"/team-reward",name:"TeamReward",component:n3},{path:"/individual-reward",name:"IndividualReward",component:p3}]}),sb=HR(JT);sb.use(f3);sb.mount("#app");
